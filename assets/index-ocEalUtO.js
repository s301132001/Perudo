(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var md={exports:{}},hr={},hd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),Im=Symbol.for("react.portal"),wm=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),Nm=Symbol.for("react.provider"),xm=Symbol.for("react.context"),Pm=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),km=Symbol.for("react.memo"),Dm=Symbol.for("react.lazy"),Ra=Symbol.iterator;function Lm(e){return e===null||typeof e!="object"?null:(e=Ra&&e[Ra]||e["@@iterator"],typeof e=="function"?e:null)}var gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vd=Object.assign,yd={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=yd,this.updater=n||gd}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ed(){}Ed.prototype=Xn.prototype;function Tl(e,t,n){this.props=e,this.context=t,this.refs=yd,this.updater=n||gd}var Cl=Tl.prototype=new Ed;Cl.constructor=Tl;vd(Cl,Xn.prototype);Cl.isPureReactComponent=!0;var Na=Array.isArray,_d=Object.prototype.hasOwnProperty,Il={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Td(e,t,n){var o,i={},r=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(r=""+t.key),t)_d.call(t,o)&&!Sd.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:Ko,type:e,key:r,ref:s,props:i,_owner:Il.current}}function Um(e,t){return{$$typeof:Ko,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ko}function Fm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xa=/\/+/g;function Gr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fm(""+e.key):t.toString(36)}function wi(e,t,n,o,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ko:case Im:s=!0}}if(s)return s=e,i=i(s),e=o===""?"."+Gr(s,0):o,Na(i)?(n="",e!=null&&(n=e.replace(xa,"$&/")+"/"),wi(i,t,n,"",function(d){return d})):i!=null&&(wl(i)&&(i=Um(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xa,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=o===""?".":o+":",Na(e))for(var u=0;u<e.length;u++){r=e[u];var c=o+Gr(r,u);s+=wi(r,t,n,c,i)}else if(c=Lm(e),typeof c=="function")for(e=c.call(e),u=0;!(r=e.next()).done;)r=r.value,c=o+Gr(r,u++),s+=wi(r,t,n,c,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ei(e,t,n){if(e==null)return e;var o=[],i=0;return wi(e,o,"","",function(r){return t.call(n,r,i++)}),o}function Vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},Ai={transition:null},Gm={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ai,ReactCurrentOwner:Il};function Cd(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:ei,forEach:function(e,t,n){ei(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ei(e,function(){t++}),t},toArray:function(e){return ei(e,function(t){return t})||[]},only:function(e){if(!wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Xn;q.Fragment=wm;q.Profiler=Rm;q.PureComponent=Tl;q.StrictMode=Am;q.Suspense=Mm;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;q.act=Cd;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=vd({},e.props),i=e.key,r=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,s=Il.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_d.call(t,c)&&!Sd.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Ko,type:e.type,key:i,ref:r,props:o,_owner:s}};q.createContext=function(e){return e={$$typeof:xm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nm,_context:e},e.Consumer=e};q.createElement=Td;q.createFactory=function(e){var t=Td.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Pm,render:e}};q.isValidElement=wl;q.lazy=function(e){return{$$typeof:Dm,_payload:{_status:-1,_result:e},_init:Vm}};q.memo=function(e,t){return{$$typeof:km,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Ai.transition;Ai.transition={};try{e()}finally{Ai.transition=t}};q.unstable_act=Cd;q.useCallback=function(e,t){return Pe.current.useCallback(e,t)};q.useContext=function(e){return Pe.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};q.useEffect=function(e,t){return Pe.current.useEffect(e,t)};q.useId=function(){return Pe.current.useId()};q.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Pe.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};q.useRef=function(e){return Pe.current.useRef(e)};q.useState=function(e){return Pe.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Pe.current.useTransition()};q.version="18.3.1";hd.exports=q;var O=hd.exports;const Hm=Cm(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=O,qm=Symbol.for("react.element"),$m=Symbol.for("react.fragment"),Om=Object.prototype.hasOwnProperty,zm=Bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jm={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var o,i={},r=null,s=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)Om.call(t,o)&&!Jm.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)i[o]===void 0&&(i[o]=t[o]);return{$$typeof:qm,type:e,key:r,ref:s,props:i,_owner:zm.current}}hr.Fragment=$m;hr.jsx=Id;hr.jsxs=Id;md.exports=hr;var I=md.exports,ms={},wd={exports:{}},$e={},Ad={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var H=M.length;M.push(F);e:for(;0<H;){var j=H-1>>>1,le=M[j];if(0<i(le,F))M[j]=F,M[H]=le,H=j;else break e}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var F=M[0],H=M.pop();if(H!==F){M[0]=H;e:for(var j=0,le=M.length,Dt=le>>>1;j<Dt;){var we=2*(j+1)-1,no=M[we],je=we+1,ct=M[je];if(0>i(no,H))je<le&&0>i(ct,no)?(M[j]=ct,M[je]=H,j=je):(M[j]=no,M[we]=H,j=we);else if(je<le&&0>i(ct,H))M[j]=ct,M[je]=H,j=je;else break e}}return F}function i(M,F){var H=M.sortIndex-F.sortIndex;return H!==0?H:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],f=1,m=null,p=3,h=!1,E=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var F=n(d);F!==null;){if(F.callback===null)o(d);else if(F.startTime<=M)o(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function T(M){if(_=!1,y(M),!E)if(n(c)!==null)E=!0,Mt(S);else{var F=n(d);F!==null&&kt(T,F.startTime-M)}}function S(M,F){E=!1,_&&(_=!1,v(x),x=-1),h=!0;var H=p;try{for(y(F),m=n(c);m!==null&&(!(m.expirationTime>F)||M&&!$());){var j=m.callback;if(typeof j=="function"){m.callback=null,p=m.priorityLevel;var le=j(m.expirationTime<=F);F=e.unstable_now(),typeof le=="function"?m.callback=le:m===n(c)&&o(c),y(F)}else o(c);m=n(c)}if(m!==null)var Dt=!0;else{var we=n(d);we!==null&&kt(T,we.startTime-F),Dt=!1}return Dt}finally{m=null,p=H,h=!1}}var R=!1,A=null,x=-1,P=5,k=-1;function $(){return!(e.unstable_now()-k<P)}function oe(){if(A!==null){var M=e.unstable_now();k=M;var F=!0;try{F=A(!0,M)}finally{F?Q():(R=!1,A=null)}}else R=!1}var Q;if(typeof g=="function")Q=function(){g(oe)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ze=ie.port2;ie.port1.onmessage=oe,Q=function(){ze.postMessage(null)}}else Q=function(){C(oe,0)};function Mt(M){A=M,R||(R=!0,Q())}function kt(M,F){x=C(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){E||h||(E=!0,Mt(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return M()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=p;p=M;try{return F()}finally{p=H}},e.unstable_scheduleCallback=function(M,F,H){var j=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,M){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=H+le,M={id:f++,callback:F,priorityLevel:M,startTime:H,expirationTime:le,sortIndex:-1},H>j?(M.sortIndex=H,t(d,M),n(c)===null&&M===n(d)&&(_?(v(x),x=-1):_=!0,kt(T,H-j))):(M.sortIndex=le,t(c,M),E||h||(E=!0,Mt(S))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var F=p;return function(){var H=p;p=F;try{return M.apply(this,arguments)}finally{p=H}}}})(Rd);Ad.exports=Rd;var Wm=Ad.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=O,qe=Wm;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nd=new Set,Po={};function gn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Po[e]=t,e=0;e<t.length;e++)Nd.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=Object.prototype.hasOwnProperty,Km=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pa={},Ma={};function Qm(e){return hs.call(Ma,e)?!0:hs.call(Pa,e)?!1:Km.test(e)?Ma[e]=!0:(Pa[e]=!0,!1)}function Xm(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bm(e,t,n,o){if(t===null||typeof t>"u"||Xm(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,o,i,r,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Al=/[\-:]([a-z])/g;function Rl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Al,Rl);ge[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Al,Rl);ge[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Al,Rl);ge[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nl(e,t,n,o){var i=ge.hasOwnProperty(t)?ge[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bm(t,n,i,o)&&(n=null),o||i===null?Qm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,o=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Nt=Ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),gs=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),vs=Symbol.for("react.suspense"),ys=Symbol.for("react.suspense_list"),Ml=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Md=Symbol.for("react.offscreen"),ka=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Hr;function go(e){if(Hr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hr=t&&t[1]||""}return`
`+Hr+e}var Br=!1;function qr(e,t){if(!e||Br)return"";Br=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var o=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){o=d}e.call(t.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),r=o.stack.split(`
`),s=i.length-1,u=r.length-1;1<=s&&0<=u&&i[s]!==r[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==r[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==r[u]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{Br=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?go(e):""}function Zm(e){switch(e.tag){case 5:return go(e.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return e=qr(e.type,!1),e;case 11:return e=qr(e.type.render,!1),e;case 1:return e=qr(e.type,!0),e;default:return""}}function Es(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tn:return"Fragment";case Sn:return"Portal";case gs:return"Profiler";case xl:return"StrictMode";case vs:return"Suspense";case ys:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pd:return(e.displayName||"Context")+".Consumer";case xd:return(e._context.displayName||"Context")+".Provider";case Pl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ml:return t=e.displayName||null,t!==null?t:Es(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Es(e(t))}catch{}}return null}function jm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Es(t);case 8:return t===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eh(e){var t=kd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ni(e){e._valueTracker||(e._valueTracker=eh(e))}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=kd(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _s(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Da(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Xt(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ld(e,t){t=t.checked,t!=null&&Nl(e,"checked",t,!1)}function Ss(e,t){Ld(e,t);var n=Xt(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ts(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ts(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function La(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ts(e,t,n){(t!=="number"||Hi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vo=Array.isArray;function Un(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Cs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(vo(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xt(n)}}function Ud(e,t){var n=Xt(t.value),o=Xt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Fa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Is(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,Vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},th=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){th.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function Gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function Hd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=Gd(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}var nh=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ws(e,t){if(t){if(nh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function As(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,Fn=null,Vn=null;function Va(e){if(e=bo(e)){if(typeof Ns!="function")throw Error(N(280));var t=e.stateNode;t&&(t=_r(t),Ns(e.stateNode,e.type,t))}}function Bd(e){Fn?Vn?Vn.push(e):Vn=[e]:Fn=e}function qd(){if(Fn){var e=Fn,t=Vn;if(Vn=Fn=null,Va(e),t)for(e=0;e<t.length;e++)Va(t[e])}}function $d(e,t){return e(t)}function Od(){}var $r=!1;function zd(e,t,n){if($r)return e(t,n);$r=!0;try{return $d(e,t,n)}finally{$r=!1,(Fn!==null||Vn!==null)&&(Od(),qd())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var o=_r(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var xs=!1;if(Ct)try{var so={};Object.defineProperty(so,"passive",{get:function(){xs=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{xs=!1}function oh(e,t,n,o,i,r,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var To=!1,Bi=null,qi=!1,Ps=null,ih={onError:function(e){To=!0,Bi=e}};function rh(e,t,n,o,i,r,s,u,c){To=!1,Bi=null,oh.apply(ih,arguments)}function sh(e,t,n,o,i,r,s,u,c){if(rh.apply(this,arguments),To){if(To){var d=Bi;To=!1,Bi=null}else throw Error(N(198));qi||(qi=!0,Ps=d)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ga(e){if(vn(e)!==e)throw Error(N(188))}function lh(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Ga(i),e;if(r===o)return Ga(i),t;r=r.sibling}throw Error(N(188))}if(n.return!==o.return)n=i,o=r;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,o=r;break}if(u===o){s=!0,o=i,n=r;break}u=u.sibling}if(!s){for(u=r.child;u;){if(u===n){s=!0,n=r,o=i;break}if(u===o){s=!0,o=r,n=i;break}u=u.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==o)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Wd(e){return e=lh(e),e!==null?Yd(e):null}function Yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yd(e);if(t!==null)return t;e=e.sibling}return null}var Kd=qe.unstable_scheduleCallback,Ha=qe.unstable_cancelCallback,ah=qe.unstable_shouldYield,uh=qe.unstable_requestPaint,se=qe.unstable_now,ch=qe.unstable_getCurrentPriorityLevel,Dl=qe.unstable_ImmediatePriority,Qd=qe.unstable_UserBlockingPriority,$i=qe.unstable_NormalPriority,dh=qe.unstable_LowPriority,Xd=qe.unstable_IdlePriority,gr=null,ht=null;function fh(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(gr,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:hh,ph=Math.log,mh=Math.LN2;function hh(e){return e>>>=0,e===0?32:31-(ph(e)/mh|0)|0}var ii=64,ri=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,i=e.suspendedLanes,r=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?o=yo(u):(r&=s,r!==0&&(o=yo(r)))}else s=n&~i,s!==0?o=yo(s):r!==0&&(o=yo(r));if(o===0)return 0;if(t!==0&&t!==o&&!(t&i)&&(i=o&-o,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-it(t),i=1<<n,o|=e[n],t&=~i;return o}function gh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vh(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-it(r),u=1<<s,c=i[s];c===-1?(!(u&n)||u&o)&&(i[s]=gh(u,t)):c<=t&&(e.expiredLanes|=u),r&=~u}}function Ms(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bd(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function Or(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function yh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-it(n),r=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~r}}function Ll(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-it(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var Y=0;function Zd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jd,Ul,ef,tf,nf,ks=!1,si=[],$t=null,Ot=null,zt=null,Do=new Map,Lo=new Map,Gt=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function lo(e,t,n,o,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},t!==null&&(t=bo(t),t!==null&&Ul(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _h(e,t,n,o,i){switch(t){case"focusin":return $t=lo($t,e,t,n,o,i),!0;case"dragenter":return Ot=lo(Ot,e,t,n,o,i),!0;case"mouseover":return zt=lo(zt,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return Do.set(r,lo(Do.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Lo.set(r,lo(Lo.get(r)||null,e,t,n,o,i)),!0}return!1}function of(e){var t=sn(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Jd(n),t!==null){e.blockedOn=t,nf(e.priority,function(){ef(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Rs=o,n.target.dispatchEvent(o),Rs=null}else return t=bo(n),t!==null&&Ul(t),e.blockedOn=n,!1;t.shift()}return!0}function qa(e,t,n){Ri(e)&&n.delete(t)}function Sh(){ks=!1,$t!==null&&Ri($t)&&($t=null),Ot!==null&&Ri(Ot)&&(Ot=null),zt!==null&&Ri(zt)&&(zt=null),Do.forEach(qa),Lo.forEach(qa)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,ks||(ks=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Sh)))}function Uo(e){function t(i){return ao(i,e)}if(0<si.length){ao(si[0],e);for(var n=1;n<si.length;n++){var o=si[n];o.blockedOn===e&&(o.blockedOn=null)}}for($t!==null&&ao($t,e),Ot!==null&&ao(Ot,e),zt!==null&&ao(zt,e),Do.forEach(t),Lo.forEach(t),n=0;n<Gt.length;n++)o=Gt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)of(n),n.blockedOn===null&&Gt.shift()}var Gn=Nt.ReactCurrentBatchConfig,zi=!0;function Th(e,t,n,o){var i=Y,r=Gn.transition;Gn.transition=null;try{Y=1,Fl(e,t,n,o)}finally{Y=i,Gn.transition=r}}function Ch(e,t,n,o){var i=Y,r=Gn.transition;Gn.transition=null;try{Y=4,Fl(e,t,n,o)}finally{Y=i,Gn.transition=r}}function Fl(e,t,n,o){if(zi){var i=Ds(e,t,n,o);if(i===null)jr(e,t,o,Ji,n),Ba(e,o);else if(_h(i,e,t,n,o))o.stopPropagation();else if(Ba(e,o),t&4&&-1<Eh.indexOf(e)){for(;i!==null;){var r=bo(i);if(r!==null&&jd(r),r=Ds(e,t,n,o),r===null&&jr(e,t,o,Ji,n),r===i)break;i=r}i!==null&&o.stopPropagation()}else jr(e,t,o,null,n)}}var Ji=null;function Ds(e,t,n,o){if(Ji=null,e=kl(o),e=sn(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ji=e,null}function rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ch()){case Dl:return 1;case Qd:return 4;case $i:case dh:return 16;case Xd:return 536870912;default:return 16}default:return 16}}var Bt=null,Vl=null,Ni=null;function sf(){if(Ni)return Ni;var e,t=Vl,n=t.length,o,i="value"in Bt?Bt.value:Bt.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===i[r-o];o++);return Ni=i.slice(e,1<o?1-o:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function $a(){return!1}function Oe(e){function t(n,o,i,r,s){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?li:$a,this.isPropagationStopped=$a,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Oe(bn),Xo=ne({},bn,{view:0,detail:0}),Ih=Oe(Xo),zr,Jr,uo,vr=ne({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(zr=e.screenX-uo.screenX,Jr=e.screenY-uo.screenY):Jr=zr=0,uo=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:Jr}}),Oa=Oe(vr),wh=ne({},vr,{dataTransfer:0}),Ah=Oe(wh),Rh=ne({},Xo,{relatedTarget:0}),Wr=Oe(Rh),Nh=ne({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),xh=Oe(Nh),Ph=ne({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mh=Oe(Ph),kh=ne({},bn,{data:0}),za=Oe(kh),Dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uh[e])?!!t[e]:!1}function Hl(){return Fh}var Vh=ne({},Xo,{key:function(e){if(e.key){var t=Dh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=Oe(Vh),Hh=ne({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=Oe(Hh),Bh=ne({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),qh=Oe(Bh),$h=ne({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oh=Oe($h),zh=ne({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jh=Oe(zh),Wh=[9,13,27,32],Bl=Ct&&"CompositionEvent"in window,Co=null;Ct&&"documentMode"in document&&(Co=document.documentMode);var Yh=Ct&&"TextEvent"in window&&!Co,lf=Ct&&(!Bl||Co&&8<Co&&11>=Co),Wa=" ",Ya=!1;function af(e,t){switch(e){case"keyup":return Wh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Kh(e,t){switch(e){case"compositionend":return uf(t);case"keypress":return t.which!==32?null:(Ya=!0,Wa);case"textInput":return e=t.data,e===Wa&&Ya?null:e;default:return null}}function Qh(e,t){if(Cn)return e==="compositionend"||!Bl&&af(e,t)?(e=sf(),Ni=Vl=Bt=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lf&&t.locale!=="ko"?null:t.data;default:return null}}var Xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xh[e.type]:t==="textarea"}function cf(e,t,n,o){Bd(o),t=Wi(t,"onChange"),0<t.length&&(n=new Gl("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Io=null,Fo=null;function bh(e){Sf(e,0)}function yr(e){var t=An(e);if(Dd(t))return e}function Zh(e,t){if(e==="change")return t}var df=!1;if(Ct){var Yr;if(Ct){var Kr="oninput"in document;if(!Kr){var Qa=document.createElement("div");Qa.setAttribute("oninput","return;"),Kr=typeof Qa.oninput=="function"}Yr=Kr}else Yr=!1;df=Yr&&(!document.documentMode||9<document.documentMode)}function Xa(){Io&&(Io.detachEvent("onpropertychange",ff),Fo=Io=null)}function ff(e){if(e.propertyName==="value"&&yr(Fo)){var t=[];cf(t,Fo,e,kl(e)),zd(bh,t)}}function jh(e,t,n){e==="focusin"?(Xa(),Io=t,Fo=n,Io.attachEvent("onpropertychange",ff)):e==="focusout"&&Xa()}function eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yr(Fo)}function tg(e,t){if(e==="click")return yr(t)}function ng(e,t){if(e==="input"||e==="change")return yr(t)}function og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:og;function Vo(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!hs.call(t,i)||!at(e[i],t[i]))return!1}return!0}function ba(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Za(e,t){var n=ba(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ba(n)}}function pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mf(){for(var e=window,t=Hi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hi(e.document)}return t}function ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ig(e){var t=mf(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pf(n.ownerDocument.documentElement,n)){if(o!==null&&ql(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!e.extend&&r>o&&(i=o,o=r,r=i),i=Za(n,r);var s=Za(n,o);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rg=Ct&&"documentMode"in document&&11>=document.documentMode,In=null,Ls=null,wo=null,Us=!1;function ja(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Us||In==null||In!==Hi(o)||(o=In,"selectionStart"in o&&ql(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&Vo(wo,o)||(wo=o,o=Wi(Ls,"onSelect"),0<o.length&&(t=new Gl("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=In)))}function ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},Qr={},hf={};Ct&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function Er(e){if(Qr[e])return Qr[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hf)return Qr[e]=t[n];return e}var gf=Er("animationend"),vf=Er("animationiteration"),yf=Er("animationstart"),Ef=Er("transitionend"),_f=new Map,eu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){_f.set(e,t),gn(t,[e])}for(var Xr=0;Xr<eu.length;Xr++){var br=eu[Xr],sg=br.toLowerCase(),lg=br[0].toUpperCase()+br.slice(1);Zt(sg,"on"+lg)}Zt(gf,"onAnimationEnd");Zt(vf,"onAnimationIteration");Zt(yf,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Ef,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ag=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function tu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,sh(o,t,void 0,e),e.currentTarget=null}function Sf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var s=o.length-1;0<=s;s--){var u=o[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==r&&i.isPropagationStopped())break e;tu(i,u,d),r=c}else for(s=0;s<o.length;s++){if(u=o[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==r&&i.isPropagationStopped())break e;tu(i,u,d),r=c}}}if(qi)throw e=Ps,qi=!1,Ps=null,e}function X(e,t){var n=t[Bs];n===void 0&&(n=t[Bs]=new Set);var o=e+"__bubble";n.has(o)||(Tf(t,e,2,!1),n.add(o))}function Zr(e,t,n){var o=0;t&&(o|=4),Tf(n,e,o,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[ui]){e[ui]=!0,Nd.forEach(function(n){n!=="selectionchange"&&(ag.has(n)||Zr(n,!1,e),Zr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,Zr("selectionchange",!1,t))}}function Tf(e,t,n,o){switch(rf(t)){case 1:var i=Th;break;case 4:i=Ch;break;default:i=Fl}n=i.bind(null,t,n,e),i=void 0,!xs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,o,i){var r=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=o.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;u!==null;){if(s=sn(u),s===null)return;if(c=s.tag,c===5||c===6){o=r=s;continue e}u=u.parentNode}}o=o.return}zd(function(){var d=r,f=kl(n),m=[];e:{var p=_f.get(e);if(p!==void 0){var h=Gl,E=e;switch(e){case"keypress":if(xi(n)===0)break e;case"keydown":case"keyup":h=Gh;break;case"focusin":E="focus",h=Wr;break;case"focusout":E="blur",h=Wr;break;case"beforeblur":case"afterblur":h=Wr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=qh;break;case gf:case vf:case yf:h=xh;break;case Ef:h=Oh;break;case"scroll":h=Ih;break;case"wheel":h=Jh;break;case"copy":case"cut":case"paste":h=Mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ja}var _=(t&4)!==0,C=!_&&e==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var g=d,y;g!==null;){y=g;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,v!==null&&(T=ko(g,v),T!=null&&_.push(Ho(g,T,y)))),C)break;g=g.return}0<_.length&&(p=new h(p,E,null,n,f),m.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Rs&&(E=n.relatedTarget||n.fromElement)&&(sn(E)||E[It]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=d,E=E?sn(E):null,E!==null&&(C=vn(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=d),h!==E)){if(_=Oa,T="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=Ja,T="onPointerLeave",v="onPointerEnter",g="pointer"),C=h==null?p:An(h),y=E==null?p:An(E),p=new _(T,g+"leave",h,n,f),p.target=C,p.relatedTarget=y,T=null,sn(f)===d&&(_=new _(v,g+"enter",E,n,f),_.target=y,_.relatedTarget=C,T=_),C=T,h&&E)t:{for(_=h,v=E,g=0,y=_;y;y=En(y))g++;for(y=0,T=v;T;T=En(T))y++;for(;0<g-y;)_=En(_),g--;for(;0<y-g;)v=En(v),y--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=En(_),v=En(v)}_=null}else _=null;h!==null&&nu(m,p,h,_,!1),E!==null&&C!==null&&nu(m,C,E,_,!0)}}e:{if(p=d?An(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=Zh;else if(Ka(p))if(df)S=ng;else{S=eg;var R=jh}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=tg);if(S&&(S=S(e,d))){cf(m,S,n,f);break e}R&&R(e,p,d),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Ts(p,"number",p.value)}switch(R=d?An(d):window,e){case"focusin":(Ka(R)||R.contentEditable==="true")&&(In=R,Ls=d,wo=null);break;case"focusout":wo=Ls=In=null;break;case"mousedown":Us=!0;break;case"contextmenu":case"mouseup":case"dragend":Us=!1,ja(m,n,f);break;case"selectionchange":if(rg)break;case"keydown":case"keyup":ja(m,n,f)}var A;if(Bl)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Cn?af(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(lf&&n.locale!=="ko"&&(Cn||x!=="onCompositionStart"?x==="onCompositionEnd"&&Cn&&(A=sf()):(Bt=f,Vl="value"in Bt?Bt.value:Bt.textContent,Cn=!0)),R=Wi(d,x),0<R.length&&(x=new za(x,e,null,n,f),m.push({event:x,listeners:R}),A?x.data=A:(A=uf(n),A!==null&&(x.data=A)))),(A=Yh?Kh(e,n):Qh(e,n))&&(d=Wi(d,"onBeforeInput"),0<d.length&&(f=new za("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=A))}Sf(m,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",o=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=ko(e,n),r!=null&&o.unshift(Ho(e,r,i)),r=ko(e,t),r!=null&&o.push(Ho(e,r,i))),e=e.return}return o}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nu(e,t,n,o,i){for(var r=t._reactName,s=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,i?(c=ko(n,r),c!=null&&s.unshift(Ho(n,c,u))):i||(c=ko(n,r),c!=null&&s.push(Ho(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ug=/\r\n?/g,cg=/\u0000|\uFFFD/g;function ou(e){return(typeof e=="string"?e:""+e).replace(ug,`
`).replace(cg,"")}function ci(e,t,n){if(t=ou(t),ou(e)!==t&&n)throw Error(N(425))}function Yi(){}var Fs=null,Vs=null;function Gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hs=typeof setTimeout=="function"?setTimeout:void 0,dg=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(e){return iu.resolve(null).then(e).catch(pg)}:Hs;function pg(e){setTimeout(function(){throw e})}function es(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){e.removeChild(i),Uo(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);Uo(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Zn,Bo="__reactProps$"+Zn,It="__reactContainer$"+Zn,Bs="__reactEvents$"+Zn,mg="__reactListeners$"+Zn,hg="__reactHandles$"+Zn;function sn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ru(e);e!==null;){if(n=e[mt])return n;e=ru(e)}return t}e=n,n=e.parentNode}return null}function bo(e){return e=e[mt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function _r(e){return e[Bo]||null}var qs=[],Rn=-1;function jt(e){return{current:e}}function b(e){0>Rn||(e.current=qs[Rn],qs[Rn]=null,Rn--)}function K(e,t){Rn++,qs[Rn]=e.current,e.current=t}var bt={},Ie=jt(bt),Le=jt(!1),dn=bt;function zn(e,t){var n=e.type.contextTypes;if(!n)return bt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=t[r];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ue(e){return e=e.childContextTypes,e!=null}function Ki(){b(Le),b(Ie)}function su(e,t,n){if(Ie.current!==bt)throw Error(N(168));K(Ie,t),K(Le,n)}function Cf(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(N(108,jm(e)||"Unknown",i));return ne({},n,o)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bt,dn=Ie.current,K(Ie,e),K(Le,Le.current),!0}function lu(e,t,n){var o=e.stateNode;if(!o)throw Error(N(169));n?(e=Cf(e,t,dn),o.__reactInternalMemoizedMergedChildContext=e,b(Le),b(Ie),K(Ie,e)):b(Le),K(Le,n)}var Et=null,Sr=!1,ts=!1;function If(e){Et===null?Et=[e]:Et.push(e)}function gg(e){Sr=!0,If(e)}function en(){if(!ts&&Et!==null){ts=!0;var e=0,t=Y;try{var n=Et;for(Y=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Et=null,Sr=!1}catch(i){throw Et!==null&&(Et=Et.slice(e+1)),Kd(Dl,en),i}finally{Y=t,ts=!1}}return null}var Nn=[],xn=0,Xi=null,bi=0,Je=[],We=0,fn=null,_t=1,St="";function nn(e,t){Nn[xn++]=bi,Nn[xn++]=Xi,Xi=e,bi=t}function wf(e,t,n){Je[We++]=_t,Je[We++]=St,Je[We++]=fn,fn=e;var o=_t;e=St;var i=32-it(o)-1;o&=~(1<<i),n+=1;var r=32-it(t)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,_t=1<<32-it(t)+i|n<<i|o,St=r+e}else _t=1<<r|n<<i|o,St=e}function $l(e){e.return!==null&&(nn(e,1),wf(e,1,0))}function Ol(e){for(;e===Xi;)Xi=Nn[--xn],Nn[xn]=null,bi=Nn[--xn],Nn[xn]=null;for(;e===fn;)fn=Je[--We],Je[We]=null,St=Je[--We],Je[We]=null,_t=Je[--We],Je[We]=null}var Be=null,He=null,Z=!1,ot=null;function Af(e,t){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function au(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,He=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:_t,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,He=null,!0):!1;default:return!1}}function $s(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Os(e){if(Z){var t=He;if(t){var n=t;if(!au(e,t)){if($s(e))throw Error(N(418));t=Jt(n.nextSibling);var o=Be;t&&au(e,t)?Af(o,n):(e.flags=e.flags&-4097|2,Z=!1,Be=e)}}else{if($s(e))throw Error(N(418));e.flags=e.flags&-4097|2,Z=!1,Be=e}}}function uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function di(e){if(e!==Be)return!1;if(!Z)return uu(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gs(e.type,e.memoizedProps)),t&&(t=He)){if($s(e))throw Rf(),Error(N(418));for(;t;)Af(e,t),t=Jt(t.nextSibling)}if(uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=Be?Jt(e.stateNode.nextSibling):null;return!0}function Rf(){for(var e=He;e;)e=Jt(e.nextSibling)}function Jn(){He=Be=null,Z=!1}function zl(e){ot===null?ot=[e]:ot.push(e)}var vg=Nt.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var o=n.stateNode}if(!o)throw Error(N(147,e));var i=o,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(s){var u=i.refs;s===null?delete u[r]:u[r]=s},t._stringRef=r,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function fi(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cu(e){var t=e._init;return t(e._payload)}function Nf(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=Qt(v,g),v.index=0,v.sibling=null,v}function r(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,g,y,T){return g===null||g.tag!==6?(g=as(y,v.mode,T),g.return=v,g):(g=i(g,y),g.return=v,g)}function c(v,g,y,T){var S=y.type;return S===Tn?f(v,g,y.props.children,T,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&cu(S)===g.type)?(T=i(g,y.props),T.ref=co(v,g,y),T.return=v,T):(T=Fi(y.type,y.key,y.props,null,v.mode,T),T.ref=co(v,g,y),T.return=v,T)}function d(v,g,y,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=us(y,v.mode,T),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function f(v,g,y,T,S){return g===null||g.tag!==7?(g=cn(y,v.mode,T,S),g.return=v,g):(g=i(g,y),g.return=v,g)}function m(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=as(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:return y=Fi(g.type,g.key,g.props,null,v.mode,y),y.ref=co(v,null,g),y.return=v,y;case Sn:return g=us(g,v.mode,y),g.return=v,g;case Ut:var T=g._init;return m(v,T(g._payload),y)}if(vo(g)||ro(g))return g=cn(g,v.mode,y,null),g.return=v,g;fi(v,g)}return null}function p(v,g,y,T){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:u(v,g,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ti:return y.key===S?c(v,g,y,T):null;case Sn:return y.key===S?d(v,g,y,T):null;case Ut:return S=y._init,p(v,g,S(y._payload),T)}if(vo(y)||ro(y))return S!==null?null:f(v,g,y,T,null);fi(v,y)}return null}function h(v,g,y,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(y)||null,u(g,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ti:return v=v.get(T.key===null?y:T.key)||null,c(g,v,T,S);case Sn:return v=v.get(T.key===null?y:T.key)||null,d(g,v,T,S);case Ut:var R=T._init;return h(v,g,y,R(T._payload),S)}if(vo(T)||ro(T))return v=v.get(y)||null,f(g,v,T,S,null);fi(g,T)}return null}function E(v,g,y,T){for(var S=null,R=null,A=g,x=g=0,P=null;A!==null&&x<y.length;x++){A.index>x?(P=A,A=null):P=A.sibling;var k=p(v,A,y[x],T);if(k===null){A===null&&(A=P);break}e&&A&&k.alternate===null&&t(v,A),g=r(k,g,x),R===null?S=k:R.sibling=k,R=k,A=P}if(x===y.length)return n(v,A),Z&&nn(v,x),S;if(A===null){for(;x<y.length;x++)A=m(v,y[x],T),A!==null&&(g=r(A,g,x),R===null?S=A:R.sibling=A,R=A);return Z&&nn(v,x),S}for(A=o(v,A);x<y.length;x++)P=h(A,v,x,y[x],T),P!==null&&(e&&P.alternate!==null&&A.delete(P.key===null?x:P.key),g=r(P,g,x),R===null?S=P:R.sibling=P,R=P);return e&&A.forEach(function($){return t(v,$)}),Z&&nn(v,x),S}function _(v,g,y,T){var S=ro(y);if(typeof S!="function")throw Error(N(150));if(y=S.call(y),y==null)throw Error(N(151));for(var R=S=null,A=g,x=g=0,P=null,k=y.next();A!==null&&!k.done;x++,k=y.next()){A.index>x?(P=A,A=null):P=A.sibling;var $=p(v,A,k.value,T);if($===null){A===null&&(A=P);break}e&&A&&$.alternate===null&&t(v,A),g=r($,g,x),R===null?S=$:R.sibling=$,R=$,A=P}if(k.done)return n(v,A),Z&&nn(v,x),S;if(A===null){for(;!k.done;x++,k=y.next())k=m(v,k.value,T),k!==null&&(g=r(k,g,x),R===null?S=k:R.sibling=k,R=k);return Z&&nn(v,x),S}for(A=o(v,A);!k.done;x++,k=y.next())k=h(A,v,x,k.value,T),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?x:k.key),g=r(k,g,x),R===null?S=k:R.sibling=k,R=k);return e&&A.forEach(function(oe){return t(v,oe)}),Z&&nn(v,x),S}function C(v,g,y,T){if(typeof y=="object"&&y!==null&&y.type===Tn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ti:e:{for(var S=y.key,R=g;R!==null;){if(R.key===S){if(S=y.type,S===Tn){if(R.tag===7){n(v,R.sibling),g=i(R,y.props.children),g.return=v,v=g;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&cu(S)===R.type){n(v,R.sibling),g=i(R,y.props),g.ref=co(v,R,y),g.return=v,v=g;break e}n(v,R);break}else t(v,R);R=R.sibling}y.type===Tn?(g=cn(y.props.children,v.mode,T,y.key),g.return=v,v=g):(T=Fi(y.type,y.key,y.props,null,v.mode,T),T.ref=co(v,g,y),T.return=v,v=T)}return s(v);case Sn:e:{for(R=y.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=i(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=us(y,v.mode,T),g.return=v,v=g}return s(v);case Ut:return R=y._init,C(v,g,R(y._payload),T)}if(vo(y))return E(v,g,y,T);if(ro(y))return _(v,g,y,T);fi(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,y),g.return=v,v=g):(n(v,g),g=as(y,v.mode,T),g.return=v,v=g),s(v)):n(v,g)}return C}var Wn=Nf(!0),xf=Nf(!1),Zi=jt(null),ji=null,Pn=null,Jl=null;function Wl(){Jl=Pn=ji=null}function Yl(e){var t=Zi.current;b(Zi),e._currentValue=t}function zs(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Hn(e,t){ji=e,Jl=Pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(Jl!==e)if(e={context:e,memoizedValue:t,next:null},Pn===null){if(ji===null)throw Error(N(308));Pn=e,ji.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return t}var ln=null;function Kl(e){ln===null?ln=[e]:ln.push(e)}function Pf(e,t,n,o){var i=t.interleaved;return i===null?(n.next=n,Kl(t)):(n.next=i.next,i.next=n),t.interleaved=n,wt(e,o)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ft=!1;function Ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,z&2){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,wt(e,n)}return i=o.interleaved,i===null?(t.next=t,Kl(o)):(t.next=i.next,i.next=t),o.interleaved=t,wt(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Ll(e,n)}}function du(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function er(e,t,n,o){var i=e.updateQueue;Ft=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?r=d:s.next=d,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(r!==null){var m=i.baseState;s=0,f=d=c=null,u=r;do{var p=u.lane,h=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,_=u;switch(p=t,h=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){m=E.call(h,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(h,m,p):E,p==null)break e;m=ne({},m,p);break e;case 2:Ft=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,s|=p;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;p=u,u=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);mn|=s,e.lanes=s,e.memoizedState=m}}function fu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(N(191,i));i.call(o)}}}var Zo={},gt=jt(Zo),qo=jt(Zo),$o=jt(Zo);function an(e){if(e===Zo)throw Error(N(174));return e}function Xl(e,t){switch(K($o,t),K(qo,e),K(gt,Zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Is(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Is(t,e)}b(gt),K(gt,t)}function Yn(){b(gt),b(qo),b($o)}function kf(e){an($o.current);var t=an(gt.current),n=Is(t,e.type);t!==n&&(K(qo,e),K(gt,n))}function bl(e){qo.current===e&&(b(gt),b(qo))}var ee=jt(0);function tr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function Zl(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var Mi=Nt.ReactCurrentDispatcher,os=Nt.ReactCurrentBatchConfig,pn=0,te=null,ue=null,de=null,nr=!1,Ao=!1,Oo=0,yg=0;function Ee(){throw Error(N(321))}function jl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function ea(e,t,n,o,i,r){if(pn=r,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mi.current=e===null||e.memoizedState===null?Tg:Cg,e=n(o,i),Ao){r=0;do{if(Ao=!1,Oo=0,25<=r)throw Error(N(301));r+=1,de=ue=null,t.updateQueue=null,Mi.current=Ig,e=n(o,i)}while(Ao)}if(Mi.current=or,t=ue!==null&&ue.next!==null,pn=0,de=ue=te=null,nr=!1,t)throw Error(N(300));return e}function ta(){var e=Oo!==0;return Oo=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?te.memoizedState=de=e:de=de.next=e,de}function be(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=de===null?te.memoizedState:de.next;if(t!==null)de=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},de===null?te.memoizedState=de=e:de=de.next=e}return de}function zo(e,t){return typeof t=="function"?t(e):t}function is(e){var t=be(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var o=ue,i=o.baseQueue,r=n.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}o.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,o=o.baseState;var u=s=null,c=null,d=r;do{var f=d.lane;if((pn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=o):c=c.next=m,te.lanes|=f,mn|=f}d=d.next}while(d!==null&&d!==r);c===null?s=o:c.next=u,at(o,t.memoizedState)||(De=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){i=e;do r=i.lane,te.lanes|=r,mn|=r,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rs(e){var t=be(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);at(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,o]}function Df(){}function Lf(e,t){var n=te,o=be(),i=t(),r=!at(o.memoizedState,i);if(r&&(o.memoizedState=i,De=!0),o=o.queue,na(Vf.bind(null,n,o,e),[e]),o.getSnapshot!==t||r||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,Jo(9,Ff.bind(null,n,o,i,t),void 0,null),fe===null)throw Error(N(349));pn&30||Uf(n,t,i)}return i}function Uf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ff(e,t,n,o){t.value=n,t.getSnapshot=o,Gf(t)&&Hf(e)}function Vf(e,t,n){return n(function(){Gf(t)&&Hf(e)})}function Gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function Hf(e){var t=wt(e,1);t!==null&&rt(t,e,1,-1)}function pu(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=Sg.bind(null,te,e),[t.memoizedState,e]}function Jo(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Bf(){return be().memoizedState}function ki(e,t,n,o){var i=pt();te.flags|=e,i.memoizedState=Jo(1|t,n,void 0,o===void 0?null:o)}function Tr(e,t,n,o){var i=be();o=o===void 0?null:o;var r=void 0;if(ue!==null){var s=ue.memoizedState;if(r=s.destroy,o!==null&&jl(o,s.deps)){i.memoizedState=Jo(t,n,r,o);return}}te.flags|=e,i.memoizedState=Jo(1|t,n,r,o)}function mu(e,t){return ki(8390656,8,e,t)}function na(e,t){return Tr(2048,8,e,t)}function qf(e,t){return Tr(4,2,e,t)}function $f(e,t){return Tr(4,4,e,t)}function Of(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zf(e,t,n){return n=n!=null?n.concat([e]):null,Tr(4,4,Of.bind(null,t,e),n)}function oa(){}function Jf(e,t){var n=be();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&jl(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Wf(e,t){var n=be();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&jl(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Yf(e,t,n){return pn&21?(at(n,t)||(n=bd(),te.lanes|=n,mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function Eg(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var o=os.transition;os.transition={};try{e(!1),t()}finally{Y=n,os.transition=o}}function Kf(){return be().memoizedState}function _g(e,t,n){var o=Kt(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Qf(e))Xf(t,n);else if(n=Pf(e,t,n,o),n!==null){var i=Ne();rt(n,e,o,i),bf(n,t,o)}}function Sg(e,t,n){var o=Kt(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))Xf(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,u=r(s,n);if(i.hasEagerState=!0,i.eagerState=u,at(u,s)){var c=t.interleaved;c===null?(i.next=i,Kl(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Pf(e,t,i,o),n!==null&&(i=Ne(),rt(n,e,o,i),bf(n,t,o))}}function Qf(e){var t=e.alternate;return e===te||t!==null&&t===te}function Xf(e,t){Ao=nr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bf(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Ll(e,n)}}var or={readContext:Xe,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Tg={readContext:Xe,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:mu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ki(4194308,4,Of.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return ki(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=pt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=_g.bind(null,te,e),[o.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:oa,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=Eg.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=te,i=pt();if(Z){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),fe===null)throw Error(N(349));pn&30||Uf(o,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,mu(Vf.bind(null,o,r,e),[e]),o.flags|=2048,Jo(9,Ff.bind(null,o,r,n,t),void 0,null),n},useId:function(){var e=pt(),t=fe.identifierPrefix;if(Z){var n=St,o=_t;n=(o&~(1<<32-it(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cg={readContext:Xe,useCallback:Jf,useContext:Xe,useEffect:na,useImperativeHandle:zf,useInsertionEffect:qf,useLayoutEffect:$f,useMemo:Wf,useReducer:is,useRef:Bf,useState:function(){return is(zo)},useDebugValue:oa,useDeferredValue:function(e){var t=be();return Yf(t,ue.memoizedState,e)},useTransition:function(){var e=is(zo)[0],t=be().memoizedState;return[e,t]},useMutableSource:Df,useSyncExternalStore:Lf,useId:Kf,unstable_isNewReconciler:!1},Ig={readContext:Xe,useCallback:Jf,useContext:Xe,useEffect:na,useImperativeHandle:zf,useInsertionEffect:qf,useLayoutEffect:$f,useMemo:Wf,useReducer:rs,useRef:Bf,useState:function(){return rs(zo)},useDebugValue:oa,useDeferredValue:function(e){var t=be();return ue===null?t.memoizedState=e:Yf(t,ue.memoizedState,e)},useTransition:function(){var e=rs(zo)[0],t=be().memoizedState;return[e,t]},useMutableSource:Df,useSyncExternalStore:Lf,useId:Kf,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Js(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cr={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ne(),i=Kt(e),r=Tt(o,i);r.payload=t,n!=null&&(r.callback=n),t=Wt(e,r,i),t!==null&&(rt(t,e,i,o),Pi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ne(),i=Kt(e),r=Tt(o,i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Wt(e,r,i),t!==null&&(rt(t,e,i,o),Pi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),o=Kt(e),i=Tt(n,o);i.tag=2,t!=null&&(i.callback=t),t=Wt(e,i,o),t!==null&&(rt(t,e,o,n),Pi(t,e,o))}};function hu(e,t,n,o,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,r,s):t.prototype&&t.prototype.isPureReactComponent?!Vo(n,o)||!Vo(i,r):!0}function Zf(e,t,n){var o=!1,i=bt,r=t.contextType;return typeof r=="object"&&r!==null?r=Xe(r):(i=Ue(t)?dn:Ie.current,o=t.contextTypes,r=(o=o!=null)?zn(e,i):bt),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cr,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function gu(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Cr.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ql(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=Xe(r):(r=Ue(t)?dn:Ie.current,i.context=zn(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Js(e,t,r,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cr.enqueueReplaceState(i,i.state,null),er(e,n,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",o=t;do n+=Zm(o),o=o.return;while(o);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ys(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wg=typeof WeakMap=="function"?WeakMap:Map;function jf(e,t,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){rr||(rr=!0,ol=o),Ys(e,t)},n}function ep(e,t,n){n=Tt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){Ys(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Ys(e,t),typeof o!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function vu(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new wg;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=Hg.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eu(e,t,n,o,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tt(-1,1),t.tag=2,Wt(n,t,1))),n.lanes|=1),e)}var Ag=Nt.ReactCurrentOwner,De=!1;function Re(e,t,n,o){t.child=e===null?xf(t,null,n,o):Wn(t,e.child,n,o)}function _u(e,t,n,o,i){n=n.render;var r=t.ref;return Hn(t,i),o=ea(e,t,n,o,r,i),n=ta(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,At(e,t,i)):(Z&&n&&$l(t),t.flags|=1,Re(e,t,o,i),t.child)}function Su(e,t,n,o,i){if(e===null){var r=n.type;return typeof r=="function"&&!da(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,tp(e,t,r,o,i)):(e=Fi(n.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Vo,n(s,o)&&e.ref===t.ref)return At(e,t,i)}return t.flags|=1,e=Qt(r,o),e.ref=t.ref,e.return=t,t.child=e}function tp(e,t,n,o,i){if(e!==null){var r=e.memoizedProps;if(Vo(r,o)&&e.ref===t.ref)if(De=!1,t.pendingProps=o=r,(e.lanes&i)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,At(e,t,i)}return Ks(e,t,n,o,i)}function np(e,t,n){var o=t.pendingProps,i=o.children,r=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(kn,Ve),Ve|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(kn,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:n,K(kn,Ve),Ve|=o}else r!==null?(o=r.baseLanes|n,t.memoizedState=null):o=n,K(kn,Ve),Ve|=o;return Re(e,t,i,n),t.child}function op(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ks(e,t,n,o,i){var r=Ue(n)?dn:Ie.current;return r=zn(t,r),Hn(t,i),n=ea(e,t,n,o,r,i),o=ta(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,At(e,t,i)):(Z&&o&&$l(t),t.flags|=1,Re(e,t,n,i),t.child)}function Tu(e,t,n,o,i){if(Ue(n)){var r=!0;Qi(t)}else r=!1;if(Hn(t,i),t.stateNode===null)Di(e,t),Zf(t,n,o),Ws(t,n,o,i),o=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Xe(d):(d=Ue(n)?dn:Ie.current,d=zn(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==o||c!==d)&&gu(t,s,o,d),Ft=!1;var p=t.memoizedState;s.state=p,er(t,o,s,i),c=t.memoizedState,u!==o||p!==c||Le.current||Ft?(typeof f=="function"&&(Js(t,n,f,o),c=t.memoizedState),(u=Ft||hu(t,n,u,o,p,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),s.props=o,s.state=c,s.context=d,o=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Mf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:tt(t.type,u),s.props=d,m=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=Ue(n)?dn:Ie.current,c=zn(t,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||p!==c)&&gu(t,s,o,c),Ft=!1,p=t.memoizedState,s.state=p,er(t,o,s,i);var E=t.memoizedState;u!==m||p!==E||Le.current||Ft?(typeof h=="function"&&(Js(t,n,h,o),E=t.memoizedState),(d=Ft||hu(t,n,d,o,p,E,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,E,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,E,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=E),s.props=o,s.state=E,s.context=c,o=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Qs(e,t,n,o,r,i)}function Qs(e,t,n,o,i,r){op(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return i&&lu(t,n,!1),At(e,t,r);o=t.stateNode,Ag.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=Wn(t,e.child,null,r),t.child=Wn(t,null,u,r)):Re(e,t,u,r),t.memoizedState=o.state,i&&lu(t,n,!0),t.child}function ip(e){var t=e.stateNode;t.pendingContext?su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&su(e,t.context,!1),Xl(e,t.containerInfo)}function Cu(e,t,n,o,i){return Jn(),zl(i),t.flags|=256,Re(e,t,n,o),t.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function bs(e){return{baseLanes:e,cachePool:null,transitions:null}}function rp(e,t,n){var o=t.pendingProps,i=ee.current,r=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),K(ee,i&1),e===null)return Os(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,r?(o=t.mode,r=t.child,s={mode:"hidden",children:s},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=Ar(s,o,0,null),e=cn(e,o,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=bs(n),t.memoizedState=Xs,e):ia(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Rg(e,t,s,o,u,i,n);if(r){r=o.fallback,s=t.mode,i=e.child,u=i.sibling;var c={mode:"hidden",children:o.children};return!(s&1)&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=Qt(i,c),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?r=Qt(u,r):(r=cn(r,s,n,null),r.flags|=2),r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,s=e.child.memoizedState,s=s===null?bs(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=e.childLanes&~n,t.memoizedState=Xs,o}return r=e.child,e=r.sibling,o=Qt(r,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ia(e,t){return t=Ar({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,n,o){return o!==null&&zl(o),Wn(t,e.child,null,n),e=ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rg(e,t,n,o,i,r,s){if(n)return t.flags&256?(t.flags&=-257,o=ss(Error(N(422))),pi(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=o.fallback,i=t.mode,o=Ar({mode:"visible",children:o.children},i,0,null),r=cn(r,i,s,null),r.flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,t.mode&1&&Wn(t,e.child,null,s),t.child.memoizedState=bs(s),t.memoizedState=Xs,r);if(!(t.mode&1))return pi(e,t,s,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,r=Error(N(419)),o=ss(r,o,void 0),pi(e,t,s,o)}if(u=(s&e.childLanes)!==0,De||u){if(o=fe,o!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|s)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,wt(e,i),rt(o,e,i,-1))}return ca(),o=ss(Error(N(421))),pi(e,t,s,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Bg.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,He=Jt(i.nextSibling),Be=t,Z=!0,ot=null,e!==null&&(Je[We++]=_t,Je[We++]=St,Je[We++]=fn,_t=e.id,St=e.overflow,fn=t),t=ia(t,o.children),t.flags|=4096,t)}function Iu(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),zs(e.return,t,n)}function ls(e,t,n,o,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function sp(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(Re(e,t,o.children,n),o=ee.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iu(e,n,t);else if(e.tag===19)Iu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(K(ee,o),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&tr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ls(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ls(t,!0,n,null,r);break;case"together":ls(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ng(e,t,n){switch(t.tag){case 3:ip(t),Jn();break;case 5:kf(t);break;case 1:Ue(t.type)&&Qi(t);break;case 4:Xl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;K(Zi,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(K(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?rp(e,t,n):(K(ee,ee.current&1),e=At(e,t,n),e!==null?e.sibling:null);K(ee,ee.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return sp(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(ee,ee.current),o)break;return null;case 22:case 23:return t.lanes=0,np(e,t,n)}return At(e,t,n)}var lp,Zs,ap,up;lp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zs=function(){};ap=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,an(gt.current);var r=null;switch(n){case"input":i=_s(e,i),o=_s(e,o),r=[];break;case"select":i=ne({},i,{value:void 0}),o=ne({},o,{value:void 0}),r=[];break;case"textarea":i=Cs(e,i),o=Cs(e,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Yi)}ws(n,o);var s;n=null;for(d in i)if(!o.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Po.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in o){var c=o[d];if(u=i!=null?i[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(r||(r=[]),r.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Po.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&X("scroll",e),r||u===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};up=function(e,t,n,o){n!==o&&(t.flags|=4)};function fo(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function xg(e,t,n){var o=t.pendingProps;switch(Ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ue(t.type)&&Ki(),_e(t),null;case 3:return o=t.stateNode,Yn(),b(Le),b(Ie),Zl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(sl(ot),ot=null))),Zs(e,t),_e(t),null;case 5:bl(t);var i=an($o.current);if(n=t.type,e!==null&&t.stateNode!=null)ap(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(N(166));return _e(t),null}if(e=an(gt.current),di(t)){o=t.stateNode,n=t.type;var r=t.memoizedProps;switch(o[mt]=t,o[Bo]=r,e=(t.mode&1)!==0,n){case"dialog":X("cancel",o),X("close",o);break;case"iframe":case"object":case"embed":X("load",o);break;case"video":case"audio":for(i=0;i<Eo.length;i++)X(Eo[i],o);break;case"source":X("error",o);break;case"img":case"image":case"link":X("error",o),X("load",o);break;case"details":X("toggle",o);break;case"input":Da(o,r),X("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},X("invalid",o);break;case"textarea":Ua(o,r),X("invalid",o)}ws(n,r),i=null;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];s==="children"?typeof u=="string"?o.textContent!==u&&(r.suppressHydrationWarning!==!0&&ci(o.textContent,u,e),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&ci(o.textContent,u,e),i=["children",""+u]):Po.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&X("scroll",o)}switch(n){case"input":ni(o),La(o,r,!0);break;case"textarea":ni(o),Fa(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=Yi)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[mt]=t,e[Bo]=o,lp(e,t,!1,!1),t.stateNode=e;e:{switch(s=As(n,o),n){case"dialog":X("cancel",e),X("close",e),i=o;break;case"iframe":case"object":case"embed":X("load",e),i=o;break;case"video":case"audio":for(i=0;i<Eo.length;i++)X(Eo[i],e);i=o;break;case"source":X("error",e),i=o;break;case"img":case"image":case"link":X("error",e),X("load",e),i=o;break;case"details":X("toggle",e),i=o;break;case"input":Da(e,o),i=_s(e,o),X("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=ne({},o,{value:void 0}),X("invalid",e);break;case"textarea":Ua(e,o),i=Cs(e,o),X("invalid",e);break;default:i=o}ws(n,i),u=i;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?Hd(e,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vd(e,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mo(e,c):typeof c=="number"&&Mo(e,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Po.hasOwnProperty(r)?c!=null&&r==="onScroll"&&X("scroll",e):c!=null&&Nl(e,r,c,s))}switch(n){case"input":ni(e),La(e,o,!1);break;case"textarea":ni(e),Fa(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Xt(o.value));break;case"select":e.multiple=!!o.multiple,r=o.value,r!=null?Un(e,!!o.multiple,r,!1):o.defaultValue!=null&&Un(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Yi)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)up(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(N(166));if(n=an($o.current),an(gt.current),di(t)){if(o=t.stateNode,n=t.memoizedProps,o[mt]=t,(r=o.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:ci(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ci(o.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[mt]=t,t.stateNode=o}return _e(t),null;case 13:if(b(ee),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&He!==null&&t.mode&1&&!(t.flags&128))Rf(),Jn(),t.flags|=98560,r=!1;else if(r=di(t),o!==null&&o.dehydrated!==null){if(e===null){if(!r)throw Error(N(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[mt]=t}else Jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),r=!1}else ot!==null&&(sl(ot),ot=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ce===0&&(ce=3):ca())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Yn(),Zs(e,t),e===null&&Go(t.stateNode.containerInfo),_e(t),null;case 10:return Yl(t.type._context),_e(t),null;case 17:return Ue(t.type)&&Ki(),_e(t),null;case 19:if(b(ee),r=t.memoizedState,r===null)return _e(t),null;if(o=(t.flags&128)!==0,s=r.rendering,s===null)if(o)fo(r,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=tr(e),s!==null){for(t.flags|=128,fo(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)r=n,e=o,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,e=s.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),t.child}e=e.sibling}r.tail!==null&&se()>Qn&&(t.flags|=128,o=!0,fo(r,!1),t.lanes=4194304)}else{if(!o)if(e=tr(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Z)return _e(t),null}else 2*se()-r.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,o=!0,fo(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=se(),t.sibling=null,n=ee.current,K(ee,o?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return ua(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ve&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Pg(e,t){switch(Ol(t),t.tag){case 1:return Ue(t.type)&&Ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),b(Le),b(Ie),Zl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bl(t),null;case 13:if(b(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return b(ee),null;case 4:return Yn(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return ua(),null;case 24:return null;default:return null}}var mi=!1,Te=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,L=null;function Mn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){re(e,t,o)}else n.current=null}function js(e,t,n){try{n()}catch(o){re(e,t,o)}}var wu=!1;function kg(e,t){if(Fs=zi,e=mf(),ql(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,f=0,m=e,p=null;t:for(;;){for(var h;m!==n||i!==0&&m.nodeType!==3||(u=s+i),m!==r||o!==0&&m.nodeType!==3||(c=s+o),m.nodeType===3&&(s+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===i&&(u=s),p===r&&++f===o&&(c=s),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vs={focusedElem:e,selectionRange:n},zi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,C=E.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:tt(t.type,_),C);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(T){re(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return E=wu,wu=!1,E}function Ro(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&js(t,n,r)}i=i.next}while(i!==o)}}function Ir(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cp(e){var t=e.alternate;t!==null&&(e.alternate=null,cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[Bo],delete t[Bs],delete t[mg],delete t[hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dp(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yi));else if(o!==4&&(e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(nl(e,t,n),e=e.sibling;e!==null;)nl(e,t,n),e=e.sibling}var me=null,nt=!1;function Lt(e,t,n){for(n=n.child;n!==null;)fp(e,t,n),n=n.sibling}function fp(e,t,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(gr,n)}catch{}switch(n.tag){case 5:Te||Mn(n,t);case 6:var o=me,i=nt;me=null,Lt(e,t,n),me=o,nt=i,me!==null&&(nt?(e=me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(nt?(e=me,n=n.stateNode,e.nodeType===8?es(e.parentNode,n):e.nodeType===1&&es(e,n),Uo(e)):es(me,n.stateNode));break;case 4:o=me,i=nt,me=n.stateNode.containerInfo,nt=!0,Lt(e,t,n),me=o,nt=i;break;case 0:case 11:case 14:case 15:if(!Te&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&js(n,t,s),i=i.next}while(i!==o)}Lt(e,t,n);break;case 1:if(!Te&&(Mn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){re(n,t,u)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(Te=(o=Te)||n.memoizedState!==null,Lt(e,t,n),Te=o):Lt(e,t,n);break;default:Lt(e,t,n)}}function Ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mg),t.forEach(function(o){var i=qg.bind(null,e,o);n.has(o)||(n.add(o),o.then(i,i))})}}function et(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var r=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:me=u.stateNode,nt=!1;break e;case 3:me=u.stateNode.containerInfo,nt=!0;break e;case 4:me=u.stateNode.containerInfo,nt=!0;break e}u=u.return}if(me===null)throw Error(N(160));fp(r,s,i),me=null,nt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){re(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pp(t,e),t=t.sibling}function pp(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),ft(e),o&4){try{Ro(3,e,e.return),Ir(3,e)}catch(_){re(e,e.return,_)}try{Ro(5,e,e.return)}catch(_){re(e,e.return,_)}}break;case 1:et(t,e),ft(e),o&512&&n!==null&&Mn(n,n.return);break;case 5:if(et(t,e),ft(e),o&512&&n!==null&&Mn(n,n.return),e.flags&32){var i=e.stateNode;try{Mo(i,"")}catch(_){re(e,e.return,_)}}if(o&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,s=n!==null?n.memoizedProps:r,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&Ld(i,r),As(u,s);var d=As(u,r);for(s=0;s<c.length;s+=2){var f=c[s],m=c[s+1];f==="style"?Hd(i,m):f==="dangerouslySetInnerHTML"?Vd(i,m):f==="children"?Mo(i,m):Nl(i,f,m,d)}switch(u){case"input":Ss(i,r);break;case"textarea":Ud(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var h=r.value;h!=null?Un(i,!!r.multiple,h,!1):p!==!!r.multiple&&(r.defaultValue!=null?Un(i,!!r.multiple,r.defaultValue,!0):Un(i,!!r.multiple,r.multiple?[]:"",!1))}i[Bo]=r}catch(_){re(e,e.return,_)}}break;case 6:if(et(t,e),ft(e),o&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(_){re(e,e.return,_)}}break;case 3:if(et(t,e),ft(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(_){re(e,e.return,_)}break;case 4:et(t,e),ft(e);break;case 13:et(t,e),ft(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(la=se())),o&4&&Ru(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(d=Te)||f,et(t,e),Te=d):et(t,e),ft(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(L=e,f=e.child;f!==null;){for(m=L=f;L!==null;){switch(p=L,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ro(4,p,p.return);break;case 1:Mn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(_){re(o,n,_)}}break;case 5:Mn(p,p.return);break;case 22:if(p.memoizedState!==null){xu(m);continue}}h!==null?(h.return=p,L=h):xu(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,d?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Gd("display",s))}catch(_){re(e,e.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){re(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:et(t,e),ft(e),o&4&&Ru(e);break;case 21:break;default:et(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dp(n)){var o=n;break e}n=n.return}throw Error(N(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(Mo(i,""),o.flags&=-33);var r=Au(e);nl(e,r,i);break;case 3:case 4:var s=o.stateNode.containerInfo,u=Au(e);tl(e,u,s);break;default:throw Error(N(161))}}catch(c){re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dg(e,t,n){L=e,mp(e)}function mp(e,t,n){for(var o=(e.mode&1)!==0;L!==null;){var i=L,r=i.child;if(i.tag===22&&o){var s=i.memoizedState!==null||mi;if(!s){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Te;u=mi;var d=Te;if(mi=s,(Te=c)&&!d)for(L=i;L!==null;)s=L,c=s.child,s.tag===22&&s.memoizedState!==null?Pu(i):c!==null?(c.return=s,L=c):Pu(i);for(;r!==null;)L=r,mp(r),r=r.sibling;L=i,mi=u,Te=d}Nu(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,L=r):Nu(e)}}function Nu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Ir(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Te)if(n===null)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tt(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&fu(t,r,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fu(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Uo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Te||t.flags&512&&el(t)}catch(p){re(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function xu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Pu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ir(4,t)}catch(c){re(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(c){re(t,i,c)}}var r=t.return;try{el(t)}catch(c){re(t,r,c)}break;case 5:var s=t.return;try{el(t)}catch(c){re(t,s,c)}}}catch(c){re(t,t.return,c)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var Lg=Math.ceil,ir=Nt.ReactCurrentDispatcher,ra=Nt.ReactCurrentOwner,Ke=Nt.ReactCurrentBatchConfig,z=0,fe=null,ae=null,he=0,Ve=0,kn=jt(0),ce=0,Wo=null,mn=0,wr=0,sa=0,No=null,ke=null,la=0,Qn=1/0,yt=null,rr=!1,ol=null,Yt=null,hi=!1,qt=null,sr=0,xo=0,il=null,Li=-1,Ui=0;function Ne(){return z&6?se():Li!==-1?Li:Li=se()}function Kt(e){return e.mode&1?z&2&&he!==0?he&-he:vg.transition!==null?(Ui===0&&(Ui=bd()),Ui):(e=Y,e!==0||(e=window.event,e=e===void 0?16:rf(e.type)),e):1}function rt(e,t,n,o){if(50<xo)throw xo=0,il=null,Error(N(185));Qo(e,n,o),(!(z&2)||e!==fe)&&(e===fe&&(!(z&2)&&(wr|=n),ce===4&&Ht(e,he)),Fe(e,o),n===1&&z===0&&!(t.mode&1)&&(Qn=se()+500,Sr&&en()))}function Fe(e,t){var n=e.callbackNode;vh(e,t);var o=Oi(e,e===fe?he:0);if(o===0)n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Ha(n),t===1)e.tag===0?gg(Mu.bind(null,e)):If(Mu.bind(null,e)),fg(function(){!(z&6)&&en()}),n=null;else{switch(Zd(o)){case 1:n=Dl;break;case 4:n=Qd;break;case 16:n=$i;break;case 536870912:n=Xd;break;default:n=$i}n=Tp(n,hp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hp(e,t){if(Li=-1,Ui=0,z&6)throw Error(N(327));var n=e.callbackNode;if(Bn()&&e.callbackNode!==n)return null;var o=Oi(e,e===fe?he:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=lr(e,o);else{t=o;var i=z;z|=2;var r=vp();(fe!==e||he!==t)&&(yt=null,Qn=se()+500,un(e,t));do try{Vg();break}catch(u){gp(e,u)}while(!0);Wl(),ir.current=r,z=i,ae!==null?t=0:(fe=null,he=0,t=ce)}if(t!==0){if(t===2&&(i=Ms(e),i!==0&&(o=i,t=rl(e,i))),t===1)throw n=Wo,un(e,0),Ht(e,o),Fe(e,se()),n;if(t===6)Ht(e,o);else{if(i=e.current.alternate,!(o&30)&&!Ug(i)&&(t=lr(e,o),t===2&&(r=Ms(e),r!==0&&(o=r,t=rl(e,r))),t===1))throw n=Wo,un(e,0),Ht(e,o),Fe(e,se()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(N(345));case 2:on(e,ke,yt);break;case 3:if(Ht(e,o),(o&130023424)===o&&(t=la+500-se(),10<t)){if(Oi(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){Ne(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hs(on.bind(null,e,ke,yt),t);break}on(e,ke,yt);break;case 4:if(Ht(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var s=31-it(o);r=1<<s,s=t[s],s>i&&(i=s),o&=~r}if(o=i,o=se()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Lg(o/1960))-o,10<o){e.timeoutHandle=Hs(on.bind(null,e,ke,yt),o);break}on(e,ke,yt);break;case 5:on(e,ke,yt);break;default:throw Error(N(329))}}}return Fe(e,se()),e.callbackNode===n?hp.bind(null,e):null}function rl(e,t){var n=No;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=lr(e,t),e!==2&&(t=ke,ke=n,t!==null&&sl(t)),e}function sl(e){ke===null?ke=e:ke.push.apply(ke,e)}function Ug(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!at(r(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~sa,t&=~wr,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),o=1<<n;e[n]=-1,t&=~o}}function Mu(e){if(z&6)throw Error(N(327));Bn();var t=Oi(e,0);if(!(t&1))return Fe(e,se()),null;var n=lr(e,t);if(e.tag!==0&&n===2){var o=Ms(e);o!==0&&(t=o,n=rl(e,o))}if(n===1)throw n=Wo,un(e,0),Ht(e,t),Fe(e,se()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,ke,yt),Fe(e,se()),null}function aa(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&(Qn=se()+500,Sr&&en())}}function hn(e){qt!==null&&qt.tag===0&&!(z&6)&&Bn();var t=z;z|=1;var n=Ke.transition,o=Y;try{if(Ke.transition=null,Y=1,e)return e()}finally{Y=o,Ke.transition=n,z=t,!(z&6)&&en()}}function ua(){Ve=kn.current,b(kn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dg(n)),ae!==null)for(n=ae.return;n!==null;){var o=n;switch(Ol(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ki();break;case 3:Yn(),b(Le),b(Ie),Zl();break;case 5:bl(o);break;case 4:Yn();break;case 13:b(ee);break;case 19:b(ee);break;case 10:Yl(o.type._context);break;case 22:case 23:ua()}n=n.return}if(fe=e,ae=e=Qt(e.current,null),he=Ve=t,ce=0,Wo=null,sa=wr=mn=0,ke=No=null,ln!==null){for(t=0;t<ln.length;t++)if(n=ln[t],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,r=n.pending;if(r!==null){var s=r.next;r.next=i,o.next=s}n.pending=o}ln=null}return e}function gp(e,t){do{var n=ae;try{if(Wl(),Mi.current=or,nr){for(var o=te.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}nr=!1}if(pn=0,de=ue=te=null,Ao=!1,Oo=0,ra.current=null,n===null||n.return===null){ce=1,Wo=t,ae=null;break}e:{var r=e,s=n.return,u=n,c=t;if(t=he,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=yu(s);if(h!==null){h.flags&=-257,Eu(h,s,u,r,t),h.mode&1&&vu(r,d,t),t=h,c=d;var E=t.updateQueue;if(E===null){var _=new Set;_.add(c),t.updateQueue=_}else E.add(c);break e}else{if(!(t&1)){vu(r,d,t),ca();break e}c=Error(N(426))}}else if(Z&&u.mode&1){var C=yu(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Eu(C,s,u,r,t),zl(Kn(c,u));break e}}r=c=Kn(c,u),ce!==4&&(ce=2),No===null?No=[r]:No.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var v=jf(r,c,t);du(r,v);break e;case 1:u=c;var g=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yt===null||!Yt.has(y)))){r.flags|=65536,t&=-t,r.lanes|=t;var T=ep(r,u,t);du(r,T);break e}}r=r.return}while(r!==null)}Ep(n)}catch(S){t=S,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function vp(){var e=ir.current;return ir.current=or,e===null?or:e}function ca(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(mn&268435455)&&!(wr&268435455)||Ht(fe,he)}function lr(e,t){var n=z;z|=2;var o=vp();(fe!==e||he!==t)&&(yt=null,un(e,t));do try{Fg();break}catch(i){gp(e,i)}while(!0);if(Wl(),z=n,ir.current=o,ae!==null)throw Error(N(261));return fe=null,he=0,ce}function Fg(){for(;ae!==null;)yp(ae)}function Vg(){for(;ae!==null&&!ah();)yp(ae)}function yp(e){var t=Sp(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Ep(e):ae=t,ra.current=null}function Ep(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pg(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ae=null;return}}else if(n=xg(n,t,Ve),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ce===0&&(ce=5)}function on(e,t,n){var o=Y,i=Ke.transition;try{Ke.transition=null,Y=1,Gg(e,t,n,o)}finally{Ke.transition=i,Y=o}return null}function Gg(e,t,n,o){do Bn();while(qt!==null);if(z&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(yh(e,r),e===fe&&(ae=fe=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hi||(hi=!0,Tp($i,function(){return Bn(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ke.transition,Ke.transition=null;var s=Y;Y=1;var u=z;z|=4,ra.current=null,kg(e,n),pp(n,e),ig(Vs),zi=!!Fs,Vs=Fs=null,e.current=n,Dg(n),uh(),z=u,Y=s,Ke.transition=r}else e.current=n;if(hi&&(hi=!1,qt=e,sr=i),r=e.pendingLanes,r===0&&(Yt=null),fh(n.stateNode),Fe(e,se()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(rr)throw rr=!1,e=ol,ol=null,e;return sr&1&&e.tag!==0&&Bn(),r=e.pendingLanes,r&1?e===il?xo++:(xo=0,il=e):xo=0,en(),null}function Bn(){if(qt!==null){var e=Zd(sr),t=Ke.transition,n=Y;try{if(Ke.transition=null,Y=16>e?16:e,qt===null)var o=!1;else{if(e=qt,qt=null,sr=0,z&6)throw Error(N(331));var i=z;for(z|=4,L=e.current;L!==null;){var r=L,s=r.child;if(L.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:Ro(8,f,r)}var m=f.child;if(m!==null)m.return=f,L=m;else for(;L!==null;){f=L;var p=f.sibling,h=f.return;if(cp(f),f===d){L=null;break}if(p!==null){p.return=h,L=p;break}L=h}}}var E=r.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}L=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,L=s;else e:for(;L!==null;){if(r=L,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ro(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,L=v;break e}L=r.return}}var g=e.current;for(L=g;L!==null;){s=L;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,L=y;else e:for(s=g;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ir(9,u)}}catch(S){re(u,u.return,S)}if(u===s){L=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,L=T;break e}L=u.return}}if(z=i,en(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(gr,e)}catch{}o=!0}return o}finally{Y=n,Ke.transition=t}}return!1}function ku(e,t,n){t=Kn(n,t),t=jf(e,t,1),e=Wt(e,t,1),t=Ne(),e!==null&&(Qo(e,1,t),Fe(e,t))}function re(e,t,n){if(e.tag===3)ku(e,e,n);else for(;t!==null;){if(t.tag===3){ku(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yt===null||!Yt.has(o))){e=Kn(n,e),e=ep(t,e,1),t=Wt(t,e,1),e=Ne(),t!==null&&(Qo(t,1,e),Fe(t,e));break}}t=t.return}}function Hg(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(he&n)===n&&(ce===4||ce===3&&(he&130023424)===he&&500>se()-la?un(e,0):sa|=n),Fe(e,t)}function _p(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=Ne();e=wt(e,t),e!==null&&(Qo(e,t,n),Fe(e,n))}function Bg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_p(e,n)}function qg(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(N(314))}o!==null&&o.delete(t),_p(e,n)}var Sp;Sp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,Ng(e,t,n);De=!!(e.flags&131072)}else De=!1,Z&&t.flags&1048576&&wf(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Di(e,t),e=t.pendingProps;var i=zn(t,Ie.current);Hn(t,n),i=ea(null,t,o,e,i,n);var r=ta();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(o)?(r=!0,Qi(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ql(t),i.updater=Cr,t.stateNode=i,i._reactInternals=t,Ws(t,o,e,n),t=Qs(null,t,o,!0,r,n)):(t.tag=0,Z&&r&&$l(t),Re(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=Og(o),e=tt(o,e),i){case 0:t=Ks(null,t,o,e,n);break e;case 1:t=Tu(null,t,o,e,n);break e;case 11:t=_u(null,t,o,e,n);break e;case 14:t=Su(null,t,o,tt(o.type,e),n);break e}throw Error(N(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tt(o,i),Ks(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tt(o,i),Tu(e,t,o,i,n);case 3:e:{if(ip(t),e===null)throw Error(N(387));o=t.pendingProps,r=t.memoizedState,i=r.element,Mf(e,t),er(t,o,null,n);var s=t.memoizedState;if(o=s.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=Kn(Error(N(423)),t),t=Cu(e,t,o,n,i);break e}else if(o!==i){i=Kn(Error(N(424)),t),t=Cu(e,t,o,n,i);break e}else for(He=Jt(t.stateNode.containerInfo.firstChild),Be=t,Z=!0,ot=null,n=xf(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),o===i){t=At(e,t,n);break e}Re(e,t,o,n)}t=t.child}return t;case 5:return kf(t),e===null&&Os(t),o=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,Gs(o,i)?s=null:r!==null&&Gs(o,r)&&(t.flags|=32),op(e,t),Re(e,t,s,n),t.child;case 6:return e===null&&Os(t),null;case 13:return rp(e,t,n);case 4:return Xl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Wn(t,null,o,n):Re(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tt(o,i),_u(e,t,o,i,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,r=t.memoizedProps,s=i.value,K(Zi,o._currentValue),o._currentValue=s,r!==null)if(at(r.value,s)){if(r.children===i.children&&!Le.current){t=At(e,t,n);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var u=r.dependencies;if(u!==null){s=r.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(r.tag===1){c=Tt(-1,n&-n),c.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),zs(r.return,n,t),u.lanes|=n;break}c=c.next}}else if(r.tag===10)s=r.type===t.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(N(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),zs(s,n,t),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}Re(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,Hn(t,n),i=Xe(i),o=o(i),t.flags|=1,Re(e,t,o,n),t.child;case 14:return o=t.type,i=tt(o,t.pendingProps),i=tt(o.type,i),Su(e,t,o,i,n);case 15:return tp(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tt(o,i),Di(e,t),t.tag=1,Ue(o)?(e=!0,Qi(t)):e=!1,Hn(t,n),Zf(t,o,i),Ws(t,o,i,n),Qs(null,t,o,!0,e,n);case 19:return sp(e,t,n);case 22:return np(e,t,n)}throw Error(N(156,t.tag))};function Tp(e,t){return Kd(e,t)}function $g(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,o){return new $g(e,t,n,o)}function da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Og(e){if(typeof e=="function")return da(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pl)return 11;if(e===Ml)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fi(e,t,n,o,i,r){var s=2;if(o=e,typeof e=="function")da(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Tn:return cn(n.children,i,r,t);case xl:s=8,i|=8;break;case gs:return e=Ye(12,n,t,i|2),e.elementType=gs,e.lanes=r,e;case vs:return e=Ye(13,n,t,i),e.elementType=vs,e.lanes=r,e;case ys:return e=Ye(19,n,t,i),e.elementType=ys,e.lanes=r,e;case Md:return Ar(n,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xd:s=10;break e;case Pd:s=9;break e;case Pl:s=11;break e;case Ml:s=14;break e;case Ut:s=16,o=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ye(s,n,t,i),t.elementType=e,t.type=o,t.lanes=r,t}function cn(e,t,n,o){return e=Ye(7,e,o,t),e.lanes=n,e}function Ar(e,t,n,o){return e=Ye(22,e,o,t),e.elementType=Md,e.lanes=n,e.stateNode={isHidden:!1},e}function as(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function us(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zg(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Or(0),this.expirationTimes=Or(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fa(e,t,n,o,i,r,s,u,c){return e=new zg(e,t,n,u,c),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Ye(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(r),e}function Jg(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Cp(e){if(!e)return bt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Cf(e,n,t)}return t}function Ip(e,t,n,o,i,r,s,u,c){return e=fa(n,o,!0,e,i,r,s,u,c),e.context=Cp(null),n=e.current,o=Ne(),i=Kt(n),r=Tt(o,i),r.callback=t??null,Wt(n,r,i),e.current.lanes=i,Qo(e,i,o),Fe(e,o),e}function Rr(e,t,n,o){var i=t.current,r=Ne(),s=Kt(i);return n=Cp(n),t.context===null?t.context=n:t.pendingContext=n,t=Tt(r,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Wt(i,t,s),e!==null&&(rt(e,i,s,r),Pi(e,i,s)),s}function ar(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pa(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}function Wg(){return null}var wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function ma(e){this._internalRoot=e}Nr.prototype.render=ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Rr(e,t,null,null)};Nr.prototype.unmount=ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){Rr(null,e,null,null)}),t[It]=null}};function Nr(e){this._internalRoot=e}Nr.prototype.unstable_scheduleHydration=function(e){if(e){var t=tf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&t!==0&&t<Gt[n].priority;n++);Gt.splice(n,0,e),n===0&&of(e)}};function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xr(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function Yg(e,t,n,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var d=ar(s);r.call(d)}}var s=Ip(t,o,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=s,e[It]=s.current,Go(e.nodeType===8?e.parentNode:e),hn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var d=ar(c);u.call(d)}}var c=fa(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=c,e[It]=c.current,Go(e.nodeType===8?e.parentNode:e),hn(function(){Rr(t,c,n,o)}),c}function Pr(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if(typeof i=="function"){var u=i;i=function(){var c=ar(s);u.call(c)}}Rr(t,s,e,i)}else s=Yg(n,t,e,i,o);return ar(s)}jd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yo(t.pendingLanes);n!==0&&(Ll(t,n|1),Fe(t,se()),!(z&6)&&(Qn=se()+500,en()))}break;case 13:hn(function(){var o=wt(e,1);if(o!==null){var i=Ne();rt(o,e,1,i)}}),pa(e,1)}};Ul=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Ne();rt(t,e,134217728,n)}pa(e,134217728)}};ef=function(e){if(e.tag===13){var t=Kt(e),n=wt(e,t);if(n!==null){var o=Ne();rt(n,e,t,o)}pa(e,t)}};tf=function(){return Y};nf=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ns=function(e,t,n){switch(t){case"input":if(Ss(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=_r(o);if(!i)throw Error(N(90));Dd(o),Ss(o,i)}}}break;case"textarea":Ud(e,n);break;case"select":t=n.value,t!=null&&Un(e,!!n.multiple,t,!1)}};$d=aa;Od=hn;var Kg={usingClientEntryPoint:!1,Events:[bo,An,_r,Bd,qd,aa]},po={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qg={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wd(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||Wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{gr=gi.inject(Qg),ht=gi}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kg;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(t))throw Error(N(200));return Jg(e,t,null,n)};$e.createRoot=function(e,t){if(!ha(e))throw Error(N(299));var n=!1,o="",i=wp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fa(e,1,!1,null,null,n,!1,o,i),e[It]=t.current,Go(e.nodeType===8?e.parentNode:e),new ma(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Wd(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return hn(e)};$e.hydrate=function(e,t,n){if(!xr(t))throw Error(N(200));return Pr(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!ha(e))throw Error(N(405));var o=n!=null&&n.hydratedSources||null,i=!1,r="",s=wp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ip(t,null,e,1,n??null,i,!1,r,s),e[It]=t.current,Go(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nr(t)};$e.render=function(e,t,n){if(!xr(t))throw Error(N(200));return Pr(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!xr(e))throw Error(N(40));return e._reactRootContainer?(hn(function(){Pr(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};$e.unstable_batchedUpdates=aa;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!xr(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Pr(e,t,n,!1,o)};$e.version="18.3.1-next-f1338f8080-20240426";function Ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ap)}catch(e){console.error(e)}}Ap(),wd.exports=$e;var Xg=wd.exports,Uu=Xg;ms.createRoot=Uu.createRoot,ms.hydrateRoot=Uu.hydrateRoot;const bg=[1,2,3,4,5,6],Zg=6,jg=2,ev=5,vi={1:"",2:"",3:"",4:"",5:"",6:""},yi=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500"],Vt=({children:e,variant:t="primary",isLoading:n,className:o="",disabled:i,...r})=>{const s="px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",u={primary:"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-900/50",secondary:"bg-slate-700 hover:bg-slate-600 text-white shadow-lg shadow-slate-900/50",danger:"bg-rose-600 hover:bg-rose-500 text-white shadow-lg shadow-rose-900/50",ghost:"bg-transparent hover:bg-white/10 text-slate-300"};return I.jsx("button",{className:`${s} ${u[t]} ${o}`,disabled:n||i,...r,children:n?I.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[I.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),I.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e})},tv=e=>Array.from({length:e},()=>Math.floor(Math.random()*6)+1),cs=(e,t,n)=>!e||t>e.quantity||t===e.quantity&&n>e.face,nv=(e,t)=>{let n=0;return e.forEach(o=>{o.dice.forEach(i=>{(i===t||i===1)&&n++})}),n},ov=()=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<4;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},iv=e=>{const t=new URL(window.location.href);return t.search="",t.searchParams.set("room",e),t.toString()},rv=()=>{const t=new URLSearchParams(window.location.search).get("room");return t?{roomId:t,isGuest:!0}:null},sv=({onStartGame:e})=>{const[t,n]=O.useState(""),[o,i]=O.useState("single"),[r,s]=O.useState(3),[u,c]=O.useState(ev),[d,f]=O.useState("easy"),[m,p]=O.useState(""),[h,E]=O.useState(!1),[_,C]=O.useState(!1);O.useEffect(()=>{const y=rv();y?(i("multiplayer"),p(y.roomId),C(!0)):(p(ov()),C(!1))},[]);const v=()=>{const y=iv(m);navigator.clipboard.writeText(y),E(!0),setTimeout(()=>E(!1),2e3)},g=()=>{if(!t.trim()){alert("");return}e({playerCount:r,startingDice:u,playerName:t||" 1",difficulty:d,mode:o,roomId:o==="multiplayer"?m:void 0,isHost:o==="single"?!0:!_})};return I.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 p-4 font-sans",children:I.jsxs("div",{className:"w-full max-w-md bg-slate-800 rounded-2xl shadow-2xl p-8 border border-slate-700 relative overflow-hidden",children:[I.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-indigo-400",children:"Gemini "}),I.jsx("p",{className:"text-slate-400 text-center mb-6",children:o==="single"?" / AI ":_?"":""}),!_&&I.jsxs("div",{className:"flex bg-slate-900 p-1 rounded-xl mb-6 border border-slate-700",children:[I.jsx("button",{onClick:()=>i("single"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${o==="single"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:" (vs AI)"}),I.jsx("button",{onClick:()=>i("multiplayer"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${o==="multiplayer"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:""})]}),I.jsxs("div",{className:"space-y-6",children:[o==="multiplayer"&&I.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-700",children:[I.jsx("div",{className:"flex items-center justify-between mb-2",children:I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:" (Room ID)"}),_?I.jsx("p",{className:"text-xl font-mono text-white tracking-widest",children:m}):I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("p",{className:"text-xl font-mono text-white tracking-widest",children:m}),I.jsx(Vt,{variant:"ghost",onClick:v,className:"text-xs h-8 px-2",children:h?"":""})]})]})}),!_&&I.jsx("p",{className:"text-xs text-slate-400",children:""}),_&&I.jsx("p",{className:"text-xs text-slate-400",children:""})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"block text-sm font-medium text-slate-300",children:""}),I.jsx("input",{type:"text",value:t,onChange:y=>n(y.target.value),placeholder:"",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),I.jsxs("div",{className:"border-t border-slate-700 my-4 pt-4",children:[I.jsxs("p",{className:"text-xs font-bold text-slate-500 mb-4 uppercase tracking-wider",children:[" ",_&&"()"]}),I.jsxs("div",{className:`space-y-2 mb-4 transition-opacity ${_?"opacity-60 pointer-events-none":""}`,children:[I.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[I.jsx("span",{children:" ( AI)"}),I.jsxs("span",{className:"font-bold text-indigo-400",children:[r," "]})]}),I.jsx("input",{type:"range",min:jg,max:Zg,value:r,onChange:y=>s(Number(y.target.value)),disabled:_,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:cursor-not-allowed"})]}),I.jsxs("div",{className:`space-y-2 mb-4 transition-opacity ${_?"opacity-60 pointer-events-none":""}`,children:[I.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[I.jsx("span",{children:""}),I.jsxs("span",{className:"font-bold text-indigo-400",children:[u," "]})]}),I.jsx("input",{type:"range",min:1,max:6,value:u,onChange:y=>c(Number(y.target.value)),disabled:_,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:cursor-not-allowed"})]}),I.jsxs("div",{className:`space-y-2 transition-opacity ${_?"opacity-60 pointer-events-none":""}`,children:[I.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"AI "}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx("button",{onClick:()=>!_&&f("easy"),disabled:_,className:`px-4 py-2 rounded-lg border text-sm font-semibold transition-colors ${d==="easy"?"bg-green-600/20 border-green-500 text-green-400":"bg-slate-900 border-slate-700 text-slate-400"}`,children:""}),I.jsx("button",{onClick:()=>!_&&f("hard"),disabled:_,className:`px-4 py-2 rounded-lg border text-sm font-semibold transition-colors ${d==="hard"?"bg-red-600/20 border-red-500 text-red-400":"bg-slate-900 border-slate-700 text-slate-400"}`,children:"Gemini Pro ()"})]})]})]}),I.jsx(Vt,{onClick:g,className:"w-full py-3 text-lg mt-4",children:o==="single"?"":_?"":""}),o==="multiplayer"&&!_&&I.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:""})]})]})})};var Se=(e=>(e.LOBBY="LOBBY",e.PLAYING="PLAYING",e.ROUND_END="ROUND_END",e.GAME_OVER="GAME_OVER",e))(Se||{}),lv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let av,uv;function cv(){return{geminiUrl:av,vertexUrl:uv}}function dv(e,t,n,o){var i,r;if(!(e!=null&&e.baseUrl)){const s=cv();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(r=s.geminiUrl)!==null&&r!==void 0?r:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xt{}function D(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(e,t,n){for(let r=0;r<t.length-1;r++){const s=t[r];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,t.slice(r+1),n[d])}else for(const d of c)a(d,t.slice(r+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(r+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],i=e[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const i=t[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in e){const s=e[r];return Array.isArray(s)?s.map(u=>l(u,t.slice(o+1),n)):n}else return n}else e=e[i]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function fv(e,t){for(const[n,o]of Object.entries(t)){const i=n.split("."),r=o.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&r.length>u)for(let c=u;c<r.length;c++){const d=r[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}ll(e,i,r,0,s)}}function ll(e,t,n,o,i){if(o>=t.length||typeof e!="object"||e===null)return;const r=t[o];if(r.endsWith("[]")){const s=r.slice(0,-2),u=e;if(s in u&&Array.isArray(u[s]))for(const c of u[s])ll(c,t,n,o+1,i)}else if(r==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of n.slice(o))p==="*"?m.push(d):m.push(p);a(s,m,f)}for(const d of u)delete s[d]}}else{const s=e;r in s&&ll(s[r],t,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ga(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pv(e){const t={},n=l(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=l(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function mv(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response","generateVideoResponse"]);return s!=null&&a(t,["response"],gv(s)),t}function hv(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],vv(s)),t}function gv(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>yv(s))),a(t,["generatedVideos"],r)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(t,["raiMediaFilteredReasons"],i),t}function vv(e){const t={},n=l(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Ev(s))),a(t,["generatedVideos"],r)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(t,["raiMediaFilteredReasons"],i),t}function yv(e){const t={},n=l(e,["video"]);return n!=null&&a(t,["video"],wv(n)),t}function Ev(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],Av(n)),t}function _v(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Sv(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Tv(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],Cv(s)),t}function Cv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const i=l(e,["documentName"]);return i!=null&&a(t,["documentName"],i),t}function Rp(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],Iv(s)),t}function Iv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const i=l(e,["documentName"]);return i!=null&&a(t,["documentName"],i),t}function wv(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],ga(o));const i=l(e,["encoding"]);return i!=null&&a(t,["mimeType"],i),t}function Av(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],ga(o));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fu||(Fu={}));var Vu;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Vu||(Vu={}));var Gu;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Gu||(Gu={}));var Ge;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ge||(Ge={}));var Hu;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hu||(Hu={}));var Bu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Bu||(Bu={}));var qu;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qu||(qu={}));var $u;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})($u||($u={}));var Ou;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Ou||(Ou={}));var zu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zu||(zu={}));var Ju;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ju||(Ju={}));var Wu;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Wu||(Wu={}));var Yu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Yu||(Yu={}));var Ku;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Ku||(Ku={}));var Qu;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Qu||(Qu={}));var Xu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Xu||(Xu={}));var bu;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(bu||(bu={}));var Zu;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zu||(Zu={}));var ju;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ju||(ju={}));var ec;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ec||(ec={}));var tc;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tc||(tc={}));var ur;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ur||(ur={}));var nc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nc||(nc={}));var oc;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(oc||(oc={}));var ic;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ic||(ic={}));var al;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(al||(al={}));var rc;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rc||(rc={}));var sc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(sc||(sc={}));var ul;(function(e){e.COLLECTION="COLLECTION"})(ul||(ul={}));var lc;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(lc||(lc={}));var ac;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ac||(ac={}));var uc;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(uc||(uc={}));var cc;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(cc||(cc={}));var dc;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(dc||(dc={}));var fc;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fc||(fc={}));var pc;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pc||(pc={}));var mc;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mc||(mc={}));var hc;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hc||(hc={}));var gc;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(gc||(gc={}));var vc;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(vc||(vc={}));var yc;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(yc||(yc={}));var Ec;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Ec||(Ec={}));var _c;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(_c||(_c={}));var Sc;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Sc||(Sc={}));var Tc;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Tc||(Tc={}));var Cc;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Cc||(Cc={}));var Ic;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ic||(Ic={}));var wc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(wc||(wc={}));var Ac;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ac||(Ac={}));var Rc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Rc||(Rc={}));var Nc;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nc||(Nc={}));var xc;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xc||(xc={}));var Pc;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Pc||(Pc={}));var Mc;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mc||(Mc={}));var kc;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kc||(kc={}));var Dc;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Dc||(Dc={}));var Dn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Dn||(Dn={}));class cl{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class mo{get text(){var t,n,o,i,r,s,u,c;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,o,i,r,s,u,c;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,i,r,s,u,c;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,i,r,s,u,c,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,i,r,s,u,c,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Lc{}class Uc{}class Rv{}class Nv{}class xv{}class Pv{}class Fc{}class Vc{}class Gc{}class Mv{}class cr{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new cr;let i;const r=t;return n?i=hv(r):i=mv(r),Object.assign(o,i),o}}class Hc{}class Bc{}class qc{}class $c{}class kv{}class Dv{}class Lv{}class va{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new va,r=Tv(t);return Object.assign(o,r),o}}class Uv{}class Fv{}class Vv{}class Gv{}class Oc{}class Hv{get text(){var t,n,o;let i="",r=!1;const s=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var t,n,o;let i="";const r=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&r.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Bv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ya{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ya,r=Rp(t);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Np(e,t){const n=J(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function xp(e){return Array.isArray(e)?e.map(t=>dr(t)):[dr(e)]}function dr(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Pp(e){const t=dr(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Mp(e){const t=dr(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zc(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function kp(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>zc(t)):[zc(e)]}function dl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Jc(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Wc(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ce(e){if(e==null)throw new Error("ContentUnion is required");return dl(e)?e:{role:"user",parts:kp(e)}}function Ea(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Ce(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Ce(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ce(n)):[Ce(t)]}function Qe(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Jc(e)||Wc(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ce(e)]}const t=[],n=[],o=dl(e[0]);for(const i of e){const r=dl(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)t.push(i);else{if(Jc(i)||Wc(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||t.push({role:"user",parts:kp(n)}),t}function qv(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(Ge).includes(n[0].toUpperCase())?n[0].toUpperCase():Ge.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(Ge).includes(o.toUpperCase())?o.toUpperCase():Ge.TYPE_UNSPECIFIED})}}function qn(e){const t={},n=["items"],o=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(t.nullable=!0,e=r[1]):r[1].type==="null"&&(t.nullable=!0,e=r[0])),e.type instanceof Array&&qv(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ge).includes(u.toUpperCase())?u.toUpperCase():Ge.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=qn(u);else if(o.includes(s)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(qn(d))}t[s]=c}else if(i.includes(s)){const c={};for(const[d,f]of Object.entries(u))c[d]=qn(f);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=u}return t}function _a(e){return qn(e)}function Sa(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ta(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function jn(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=qn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=qn(t.response));return e}function eo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function $v(e,t,n,o=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Pt(e,t){if(typeof t!="string")throw new Error("name must be a string");return $v(e,t,"cachedContents")}function Dp(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function tn(e){return ga(e)}function Ov(e){return e!=null&&typeof e=="object"&&"name"in e}function zv(e){return e!=null&&typeof e=="object"&&"video"in e}function Jv(e){return e!=null&&typeof e=="object"&&"uri"in e}function Lp(e){var t;let n;if(Ov(e)&&(n=e.name),!(Jv(e)&&(n=e.uri,n===void 0))&&!(zv(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Up(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Fp(e){for(const t of["models","tunedModels","publisherModels"])if(Wv(e,t))return e[t];return[]}function Wv(e,t){return e!==null&&typeof e=="object"&&t in e}function Yv(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Kv(e,t={}){const n=[],o=new Set;for(const i of e){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const s=Yv(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Vp(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Qv(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Gp(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let r=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function to(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Hp(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xv(e){const t={},n=l(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=l(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Py(s))),a(t,["inlinedResponses"],r)}const i=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["inlinedEmbedContentResponses"],r)}return t}function bv(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const i=l(e,["bigqueryDestination","outputUri"]);return i!=null&&a(t,["bigqueryUri"],i),t}function Zv(e){const t={},n=l(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const i=l(e,["bigqueryUri"]);if(i!=null&&a(t,["bigqueryDestination","outputUri"],i),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Vi(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const i=l(e,["metadata","state"]);i!=null&&a(t,["state"],Hp(i));const r=l(e,["metadata","createTime"]);r!=null&&a(t,["createTime"],r);const s=l(e,["metadata","endTime"]);s!=null&&a(t,["endTime"],s);const u=l(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=l(e,["metadata","model"]);c!=null&&a(t,["model"],c);const d=l(e,["metadata","output"]);return d!=null&&a(t,["dest"],Xv(Gp(d))),t}function fl(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const i=l(e,["state"]);i!=null&&a(t,["state"],Hp(i));const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=l(e,["endTime"]);c!=null&&a(t,["endTime"],c);const d=l(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=l(e,["model"]);f!=null&&a(t,["model"],f);const m=l(e,["inputConfig"]);m!=null&&a(t,["src"],jv(m));const p=l(e,["outputConfig"]);p!=null&&a(t,["dest"],bv(Gp(p)));const h=l(e,["completionStats"]);return h!=null&&a(t,["completionStats"],h),t}function jv(e){const t={},n=l(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const i=l(e,["bigquerySource","inputUri"]);return i!=null&&a(t,["bigqueryUri"],i),t}function ey(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(t,["fileName"]);o!=null&&a(n,["fileName"],o);const i=l(t,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>xy(e,s))),a(n,["requests","requests"],r)}return n}function ty(e){const t={},n=l(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const i=l(e,["bigqueryUri"]);if(i!=null&&a(t,["bigquerySource","inputUri"],i),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function ny(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function oy(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],to(e,o)),n}function iy(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],to(e,o)),n}function ry(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],sy(o));const i=l(e,["tokenCount"]);i!=null&&a(t,["tokenCount"],i);const r=l(e,["finishReason"]);r!=null&&a(t,["finishReason"],r);const s=l(e,["avgLogprobs"]);s!=null&&a(t,["avgLogprobs"],s);const u=l(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=l(e,["index"]);c!=null&&a(t,["index"],c);const d=l(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=l(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["safetyRatings"],p)}const m=l(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function sy(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["citations"],o)}return t}function Bp(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Vy(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function ly(e,t){const n={},o=l(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ay(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const i=l(e,["dest"]);return t!==void 0&&i!=null&&a(t,["outputConfig"],Zv(Qv(i))),n}function Yc(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],J(e,o));const i=l(t,["src"]);i!=null&&a(n,["batch","inputConfig"],ey(e,Vp(e,i)));const r=l(t,["config"]);return r!=null&&ly(r,n),n}function uy(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],J(e,o));const i=l(t,["src"]);i!=null&&a(n,["inputConfig"],ty(Vp(e,i)));const r=l(t,["config"]);return r!=null&&ay(r,n),n}function cy(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function dy(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],J(e,o));const i=l(t,["src"]);i!=null&&a(n,["batch","inputConfig"],yy(e,i));const r=l(t,["config"]);return r!=null&&cy(r,n),n}function fy(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],to(e,o)),n}function py(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],to(e,o)),n}function my(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function hy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function gy(e,t){const n={},o=l(t,["contents"]);if(o!=null){let r=Ea(e,o);Array.isArray(r)&&(r=r.map(s=>s)),a(n,["requests[]","request","content"],r)}const i=l(t,["config"]);return i!=null&&(a(n,["_self"],vy(i,n)),fv(n,{"requests[].*":"requests[].request.*"})),n}function vy(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const i=l(e,["title"]);t!==void 0&&i!=null&&a(t,["requests[]","title"],i);const r=l(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&a(t,["requests[]","outputDimensionality"],r),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yy(e,t){const n={},o=l(t,["fileName"]);o!=null&&a(n,["file_name"],o);const i=l(t,["inlinedRequests"]);return i!=null&&a(n,["requests"],gy(e,i)),n}function Ey(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function _y(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Sy(e){const t={},n=l(e,["allowedFunctionNames"]);n!=null&&a(t,["allowedFunctionNames"],n);const o=l(e,["mode"]);if(o!=null&&a(t,["mode"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ty(e,t,n){const o={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Bp(Ce(i)));const r=l(t,["temperature"]);r!=null&&a(o,["temperature"],r);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const c=l(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=l(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=l(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=l(t,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=l(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=l(t,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=l(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=l(t,["seed"]);_!=null&&a(o,["seed"],_);const C=l(t,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const v=l(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],_a(v));const g=l(t,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=l(t,["safetySettings"]);if(n!==void 0&&y!=null){let Q=y;Array.isArray(Q)&&(Q=Q.map(ie=>Gy(ie))),a(n,["safetySettings"],Q)}const T=l(t,["tools"]);if(n!==void 0&&T!=null){let Q=eo(T);Array.isArray(Q)&&(Q=Q.map(ie=>By(jn(ie)))),a(n,["tools"],Q)}const S=l(t,["toolConfig"]);if(n!==void 0&&S!=null&&a(n,["toolConfig"],Hy(S)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=l(t,["cachedContent"]);n!==void 0&&R!=null&&a(n,["cachedContent"],Pt(e,R));const A=l(t,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const x=l(t,["mediaResolution"]);x!=null&&a(o,["mediaResolution"],x);const P=l(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],Sa(P)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=l(t,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const $=l(t,["imageConfig"]);$!=null&&a(o,["imageConfig"],Ny($));const oe=l(t,["enableEnhancedCivicAnswers"]);if(oe!=null&&a(o,["enableEnhancedCivicAnswers"],oe),l(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function Cy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ry(d))),a(t,["candidates"],c)}const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const r=l(e,["promptFeedback"]);r!=null&&a(t,["promptFeedback"],r);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const u=l(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Iy(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],to(e,o)),n}function wy(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],to(e,o)),n}function Ay(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Ry(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Ny(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),l(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function xy(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["request","model"],J(e,o));const i=l(t,["contents"]);if(i!=null){let u=Qe(i);Array.isArray(u)&&(u=u.map(c=>Bp(c))),a(n,["request","contents"],u)}const r=l(t,["metadata"]);r!=null&&a(n,["metadata"],r);const s=l(t,["config"]);return s!=null&&a(n,["request","generationConfig"],Ty(e,s,l(n,["request"],{}))),n}function Py(e){const t={},n=l(e,["response"]);n!=null&&a(t,["response"],Cy(n));const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["error"]);return i!=null&&a(t,["error"],i),t}function My(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);if(t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ky(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const r=l(e,["filter"]);return t!==void 0&&r!=null&&a(t,["_query","filter"],r),n}function Dy(e){const t={},n=l(e,["config"]);return n!=null&&My(n,t),t}function Ly(e){const t={},n=l(e,["config"]);return n!=null&&ky(n,t),t}function Uy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Vi(s))),a(t,["batchJobs"],r)}return t}function Fy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>fl(s))),a(t,["batchJobs"],r)}return t}function Vy(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],Ey(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],_y(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],ny(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function Gy(e){const t={},n=l(e,["category"]);if(n!=null&&a(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function Hy(e){const t={},n=l(e,["retrievalConfig"]);n!=null&&a(t,["retrievalConfig"],n);const o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],Sy(o)),t}function By(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const i=l(e,["codeExecution"]);if(i!=null&&a(t,["codeExecution"],i),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],Ay(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],Ry(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Rt||(Rt={}));class yn{constructor(t,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,i)}init(t,n,o){var i,r;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(r=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qy extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new yn(Rt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Yc(this.apiClient,t),o=n._url,i=D("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(t),s=this.getBigqueryUri(t);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(s)o.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=uy(this.apiClient,t);return u=D("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>fl(f))}else{const d=Yc(this.apiClient,t);return u=D("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Vi(f))}}async createEmbeddingsInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dy(this.apiClient,t);return r=D("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Vi(c))}}async get(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=wy(this.apiClient,t);return u=D("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>fl(f))}else{const d=Iy(this.apiClient,t);return u=D("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Vi(f))}}async cancel(t){var n,o,i,r;let s="",u={};if(this.apiClient.isVertexAI()){const c=iy(this.apiClient,t);s=D("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=oy(this.apiClient,t);s=D("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ly(t);return u=D("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Fy(f),p=new Oc;return Object.assign(p,m),p})}else{const d=Dy(t);return u=D("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Uy(f),p=new Oc;return Object.assign(p,m),p})}}async delete(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=py(this.apiClient,t);return u=D("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>hy(f))}else{const d=fy(this.apiClient,t);return u=D("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>my(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $y(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Kc(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>d0(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function Oy(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let f=Qe(s);Array.isArray(f)&&(f=f.map(m=>Kc(m))),a(t,["contents"],f)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Kc(Ce(u)));const c=l(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>p0(m))),a(t,["tools"],f)}const d=l(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],f0(d)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function zy(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let m=Qe(s);Array.isArray(m)&&(m=m.map(p=>p)),a(t,["contents"],m)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Ce(u));const c=l(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>m0(p))),a(t,["tools"],m)}const d=l(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],d);const f=l(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function Jy(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Np(e,o));const i=l(t,["config"]);return i!=null&&Oy(i,n),n}function Wy(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Np(e,o));const i=l(t,["config"]);return i!=null&&zy(i,n),n}function Yy(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Pt(e,o)),n}function Ky(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Pt(e,o)),n}function Qy(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Xy(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function by(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Zy(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jy(e){const t={},n=l(e,["allowedFunctionNames"]);n!=null&&a(t,["allowedFunctionNames"],n);const o=l(e,["mode"]);if(o!=null&&a(t,["mode"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function e0(e){const t={},n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);if(u!=null&&a(t,["responseJsonSchema"],u),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function t0(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Pt(e,o)),n}function n0(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Pt(e,o)),n}function o0(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function i0(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function r0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function s0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function l0(e){const t={},n=l(e,["config"]);return n!=null&&r0(n,t),t}function a0(e){const t={},n=l(e,["config"]);return n!=null&&s0(n,t),t}function u0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["cachedContents"],r)}return t}function c0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["cachedContents"],r)}return t}function d0(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],by(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],Zy(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],$y(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function f0(e){const t={},n=l(e,["retrievalConfig"]);n!=null&&a(t,["retrievalConfig"],n);const o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],jy(o)),t}function p0(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const i=l(e,["codeExecution"]);if(i!=null&&a(t,["codeExecution"],i),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],o0(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],i0(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function m0(e){const t={},n=l(e,["retrieval"]);n!=null&&a(t,["retrieval"],n);const o=l(e,["computerUse"]);if(o!=null&&a(t,["computerUse"],o),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=l(e,["codeExecution"]);i!=null&&a(t,["codeExecution"],i);const r=l(e,["enterpriseWebSearch"]);r!=null&&a(t,["enterpriseWebSearch"],r);const s=l(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>e0(p))),a(t,["functionDeclarations"],m)}const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],u);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const d=l(e,["googleSearchRetrieval"]);d!=null&&a(t,["googleSearchRetrieval"],d);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function h0(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);return t!==void 0&&i!=null&&a(t,["expireTime"],i),n}function g0(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const i=l(e,["expireTime"]);return t!==void 0&&i!=null&&a(t,["expireTime"],i),n}function v0(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Pt(e,o));const i=l(t,["config"]);return i!=null&&h0(i,n),n}function y0(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Pt(e,o));const i=l(t,["config"]);return i!=null&&g0(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E0 extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new yn(Rt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Wy(this.apiClient,t);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=Jy(this.apiClient,t);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=n0(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=t0(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ky(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Xy(f),p=new qc;return Object.assign(p,m),p})}else{const d=Yy(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=Qy(f),p=new qc;return Object.assign(p,m),p})}}async update(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=y0(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=v0(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=a0(t);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=c0(f),p=new $c;return Object.assign(p,m),p})}else{const d=l0(t);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=u0(f),p=new $c;return Object.assign(p,m),p})}}}function fr(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function Qc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(e){return this instanceof G?(this.v=e,this):new G(e)}function st(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(E){return Promise.resolve(E).then(h,m)}}function u(h,E){o[h]&&(i[h]=function(_){return new Promise(function(C,v){r.push([h,_,C,v])>1||c(h,_)})},E&&(i[h]=E(i[h])))}function c(h,E){try{d(o[h](E))}catch(_){p(r[0][3],_)}}function d(h){h.value instanceof G?Promise.resolve(h.value.v).then(f,m):p(r[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),r.shift(),r.length&&c(r[0][0],r[0][1])}}function lt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qc=="function"?Qc(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=e[r]&&function(s){return new Promise(function(u,c){s=e[r](s),i(u,c,s.done,s.value)})}}function i(r,s,u,c){Promise.resolve(c).then(function(d){r({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _0(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:qp(n)}function qp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function S0(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Xc(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const i=[];let r=!0;for(;o<n&&e[o].role==="model";)i.push(e[o]),r&&!qp(e[o])&&(r=!1),o++;r?t.push(...i):t.pop()}return t}class T0{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new C0(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class C0{constructor(t,n,o,i={},r=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),S0(r)}async sendMessage(t){var n;await this.sendPromise;const o=Ce(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,s,u;const c=await i,d=(s=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const h=d?[d]:[];this.recordHistory(o,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const o=Ce(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(t=!1){const n=t?Xc(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return st(this,arguments,function*(){var i,r,s,u,c,d;const f=[];try{for(var m=!0,p=lt(t),h;h=yield G(p.next()),i=h.done,!i;m=!0){u=h.value,m=!1;const E=u;if(_0(E)){const _=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;_!==void 0&&f.push(_)}yield yield G(E)}}catch(E){r={error:E}}finally{try{!m&&!i&&(s=p.return)&&(yield G(s.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Xc(o)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yo extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Yo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I0(e){const t={},n=l(e,["file"]);return n!=null&&a(t,["file"],n),t}function w0(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function A0(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],Lp(n)),t}function R0(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function N0(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],Lp(n)),t}function x0(e){const t={},n=l(e,["uris"]);return n!=null&&a(t,["uris"],n),t}function P0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function M0(e){const t={},n=l(e,["config"]);return n!=null&&P0(n,t),t}function k0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["files"],r)}return t}function D0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0 extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new yn(Rt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=M0(t);return r=D("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=k0(c),f=new Uv;return Object.assign(f,d),f})}}async createInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=I0(t);return r=D("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=w0(c),f=new Fv;return Object.assign(f,d),f})}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=N0(t);return r=D("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=A0(t);return r=D("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=R0(c),f=new Vv;return Object.assign(f,d),f})}}async registerFilesInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=x0(t);return r=D("files:register",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=D0(c),f=new Gv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gi(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function U0(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>b0(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function F0(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function V0(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function G0(e){const t={},n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);if(u!=null&&a(t,["responseJsonSchema"],u),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function H0(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const i=l(e,["audioTimestamp"]);i!=null&&a(t,["audioTimestamp"],i);const r=l(e,["candidateCount"]);r!=null&&a(t,["candidateCount"],r);const s=l(e,["enableAffectiveDialog"]);s!=null&&a(t,["enableAffectiveDialog"],s);const u=l(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=l(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=l(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=l(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const m=l(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const p=l(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const h=l(e,["responseMimeType"]);h!=null&&a(t,["responseMimeType"],h);const E=l(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const _=l(e,["responseSchema"]);_!=null&&a(t,["responseSchema"],_);const C=l(e,["routingConfig"]);C!=null&&a(t,["routingConfig"],C);const v=l(e,["seed"]);v!=null&&a(t,["seed"],v);const g=l(e,["speechConfig"]);g!=null&&a(t,["speechConfig"],g);const y=l(e,["stopSequences"]);y!=null&&a(t,["stopSequences"],y);const T=l(e,["temperature"]);T!=null&&a(t,["temperature"],T);const S=l(e,["thinkingConfig"]);S!=null&&a(t,["thinkingConfig"],S);const R=l(e,["topK"]);R!=null&&a(t,["topK"],R);const A=l(e,["topP"]);if(A!=null&&a(t,["topP"],A),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function B0(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function q0(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function $0(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const i=l(e,["responseModalities"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","responseModalities"],i);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=l(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Ta(m));const p=l(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const h=l(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=l(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],U0(Ce(E)));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let R=eo(_);Array.isArray(R)&&(R=R.map(A=>j0(jn(A)))),a(t,["setup","tools"],R)}const C=l(e,["sessionResumption"]);t!==void 0&&C!=null&&a(t,["setup","sessionResumption"],Z0(C));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const y=l(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&a(t,["setup","realtimeInputConfig"],y);const T=l(e,["contextWindowCompression"]);t!==void 0&&T!=null&&a(t,["setup","contextWindowCompression"],T);const S=l(e,["proactivity"]);if(t!==void 0&&S!=null&&a(t,["setup","proactivity"],S),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function O0(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],H0(o));const i=l(e,["responseModalities"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","responseModalities"],i);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=l(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Ta(m));const p=l(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const h=l(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=l(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Ce(E));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let A=eo(_);Array.isArray(A)&&(A=A.map(x=>eE(jn(x)))),a(t,["setup","tools"],A)}const C=l(e,["sessionResumption"]);t!==void 0&&C!=null&&a(t,["setup","sessionResumption"],C);const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const y=l(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&a(t,["setup","realtimeInputConfig"],y);const T=l(e,["contextWindowCompression"]);t!==void 0&&T!=null&&a(t,["setup","contextWindowCompression"],T);const S=l(e,["proactivity"]);t!==void 0&&S!=null&&a(t,["setup","proactivity"],S);const R=l(e,["explicitVadSignal"]);return t!==void 0&&R!=null&&a(t,["setup","explicitVadSignal"],R),n}function z0(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],J(e,o));const i=l(t,["config"]);return i!=null&&a(n,["config"],$0(i,n)),n}function J0(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],J(e,o));const i=l(t,["config"]);return i!=null&&a(n,["config"],O0(i,n)),n}function W0(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function Y0(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["weightedPrompts"],o)}return t}function K0(e){const t={},n=l(e,["media"]);if(n!=null){let d=xp(n);Array.isArray(d)&&(d=d.map(f=>Gi(f))),a(t,["mediaChunks"],d)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],Gi(Mp(o)));const i=l(e,["audioStreamEnd"]);i!=null&&a(t,["audioStreamEnd"],i);const r=l(e,["video"]);r!=null&&a(t,["video"],Gi(Pp(r)));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=l(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function Q0(e){const t={},n=l(e,["media"]);if(n!=null){let d=xp(n);Array.isArray(d)&&(d=d.map(f=>f)),a(t,["mediaChunks"],d)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],Mp(o));const i=l(e,["audioStreamEnd"]);i!=null&&a(t,["audioStreamEnd"],i);const r=l(e,["video"]);r!=null&&a(t,["video"],Pp(r));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=l(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function X0(e){const t={},n=l(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const i=l(e,["toolCall"]);i!=null&&a(t,["toolCall"],i);const r=l(e,["toolCallCancellation"]);r!=null&&a(t,["toolCallCancellation"],r);const s=l(e,["usageMetadata"]);s!=null&&a(t,["usageMetadata"],tE(s));const u=l(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=l(e,["sessionResumptionUpdate"]);c!=null&&a(t,["sessionResumptionUpdate"],c);const d=l(e,["voiceActivityDetectionSignal"]);d!=null&&a(t,["voiceActivityDetectionSignal"],d);const f=l(e,["voiceActivity"]);return f!=null&&a(t,["voiceActivity"],nE(f)),t}function b0(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],F0(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],V0(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],Gi(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function Z0(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function j0(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const i=l(e,["codeExecution"]);if(i!=null&&a(t,["codeExecution"],i),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],B0(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],q0(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function eE(e){const t={},n=l(e,["retrieval"]);n!=null&&a(t,["retrieval"],n);const o=l(e,["computerUse"]);if(o!=null&&a(t,["computerUse"],o),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=l(e,["codeExecution"]);i!=null&&a(t,["codeExecution"],i);const r=l(e,["enterpriseWebSearch"]);r!=null&&a(t,["enterpriseWebSearch"],r);const s=l(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>G0(p))),a(t,["functionDeclarations"],m)}const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],u);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const d=l(e,["googleSearchRetrieval"]);d!=null&&a(t,["googleSearchRetrieval"],d);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function tE(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const i=l(e,["candidatesTokenCount"]);i!=null&&a(t,["responseTokenCount"],i);const r=l(e,["toolUsePromptTokenCount"]);r!=null&&a(t,["toolUsePromptTokenCount"],r);const s=l(e,["thoughtsTokenCount"]);s!=null&&a(t,["thoughtsTokenCount"],s);const u=l(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=l(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["promptTokensDetails"],h)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["cacheTokensDetails"],h)}const f=l(e,["candidatesTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["responseTokensDetails"],h)}const m=l(e,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["toolUsePromptTokensDetails"],h)}const p=l(e,["trafficType"]);return p!=null&&a(t,["trafficType"],p),t}function nE(e){const t={},n=l(e,["type"]);return n!=null&&a(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(e,t){const n={},o=l(e,["data"]);if(o!=null&&a(n,["data"],o),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function iE(e,t){const n={},o=l(e,["content"]);o!=null&&a(n,["content"],o);const i=l(e,["citationMetadata"]);i!=null&&a(n,["citationMetadata"],rE(i));const r=l(e,["tokenCount"]);r!=null&&a(n,["tokenCount"],r);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const c=l(e,["groundingMetadata"]);c!=null&&a(n,["groundingMetadata"],c);const d=l(e,["index"]);d!=null&&a(n,["index"],d);const f=l(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const m=l(e,["safetyRatings"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(n,["safetyRatings"],h)}const p=l(e,["urlContextMetadata"]);return p!=null&&a(n,["urlContextMetadata"],p),n}function rE(e,t){const n={},o=l(e,["citationSources"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(n,["citations"],i)}return n}function sE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let s=Qe(r);Array.isArray(s)&&(s=s.map(u=>u)),a(o,["contents"],s)}return o}function lE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(n,["tokensInfo"],r)}return n}function aE(e,t){const n={},o=l(e,["values"]);o!=null&&a(n,["values"],o);const i=l(e,["statistics"]);return i!=null&&a(n,["statistics"],uE(i)),n}function uE(e,t){const n={},o=l(e,["truncated"]);o!=null&&a(n,["truncated"],o);const i=l(e,["token_count"]);return i!=null&&a(n,["tokenCount"],i),n}function Mr(e,t){const n={},o=l(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>y_(s))),a(n,["parts"],r)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function cE(e,t){const n={},o=l(e,["controlType"]);o!=null&&a(n,["controlType"],o);const i=l(e,["enableControlImageComputation"]);return i!=null&&a(n,["computeControl"],i),n}function dE(e,t){const n={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function fE(e,t,n){const o={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],Ce(i));const r=l(e,["tools"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Jp(c))),a(t,["tools"],u)}const s=l(e,["generationConfig"]);return t!==void 0&&s!=null&&a(t,["generationConfig"],o_(s)),o}function pE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let u=Qe(r);Array.isArray(u)&&(u=u.map(c=>Mr(c))),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&dE(s),o}function mE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let u=Qe(r);Array.isArray(u)&&(u=u.map(c=>c)),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&fE(s,o),o}function hE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["totalTokens"]);i!=null&&a(n,["totalTokens"],i);const r=l(e,["cachedContentTokenCount"]);return r!=null&&a(n,["cachedContentTokenCount"],r),n}function gE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["totalTokens"]);return i!=null&&a(n,["totalTokens"],i),n}function vE(e,t,n){const o={},i=l(t,["model"]);return i!=null&&a(o,["_url","name"],J(e,i)),o}function yE(e,t,n){const o={},i=l(t,["model"]);return i!=null&&a(o,["_url","name"],J(e,i)),o}function EE(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function _E(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function SE(e,t,n){const o={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const E=l(e,["language"]);t!==void 0&&E!=null&&a(t,["parameters","language"],E);const _=l(e,["outputMimeType"]);t!==void 0&&_!=null&&a(t,["parameters","outputOptions","mimeType"],_);const C=l(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const v=l(e,["addWatermark"]);t!==void 0&&v!=null&&a(t,["parameters","addWatermark"],v);const g=l(e,["labels"]);t!==void 0&&g!=null&&a(t,["labels"],g);const y=l(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const T=l(e,["baseSteps"]);return t!==void 0&&T!=null&&a(t,["parameters","editConfig","baseSteps"],T),o}function TE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["prompt"]);r!=null&&a(o,["instances[0]","prompt"],r);const s=l(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>I_(d))),a(o,["instances[0]","referenceImages"],c)}const u=l(t,["config"]);return u!=null&&SE(u,o),o}function CE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>kr(s))),a(n,["generatedImages"],r)}return n}function IE(e,t,n){const o={},i=l(e,["taskType"]);t!==void 0&&i!=null&&a(t,["requests[]","taskType"],i);const r=l(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const s=l(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function wE(e,t,n){const o={},i=l(e,["taskType"]);t!==void 0&&i!=null&&a(t,["instances[]","task_type"],i);const r=l(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const s=l(e,["outputDimensionality"]);t!==void 0&&s!=null&&a(t,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);t!==void 0&&u!=null&&a(t,["instances[]","mimeType"],u);const c=l(e,["autoTruncate"]);return t!==void 0&&c!=null&&a(t,["parameters","autoTruncate"],c),o}function AE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let c=Ea(e,r);Array.isArray(c)&&(c=c.map(d=>d)),a(o,["requests[]","content"],c)}const s=l(t,["config"]);s!=null&&IE(s,o);const u=l(t,["model"]);return u!==void 0&&a(o,["requests[]","model"],J(e,u)),o}function RE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let u=Ea(e,r);Array.isArray(u)&&(u=u.map(c=>c)),a(o,["instances[]","content"],u)}const s=l(t,["config"]);return s!=null&&wE(s,o),o}function NE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),a(n,["embeddings"],s)}const r=l(e,["metadata"]);return r!=null&&a(n,["metadata"],r),n}function xE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>aE(u))),a(n,["embeddings"],s)}const r=l(e,["metadata"]);return r!=null&&a(n,["metadata"],r),n}function PE(e,t){const n={},o=l(e,["endpoint"]);o!=null&&a(n,["name"],o);const i=l(e,["deployedModelId"]);return i!=null&&a(n,["deployedModelId"],i),n}function ME(e,t){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["fileUri"]);o!=null&&a(n,["fileUri"],o);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function kE(e,t){const n={},o=l(e,["id"]);o!=null&&a(n,["id"],o);const i=l(e,["args"]);i!=null&&a(n,["args"],i);const r=l(e,["name"]);if(r!=null&&a(n,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function DE(e,t){const n={},o=l(e,["allowedFunctionNames"]);o!=null&&a(n,["allowedFunctionNames"],o);const i=l(e,["mode"]);if(i!=null&&a(n,["mode"],i),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function LE(e,t){const n={},o=l(e,["description"]);o!=null&&a(n,["description"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["parameters"]);r!=null&&a(n,["parameters"],r);const s=l(e,["parametersJsonSchema"]);s!=null&&a(n,["parametersJsonSchema"],s);const u=l(e,["response"]);u!=null&&a(n,["response"],u);const c=l(e,["responseJsonSchema"]);if(c!=null&&a(n,["responseJsonSchema"],c),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function UE(e,t,n,o){const i={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Mr(Ce(r)));const s=l(t,["temperature"]);s!=null&&a(i,["temperature"],s);const u=l(t,["topP"]);u!=null&&a(i,["topP"],u);const c=l(t,["topK"]);c!=null&&a(i,["topK"],c);const d=l(t,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const m=l(t,["stopSequences"]);m!=null&&a(i,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(i,["logprobs"],h);const E=l(t,["presencePenalty"]);E!=null&&a(i,["presencePenalty"],E);const _=l(t,["frequencyPenalty"]);_!=null&&a(i,["frequencyPenalty"],_);const C=l(t,["seed"]);C!=null&&a(i,["seed"],C);const v=l(t,["responseMimeType"]);v!=null&&a(i,["responseMimeType"],v);const g=l(t,["responseSchema"]);g!=null&&a(i,["responseSchema"],_a(g));const y=l(t,["responseJsonSchema"]);if(y!=null&&a(i,["responseJsonSchema"],y),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=l(t,["safetySettings"]);if(n!==void 0&&T!=null){let ie=T;Array.isArray(ie)&&(ie=ie.map(ze=>w_(ze))),a(n,["safetySettings"],ie)}const S=l(t,["tools"]);if(n!==void 0&&S!=null){let ie=eo(S);Array.isArray(ie)&&(ie=ie.map(ze=>k_(jn(ze)))),a(n,["tools"],ie)}const R=l(t,["toolConfig"]);if(n!==void 0&&R!=null&&a(n,["toolConfig"],M_(R)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=l(t,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Pt(e,A));const x=l(t,["responseModalities"]);x!=null&&a(i,["responseModalities"],x);const P=l(t,["mediaResolution"]);P!=null&&a(i,["mediaResolution"],P);const k=l(t,["speechConfig"]);if(k!=null&&a(i,["speechConfig"],Sa(k)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=l(t,["thinkingConfig"]);$!=null&&a(i,["thinkingConfig"],$);const oe=l(t,["imageConfig"]);oe!=null&&a(i,["imageConfig"],a_(oe));const Q=l(t,["enableEnhancedCivicAnswers"]);if(Q!=null&&a(i,["enableEnhancedCivicAnswers"],Q),l(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function FE(e,t,n,o){const i={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ce(r));const s=l(t,["temperature"]);s!=null&&a(i,["temperature"],s);const u=l(t,["topP"]);u!=null&&a(i,["topP"],u);const c=l(t,["topK"]);c!=null&&a(i,["topK"],c);const d=l(t,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const m=l(t,["stopSequences"]);m!=null&&a(i,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(i,["logprobs"],h);const E=l(t,["presencePenalty"]);E!=null&&a(i,["presencePenalty"],E);const _=l(t,["frequencyPenalty"]);_!=null&&a(i,["frequencyPenalty"],_);const C=l(t,["seed"]);C!=null&&a(i,["seed"],C);const v=l(t,["responseMimeType"]);v!=null&&a(i,["responseMimeType"],v);const g=l(t,["responseSchema"]);g!=null&&a(i,["responseSchema"],_a(g));const y=l(t,["responseJsonSchema"]);y!=null&&a(i,["responseJsonSchema"],y);const T=l(t,["routingConfig"]);T!=null&&a(i,["routingConfig"],T);const S=l(t,["modelSelectionConfig"]);S!=null&&a(i,["modelConfig"],S);const R=l(t,["safetySettings"]);if(n!==void 0&&R!=null){let M=R;Array.isArray(M)&&(M=M.map(F=>F)),a(n,["safetySettings"],M)}const A=l(t,["tools"]);if(n!==void 0&&A!=null){let M=eo(A);Array.isArray(M)&&(M=M.map(F=>Jp(jn(F)))),a(n,["tools"],M)}const x=l(t,["toolConfig"]);n!==void 0&&x!=null&&a(n,["toolConfig"],x);const P=l(t,["labels"]);n!==void 0&&P!=null&&a(n,["labels"],P);const k=l(t,["cachedContent"]);n!==void 0&&k!=null&&a(n,["cachedContent"],Pt(e,k));const $=l(t,["responseModalities"]);$!=null&&a(i,["responseModalities"],$);const oe=l(t,["mediaResolution"]);oe!=null&&a(i,["mediaResolution"],oe);const Q=l(t,["speechConfig"]);Q!=null&&a(i,["speechConfig"],Sa(Q));const ie=l(t,["audioTimestamp"]);ie!=null&&a(i,["audioTimestamp"],ie);const ze=l(t,["thinkingConfig"]);ze!=null&&a(i,["thinkingConfig"],ze);const Mt=l(t,["imageConfig"]);if(Mt!=null&&a(i,["imageConfig"],u_(Mt)),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const kt=l(t,["modelArmorConfig"]);return n!==void 0&&kt!=null&&a(n,["modelArmorConfig"],kt),i}function bc(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let u=Qe(r);Array.isArray(u)&&(u=u.map(c=>Mr(c))),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&a(o,["generationConfig"],UE(e,s,o)),o}function Zc(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["contents"]);if(r!=null){let u=Qe(r);Array.isArray(u)&&(u=u.map(c=>c)),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&a(o,["generationConfig"],FE(e,s,o)),o}function jc(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>iE(f))),a(n,["candidates"],d)}const r=l(e,["modelVersion"]);r!=null&&a(n,["modelVersion"],r);const s=l(e,["promptFeedback"]);s!=null&&a(n,["promptFeedback"],s);const u=l(e,["responseId"]);u!=null&&a(n,["responseId"],u);const c=l(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function ed(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(n,["candidates"],f)}const r=l(e,["createTime"]);r!=null&&a(n,["createTime"],r);const s=l(e,["modelVersion"]);s!=null&&a(n,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&a(n,["promptFeedback"],u);const c=l(e,["responseId"]);c!=null&&a(n,["responseId"],c);const d=l(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function VE(e,t,n){const o={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const s=l(e,["guidanceScale"]);if(t!==void 0&&s!=null&&a(t,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=l(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const d=l(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const f=l(e,["includeRaiReason"]);t!==void 0&&f!=null&&a(t,["parameters","includeRaiReason"],f);const m=l(e,["language"]);t!==void 0&&m!=null&&a(t,["parameters","language"],m);const p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const h=l(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=l(e,["imageSize"]);if(t!==void 0&&E!=null&&a(t,["parameters","sampleImageSize"],E),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function GE(e,t,n){const o={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const E=l(e,["language"]);t!==void 0&&E!=null&&a(t,["parameters","language"],E);const _=l(e,["outputMimeType"]);t!==void 0&&_!=null&&a(t,["parameters","outputOptions","mimeType"],_);const C=l(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const v=l(e,["addWatermark"]);t!==void 0&&v!=null&&a(t,["parameters","addWatermark"],v);const g=l(e,["labels"]);t!==void 0&&g!=null&&a(t,["labels"],g);const y=l(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const T=l(e,["enhancePrompt"]);return t!==void 0&&T!=null&&a(t,["parameters","enhancePrompt"],T),o}function HE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["prompt"]);r!=null&&a(o,["instances[0]","prompt"],r);const s=l(t,["config"]);return s!=null&&VE(s,o),o}function BE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["prompt"]);r!=null&&a(o,["instances[0]","prompt"],r);const s=l(t,["config"]);return s!=null&&GE(s,o),o}function qE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>jE(u))),a(n,["generatedImages"],s)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],Op(r)),n}function $E(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>kr(u))),a(n,["generatedImages"],s)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],zp(r)),n}function OE(e,t,n){const o={},i=l(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=l(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const u=l(e,["resolution"]);t!==void 0&&u!=null&&a(t,["parameters","resolution"],u);const c=l(e,["personGeneration"]);if(t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const f=l(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&a(t,["parameters","enhancePrompt"],f),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=l(e,["lastFrame"]);t!==void 0&&m!=null&&a(t,["instances[0]","lastFrame"],Dr(m));const p=l(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(E=>J_(E))),a(t,["instances[0]","referenceImages"],h)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function zE(e,t,n){const o={},i=l(e,["numberOfVideos"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const s=l(e,["fps"]);t!==void 0&&s!=null&&a(t,["parameters","fps"],s);const u=l(e,["durationSeconds"]);t!==void 0&&u!=null&&a(t,["parameters","durationSeconds"],u);const c=l(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=l(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const f=l(e,["resolution"]);t!==void 0&&f!=null&&a(t,["parameters","resolution"],f);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const h=l(e,["negativePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","negativePrompt"],h);const E=l(e,["enhancePrompt"]);t!==void 0&&E!=null&&a(t,["parameters","enhancePrompt"],E);const _=l(e,["generateAudio"]);t!==void 0&&_!=null&&a(t,["parameters","generateAudio"],_);const C=l(e,["lastFrame"]);t!==void 0&&C!=null&&a(t,["instances[0]","lastFrame"],ut(C));const v=l(e,["referenceImages"]);if(t!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>W_(S))),a(t,["instances[0]","referenceImages"],T)}const g=l(e,["mask"]);t!==void 0&&g!=null&&a(t,["instances[0]","mask"],z_(g));const y=l(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),o}function JE(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const r=l(e,["done"]);r!=null&&a(n,["done"],r);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],QE(u)),n}function WE(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const r=l(e,["done"]);r!=null&&a(n,["done"],r);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],XE(u)),n}function YE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["prompt"]);r!=null&&a(o,["instances[0]","prompt"],r);const s=l(t,["image"]);s!=null&&a(o,["instances[0]","image"],Dr(s));const u=l(t,["video"]);u!=null&&a(o,["instances[0]","video"],Wp(u));const c=l(t,["source"]);c!=null&&bE(c,o);const d=l(t,["config"]);return d!=null&&OE(d,o),o}function KE(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["prompt"]);r!=null&&a(o,["instances[0]","prompt"],r);const s=l(t,["image"]);s!=null&&a(o,["instances[0]","image"],ut(s));const u=l(t,["video"]);u!=null&&a(o,["instances[0]","video"],Yp(u));const c=l(t,["source"]);c!=null&&ZE(c,o);const d=l(t,["config"]);return d!=null&&zE(d,o),o}function QE(e,t){const n={},o=l(e,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>t_(u))),a(n,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(n,["raiMediaFilteredReasons"],r),n}function XE(e,t){const n={},o=l(e,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>n_(u))),a(n,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(n,["raiMediaFilteredReasons"],r),n}function bE(e,t,n){const o={},i=l(e,["prompt"]);t!==void 0&&i!=null&&a(t,["instances[0]","prompt"],i);const r=l(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],Dr(r));const s=l(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],Wp(s)),o}function ZE(e,t,n){const o={},i=l(e,["prompt"]);t!==void 0&&i!=null&&a(t,["instances[0]","prompt"],i);const r=l(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],ut(r));const s=l(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],Yp(s)),o}function jE(e,t){const n={},o=l(e,["_self"]);o!=null&&a(n,["image"],c_(o));const i=l(e,["raiFilteredReason"]);i!=null&&a(n,["raiFilteredReason"],i);const r=l(e,["_self"]);return r!=null&&a(n,["safetyAttributes"],Op(r)),n}function kr(e,t){const n={},o=l(e,["_self"]);o!=null&&a(n,["image"],$p(o));const i=l(e,["raiFilteredReason"]);i!=null&&a(n,["raiFilteredReason"],i);const r=l(e,["_self"]);r!=null&&a(n,["safetyAttributes"],zp(r));const s=l(e,["prompt"]);return s!=null&&a(n,["enhancedPrompt"],s),n}function e_(e,t){const n={},o=l(e,["_self"]);o!=null&&a(n,["mask"],$p(o));const i=l(e,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(n,["labels"],r)}return n}function t_(e,t){const n={},o=l(e,["video"]);return o!=null&&a(n,["video"],$_(o)),n}function n_(e,t){const n={},o=l(e,["_self"]);return o!=null&&a(n,["video"],O_(o)),n}function o_(e,t){const n={},o=l(e,["modelSelectionConfig"]);o!=null&&a(n,["modelConfig"],o);const i=l(e,["responseJsonSchema"]);i!=null&&a(n,["responseJsonSchema"],i);const r=l(e,["audioTimestamp"]);r!=null&&a(n,["audioTimestamp"],r);const s=l(e,["candidateCount"]);s!=null&&a(n,["candidateCount"],s);const u=l(e,["enableAffectiveDialog"]);u!=null&&a(n,["enableAffectiveDialog"],u);const c=l(e,["frequencyPenalty"]);c!=null&&a(n,["frequencyPenalty"],c);const d=l(e,["logprobs"]);d!=null&&a(n,["logprobs"],d);const f=l(e,["maxOutputTokens"]);f!=null&&a(n,["maxOutputTokens"],f);const m=l(e,["mediaResolution"]);m!=null&&a(n,["mediaResolution"],m);const p=l(e,["presencePenalty"]);p!=null&&a(n,["presencePenalty"],p);const h=l(e,["responseLogprobs"]);h!=null&&a(n,["responseLogprobs"],h);const E=l(e,["responseMimeType"]);E!=null&&a(n,["responseMimeType"],E);const _=l(e,["responseModalities"]);_!=null&&a(n,["responseModalities"],_);const C=l(e,["responseSchema"]);C!=null&&a(n,["responseSchema"],C);const v=l(e,["routingConfig"]);v!=null&&a(n,["routingConfig"],v);const g=l(e,["seed"]);g!=null&&a(n,["seed"],g);const y=l(e,["speechConfig"]);y!=null&&a(n,["speechConfig"],y);const T=l(e,["stopSequences"]);T!=null&&a(n,["stopSequences"],T);const S=l(e,["temperature"]);S!=null&&a(n,["temperature"],S);const R=l(e,["thinkingConfig"]);R!=null&&a(n,["thinkingConfig"],R);const A=l(e,["topK"]);A!=null&&a(n,["topK"],A);const x=l(e,["topP"]);if(x!=null&&a(n,["topP"],x),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function i_(e,t,n){const o={},i=l(t,["model"]);return i!=null&&a(o,["_url","name"],J(e,i)),o}function r_(e,t,n){const o={},i=l(t,["model"]);return i!=null&&a(o,["_url","name"],J(e,i)),o}function s_(e,t){const n={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(e,["enableWidget"]);return o!=null&&a(n,["enableWidget"],o),n}function l_(e,t){const n={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],o),n}function a_(e,t){const n={},o=l(e,["aspectRatio"]);o!=null&&a(n,["aspectRatio"],o);const i=l(e,["imageSize"]);if(i!=null&&a(n,["imageSize"],i),l(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function u_(e,t){const n={},o=l(e,["aspectRatio"]);o!=null&&a(n,["aspectRatio"],o);const i=l(e,["imageSize"]);i!=null&&a(n,["imageSize"],i);const r=l(e,["personGeneration"]);r!=null&&a(n,["personGeneration"],r);const s=l(e,["outputMimeType"]);s!=null&&a(n,["imageOutputOptions","mimeType"],s);const u=l(e,["outputCompressionQuality"]);return u!=null&&a(n,["imageOutputOptions","compressionQuality"],u),n}function c_(e,t){const n={},o=l(e,["bytesBase64Encoded"]);o!=null&&a(n,["imageBytes"],tn(o));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function $p(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(n,["imageBytes"],tn(i));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function Dr(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(e,["imageBytes"]);o!=null&&a(n,["bytesBase64Encoded"],tn(o));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function ut(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const i=l(e,["imageBytes"]);i!=null&&a(n,["bytesBase64Encoded"],tn(i));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function d_(e,t,n,o){const i={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const s=l(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const u=l(t,["filter"]);n!==void 0&&u!=null&&a(n,["_query","filter"],u);const c=l(t,["queryBase"]);return n!==void 0&&c!=null&&a(n,["_url","models_url"],Up(e,c)),i}function f_(e,t,n,o){const i={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const s=l(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const u=l(t,["filter"]);n!==void 0&&u!=null&&a(n,["_query","filter"],u);const c=l(t,["queryBase"]);return n!==void 0&&c!=null&&a(n,["_url","models_url"],Up(e,c)),i}function p_(e,t,n){const o={},i=l(t,["config"]);return i!=null&&d_(e,i,o),o}function m_(e,t,n){const o={},i=l(t,["config"]);return i!=null&&f_(e,i,o),o}function h_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=l(e,["_self"]);if(r!=null){let s=Fp(r);Array.isArray(s)&&(s=s.map(u=>pl(u))),a(n,["models"],s)}return n}function g_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=l(e,["_self"]);if(r!=null){let s=Fp(r);Array.isArray(s)&&(s=s.map(u=>ml(u))),a(n,["models"],s)}return n}function v_(e,t){const n={},o=l(e,["maskMode"]);o!=null&&a(n,["maskMode"],o);const i=l(e,["segmentationClasses"]);i!=null&&a(n,["maskClasses"],i);const r=l(e,["maskDilation"]);return r!=null&&a(n,["dilation"],r),n}function pl(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const r=l(e,["description"]);r!=null&&a(n,["description"],r);const s=l(e,["version"]);s!=null&&a(n,["version"],s);const u=l(e,["_self"]);u!=null&&a(n,["tunedModelInfo"],D_(u));const c=l(e,["inputTokenLimit"]);c!=null&&a(n,["inputTokenLimit"],c);const d=l(e,["outputTokenLimit"]);d!=null&&a(n,["outputTokenLimit"],d);const f=l(e,["supportedGenerationMethods"]);f!=null&&a(n,["supportedActions"],f);const m=l(e,["temperature"]);m!=null&&a(n,["temperature"],m);const p=l(e,["maxTemperature"]);p!=null&&a(n,["maxTemperature"],p);const h=l(e,["topP"]);h!=null&&a(n,["topP"],h);const E=l(e,["topK"]);E!=null&&a(n,["topK"],E);const _=l(e,["thinking"]);return _!=null&&a(n,["thinking"],_),n}function ml(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const r=l(e,["description"]);r!=null&&a(n,["description"],r);const s=l(e,["versionId"]);s!=null&&a(n,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>PE(h))),a(n,["endpoints"],p)}const c=l(e,["labels"]);c!=null&&a(n,["labels"],c);const d=l(e,["_self"]);d!=null&&a(n,["tunedModelInfo"],L_(d));const f=l(e,["defaultCheckpointId"]);f!=null&&a(n,["defaultCheckpointId"],f);const m=l(e,["checkpoints"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>h)),a(n,["checkpoints"],p)}return n}function y_(e,t){const n={},o=l(e,["mediaResolution"]);o!=null&&a(n,["mediaResolution"],o);const i=l(e,["codeExecutionResult"]);i!=null&&a(n,["codeExecutionResult"],i);const r=l(e,["executableCode"]);r!=null&&a(n,["executableCode"],r);const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],ME(s));const u=l(e,["functionCall"]);u!=null&&a(n,["functionCall"],kE(u));const c=l(e,["functionResponse"]);c!=null&&a(n,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(n,["inlineData"],oE(d));const f=l(e,["text"]);f!=null&&a(n,["text"],f);const m=l(e,["thought"]);m!=null&&a(n,["thought"],m);const p=l(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function E_(e,t){const n={},o=l(e,["productImage"]);return o!=null&&a(n,["image"],ut(o)),n}function __(e,t,n){const o={},i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=l(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const s=l(e,["outputGcsUri"]);t!==void 0&&s!=null&&a(t,["parameters","storageUri"],s);const u=l(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=l(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const d=l(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const f=l(e,["addWatermark"]);t!==void 0&&f!=null&&a(t,["parameters","addWatermark"],f);const m=l(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const p=l(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const h=l(e,["enhancePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","enhancePrompt"],h);const E=l(e,["labels"]);return t!==void 0&&E!=null&&a(t,["labels"],E),o}function S_(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["source"]);r!=null&&C_(r,o);const s=l(t,["config"]);return s!=null&&__(s,o),o}function T_(e,t){const n={},o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>kr(r))),a(n,["generatedImages"],i)}return n}function C_(e,t,n){const o={},i=l(e,["prompt"]);t!==void 0&&i!=null&&a(t,["instances[0]","prompt"],i);const r=l(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],ut(r));const s=l(e,["productImages"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>E_(c))),a(t,["instances[0]","productImages"],u)}return o}function I_(e,t){const n={},o=l(e,["referenceImage"]);o!=null&&a(n,["referenceImage"],ut(o));const i=l(e,["referenceId"]);i!=null&&a(n,["referenceId"],i);const r=l(e,["referenceType"]);r!=null&&a(n,["referenceType"],r);const s=l(e,["maskImageConfig"]);s!=null&&a(n,["maskImageConfig"],v_(s));const u=l(e,["controlImageConfig"]);u!=null&&a(n,["controlImageConfig"],cE(u));const c=l(e,["styleImageConfig"]);c!=null&&a(n,["styleImageConfig"],c);const d=l(e,["subjectImageConfig"]);return d!=null&&a(n,["subjectImageConfig"],d),n}function Op(e,t){const n={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(n,["scores"],i);const r=l(e,["contentType"]);return r!=null&&a(n,["contentType"],r),n}function zp(e,t){const n={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(n,["scores"],i);const r=l(e,["contentType"]);return r!=null&&a(n,["contentType"],r),n}function w_(e,t){const n={},o=l(e,["category"]);if(o!=null&&a(n,["category"],o),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(e,["threshold"]);return i!=null&&a(n,["threshold"],i),n}function A_(e,t){const n={},o=l(e,["image"]);return o!=null&&a(n,["image"],ut(o)),n}function R_(e,t,n){const o={},i=l(e,["mode"]);t!==void 0&&i!=null&&a(t,["parameters","mode"],i);const r=l(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const s=l(e,["confidenceThreshold"]);t!==void 0&&s!=null&&a(t,["parameters","confidenceThreshold"],s);const u=l(e,["maskDilation"]);t!==void 0&&u!=null&&a(t,["parameters","maskDilation"],u);const c=l(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&a(t,["parameters","binaryColorThreshold"],c);const d=l(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),o}function N_(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["source"]);r!=null&&P_(r,o);const s=l(t,["config"]);return s!=null&&R_(s,o),o}function x_(e,t){const n={},o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>e_(r))),a(n,["generatedMasks"],i)}return n}function P_(e,t,n){const o={},i=l(e,["prompt"]);t!==void 0&&i!=null&&a(t,["instances[0]","prompt"],i);const r=l(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],ut(r));const s=l(e,["scribbleImage"]);return t!==void 0&&s!=null&&a(t,["instances[0]","scribble"],A_(s)),o}function M_(e,t){const n={},o=l(e,["retrievalConfig"]);o!=null&&a(n,["retrievalConfig"],o);const i=l(e,["functionCallingConfig"]);return i!=null&&a(n,["functionCallingConfig"],DE(i)),n}function k_(e,t){const n={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["computerUse"]);o!=null&&a(n,["computerUse"],o);const i=l(e,["fileSearch"]);i!=null&&a(n,["fileSearch"],i);const r=l(e,["codeExecution"]);if(r!=null&&a(n,["codeExecution"],r),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=l(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>p)),a(n,["functionDeclarations"],m)}const u=l(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],s_(u));const c=l(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],l_(c));const d=l(e,["googleSearchRetrieval"]);d!=null&&a(n,["googleSearchRetrieval"],d);const f=l(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function Jp(e,t){const n={},o=l(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const i=l(e,["computerUse"]);if(i!=null&&a(n,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=l(e,["codeExecution"]);r!=null&&a(n,["codeExecution"],r);const s=l(e,["enterpriseWebSearch"]);s!=null&&a(n,["enterpriseWebSearch"],s);const u=l(e,["functionDeclarations"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>LE(h))),a(n,["functionDeclarations"],p)}const c=l(e,["googleMaps"]);c!=null&&a(n,["googleMaps"],c);const d=l(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],d);const f=l(e,["googleSearchRetrieval"]);f!=null&&a(n,["googleSearchRetrieval"],f);const m=l(e,["urlContext"]);return m!=null&&a(n,["urlContext"],m),n}function D_(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const r=l(e,["updateTime"]);return r!=null&&a(n,["updateTime"],r),n}function L_(e,t){const n={},o=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&a(n,["baseModel"],o);const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const r=l(e,["updateTime"]);return r!=null&&a(n,["updateTime"],r),n}function U_(e,t,n){const o={},i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=l(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),o}function F_(e,t,n){const o={},i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=l(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),o}function V_(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","name"],J(e,i));const r=l(t,["config"]);return r!=null&&U_(r,o),o}function G_(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["config"]);return r!=null&&F_(r,o),o}function H_(e,t,n){const o={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=l(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const s=l(e,["personGeneration"]);t!==void 0&&s!=null&&a(t,["parameters","personGeneration"],s);const u=l(e,["includeRaiReason"]);t!==void 0&&u!=null&&a(t,["parameters","includeRaiReason"],u);const c=l(e,["outputMimeType"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","mimeType"],c);const d=l(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const f=l(e,["enhanceInputImage"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],f);const m=l(e,["imagePreservationFactor"]);t!==void 0&&m!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],m);const p=l(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const h=l(e,["numberOfImages"]);t!==void 0&&h!=null&&a(t,["parameters","sampleCount"],h);const E=l(e,["mode"]);return t!==void 0&&E!=null&&a(t,["parameters","mode"],E),o}function B_(e,t,n){const o={},i=l(t,["model"]);i!=null&&a(o,["_url","model"],J(e,i));const r=l(t,["image"]);r!=null&&a(o,["instances[0]","image"],ut(r));const s=l(t,["upscaleFactor"]);s!=null&&a(o,["parameters","upscaleConfig","upscaleFactor"],s);const u=l(t,["config"]);return u!=null&&H_(u,o),o}function q_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>kr(s))),a(n,["generatedImages"],r)}return n}function $_(e,t){const n={},o=l(e,["uri"]);o!=null&&a(n,["uri"],o);const i=l(e,["encodedVideo"]);i!=null&&a(n,["videoBytes"],tn(i));const r=l(e,["encoding"]);return r!=null&&a(n,["mimeType"],r),n}function O_(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["uri"],o);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(n,["videoBytes"],tn(i));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function z_(e,t){const n={},o=l(e,["image"]);o!=null&&a(n,["_self"],ut(o));const i=l(e,["maskMode"]);return i!=null&&a(n,["maskMode"],i),n}function J_(e,t){const n={},o=l(e,["image"]);o!=null&&a(n,["image"],Dr(o));const i=l(e,["referenceType"]);return i!=null&&a(n,["referenceType"],i),n}function W_(e,t){const n={},o=l(e,["image"]);o!=null&&a(n,["image"],ut(o));const i=l(e,["referenceType"]);return i!=null&&a(n,["referenceType"],i),n}function Wp(e,t){const n={},o=l(e,["uri"]);o!=null&&a(n,["uri"],o);const i=l(e,["videoBytes"]);i!=null&&a(n,["encodedVideo"],tn(i));const r=l(e,["mimeType"]);return r!=null&&a(n,["encoding"],r),n}function Yp(e,t){const n={},o=l(e,["uri"]);o!=null&&a(n,["gcsUri"],o);const i=l(e,["videoBytes"]);i!=null&&a(n,["bytesBase64Encoded"],tn(i));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function K_(e){const t={},n=l(e,["config"]);return n!=null&&Y_(n,t),t}function Q_(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function X_(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&Q_(o,t),t}function b_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function Z_(e,t){const n={},o=l(e,["customMetadata"]);if(t!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["customMetadata"],r)}const i=l(e,["chunkingConfig"]);return t!==void 0&&i!=null&&a(t,["chunkingConfig"],i),n}function j_(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);r!=null&&a(t,["error"],r);const s=l(e,["response"]);return s!=null&&a(t,["response"],tS(s)),t}function eS(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["fileName"]);o!=null&&a(t,["fileName"],o);const i=l(e,["config"]);return i!=null&&Z_(i,t),t}function tS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const i=l(e,["documentName"]);return i!=null&&a(t,["documentName"],i),t}function nS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function oS(e){const t={},n=l(e,["config"]);return n!=null&&nS(n,t),t}function iS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["fileSearchStores"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["fileSearchStores"],r)}return t}function Kp(e,t){const n={},o=l(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=l(e,["customMetadata"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const s=l(e,["chunkingConfig"]);return t!==void 0&&s!=null&&a(t,["chunkingConfig"],s),n}function rS(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["config"]);return o!=null&&Kp(o,t),t}function sS(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lS="Content-Type",aS="X-Server-Timeout",uS="User-Agent",hl="x-goog-api-client",cS="1.39.0",dS=`google-genai-sdk/${cS}`,fS="v1beta1",pS="v1beta";class mS{constructor(t){var n,o,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const r={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(r.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?r.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(r.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:fS}else{if(!this.clientOptions.apiKey)throw new Yo({message:"API key must be set when using the Gemini API.",status:403});r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:pS,r.baseUrl="https://generativelanguage.googleapis.com/"}r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===ul.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))i.searchParams.append(s,String(u));let r={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=t.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.unaryApiCall(i,r,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=t.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.streamApiCall(i,r,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,i){if(n&&n.timeout||i){const r=new AbortController,s=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>r.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),t.signal=s}return n&&n.extraBody!==null&&hS(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await td(i),new cl(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await td(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return st(this,arguments,function*(){var o;const i=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield G(i.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=r.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const _=JSON.parse(JSON.stringify(E.error)),C=_.status,v=_.code,g=`got status: ${C}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new Yo({message:g,status:v})}}catch(E){if(E.name==="ApiError")throw E}s+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const C of c){const v=s.indexOf(C);v!==-1&&(p===-1||v<p)&&(p=v,h=C.length)}if(p===-1)break;const E=s.substring(0,p);s=s.substring(p+h);const _=E.trim();if(_.startsWith(u)){const C=_.substring(u.length).trim();try{const v=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield G(new cl(v))}catch(v){throw new Error(`exception parsing stream chunk ${C}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=dS+" "+this.clientOptions.userAgentExtra;return t[uS]=n,t[hl]=n,t[lS]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[i,r]of Object.entries(t.headers))o.append(i,r);t.timeout&&t.timeout>0&&o.append(aS,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,s=await r.stat(t);i.sizeBytes=String(s.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(t),f=D("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return r.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,o){var i;const r=this.clientOptions.uploader,s=await r.stat(n),u=String(s.size),c=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&Kp(o,m);const p=await this.fetchUploadUrl(d,u,c,f,m,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,i,r,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(r),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function td(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new Yo({message:i,status:n}):new Error(i)}}function hS(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const r=JSON.parse(e.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,s){const u=Object.assign({},r);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=o(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gS="mcp_used/unknown";let vS=!1;function Qp(e){for(const t of e)if(yS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return vS}function Xp(e){var t;const n=(t=e[hl])!==null&&t!==void 0?t:"";e[hl]=(n+` ${gS}`).trimStart()}function yS(e){return e!==null&&typeof e=="object"&&e instanceof Ca}function ES(e){return st(this,arguments,function*(n,o=100){let i,r=0;for(;r<o;){const s=yield G(n.listTools({cursor:i}));for(const u of s.tools)yield yield G(u),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class Ca{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ca(t,n)}async initialize(){var t,n,o,i;if(this.mcpTools.length>0)return;const r={},s=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,lt(ES(f))),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;s.push(m);const p=m.name;if(r[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);r[p]=f}}catch(m){n={error:m}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),Kv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const s=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _S(e,t,n){const o=new Bv;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),t(o)}class SS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),s=IS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(y=>{d=y}),m=t.callbacks,p=function(){d({})},h=this.apiClient,E={onopen:p,onmessage:y=>{_S(h,m.onmessage,y)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(y){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(y){}},_=this.webSocketFactory.create(c,CS(s),E);_.connect(),await f;const g={setup:{model:J(this.apiClient,t.model)}};return _.send(JSON.stringify(g)),new TS(_,this.apiClient)}}class TS{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Y0(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=W0(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Dn.PLAY)}pause(){this.sendPlaybackControl(Dn.PAUSE)}stop(){this.sendPlaybackControl(Dn.STOP)}resetContext(){this.sendPlaybackControl(Dn.RESET_CONTEXT)}close(){this.conn.close()}}function CS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function IS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AS(e,t,n){const o=new Hv;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(e.isVertexAI()){const s=X0(r);Object.assign(o,s)}else Object.assign(o,r);t(o)}class RS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new SS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,i,r,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Qp(t.config.tools)&&Xp(m);const p=MS(m);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),k=this.apiClient.getLocation(),$=this.apiClient.getApiKey(),oe=!!P&&!!k||!!$;this.apiClient.getCustomBaseUrl()&&!oe?f=c:(f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f))}else{const P=this.apiClient.getApiKey();let k="BidiGenerateContent",$="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",$="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${k}?${$}=${P}`}let h=()=>{};const E=new Promise(P=>{h=P}),_=t.callbacks,C=function(){var P;(P=_==null?void 0:_.onopen)===null||P===void 0||P.call(_),h({})},v=this.apiClient,g={onopen:C,onmessage:P=>{AS(v,_.onmessage,P)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(P){}},y=this.webSocketFactory.create(f,PS(p),g);y.connect(),await E;let T=J(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const P=this.apiClient.getProject(),k=this.apiClient.getLocation();P&&k&&(T=`projects/${P}/locations/${k}/`+T)}let S={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ur.AUDIO]}:t.config.responseModalities=[ur.AUDIO]),!((r=t.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],A=[];for(const P of R)if(this.isCallableTool(P)){const k=P;A.push(await k.tool())}else A.push(P);A.length>0&&(t.config.tools=A);const x={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?S=J0(this.apiClient,x):S=z0(this.apiClient,x),delete S.config,y.send(JSON.stringify(S)),new xS(y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const NS={turnComplete:!0};class xS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Qe(n.turns),t.isVertexAI()||(o=o.map(i=>Mr(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!t.isVertexAI()&&!("id"in r))throw new Error(wS)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},NS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Q0(t)}:n={realtimeInput:K0(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function MS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nd=10;function od(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if($n(s)){i=!0;break}if(!i)return!0;const r=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function $n(e){return"callTool"in e&&typeof e.callTool=="function"}function kS(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>$n(i)))!==null&&o!==void 0?o:!1}function id(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,i)=>{if($n(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(i)}),n}function rd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DS extends xt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,i,r,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!kS(n)||od(n.config))return await this.generateContentInternal(c);const d=id(n);if(d.length>0){const _=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,m;const p=Qe(c.contents),h=(r=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:nd;let E=0;for(;E<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,C=[];for(const v of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if($n(v)){const y=await v.callTool(f.functionCalls);C.push(...y)}E++,m={role:"user",parts:C},c.contents=Qe(c.contents),c.contents.push(_),c.contents.push(m),rd(c.config)&&(p.push(_),p.push(m))}return rd(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,i,r,s,u;if(this.maybeMoveToResponseJsonSchem(n),od(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=id(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(r=(i=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,f=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const s=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:s.push(c);let u;return r?u={generatedImages:s,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new yn(Rt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(r=n.source)===null||r===void 0?void 0:r.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,i;const r=(n=t.config)===null||n===void 0?void 0:n.tools;if(!r)return t;const s=await Promise.all(r.map(async c=>$n(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&Qp(t.config.tools)){const c=(i=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Xp(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,o,i;const r=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if($n(s)){const u=s,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(r.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);r.set(d.name,u)}}return r}async processAfcStream(t){var n,o,i;const r=(i=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:nd;let s=!1,u=0;const c=await this.initAfcToolsMap(t);return function(d,f,m){return st(this,arguments,function*(){for(var p,h,E,_,C,v;u<r;){s&&(u++,s=!1);const S=yield G(d.processParamsMaybeAddMcpUsage(m)),R=yield G(d.generateContentStreamInternal(S)),A=[],x=[];try{for(var g=!0,y=(h=void 0,lt(R)),T;T=yield G(y.next()),p=T.done,!p;g=!0){_=T.value,g=!1;const P=_;if(yield yield G(P),P.candidates&&(!((C=P.candidates[0])===null||C===void 0)&&C.content)){x.push(P.candidates[0].content);for(const k of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<r&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(k.functionCall.name)){const $=yield G(f.get(k.functionCall.name).callTool([k.functionCall]));A.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(P){h={error:P}}finally{try{!g&&!p&&(E=y.return)&&(yield G(E.call(y)))}finally{if(h)throw h.error}}if(A.length>0){s=!0;const P=new mo;P.candidates=[{content:{role:"user",parts:A}}],yield yield G(P);const k=[];k.push(...x),k.push({role:"user",parts:A});const $=Qe(m.contents).concat(k);m.contents=$}else break}})}(this,c,t)}async generateContentInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Zc(this.apiClient,t);return u=D("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=ed(f),p=new mo;return Object.assign(p,m),p})}else{const d=bc(this.apiClient,t);return u=D("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=jc(f),p=new mo;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Zc(this.apiClient,t);return u=D("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return st(this,arguments,function*(){var p,h,E,_;try{for(var C=!0,v=lt(m),g;g=yield G(v.next()),p=g.done,!p;C=!0){_=g.value,C=!1;const y=_,T=ed(yield G(y.json()),t);T.sdkHttpResponse={headers:y.headers};const S=new mo;Object.assign(S,T),yield yield G(S)}}catch(y){h={error:y}}finally{try{!C&&!p&&(E=v.return)&&(yield G(E.call(v)))}finally{if(h)throw h.error}}})})}else{const d=bc(this.apiClient,t);return u=D("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return st(this,arguments,function*(){var p,h,E,_;try{for(var C=!0,v=lt(m),g;g=yield G(v.next()),p=g.done,!p;C=!0){_=g.value,C=!1;const y=_,T=jc(yield G(y.json()),t);T.sdkHttpResponse={headers:y.headers};const S=new mo;Object.assign(S,T),yield yield G(S)}}catch(y){h={error:y}}finally{try{!C&&!p&&(E=v.return)&&(yield G(E.call(v)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=RE(this.apiClient,t);return u=D("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=xE(f),p=new Lc;return Object.assign(p,m),p})}else{const d=AE(this.apiClient,t);return u=D("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=NE(f),p=new Lc;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=BE(this.apiClient,t);return u=D("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=$E(f),p=new Uc;return Object.assign(p,m),p})}else{const d=HE(this.apiClient,t);return u=D("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=qE(f),p=new Uc;return Object.assign(p,m),p})}}async editImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=TE(this.apiClient,t);return r=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=CE(c),f=new Rv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=B_(this.apiClient,t);return r=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=q_(c),f=new Nv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=S_(this.apiClient,t);return r=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=T_(c),f=new xv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=N_(this.apiClient,t);return r=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=x_(c),f=new Pv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=r_(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ml(f))}else{const d=i_(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>pl(f))}}async listInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=m_(this.apiClient,t);return u=D("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=g_(f),p=new Fc;return Object.assign(p,m),p})}else{const d=p_(this.apiClient,t);return u=D("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=h_(f),p=new Fc;return Object.assign(p,m),p})}}async update(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=G_(this.apiClient,t);return u=D("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ml(f))}else{const d=V_(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>pl(f))}}async delete(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=yE(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=_E(f),p=new Vc;return Object.assign(p,m),p})}else{const d=vE(this.apiClient,t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=EE(f),p=new Vc;return Object.assign(p,m),p})}}async countTokens(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=mE(this.apiClient,t);return u=D("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=gE(f),p=new Gc;return Object.assign(p,m),p})}else{const d=pE(this.apiClient,t);return u=D("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=hE(f),p=new Gc;return Object.assign(p,m),p})}}async computeTokens(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=sE(this.apiClient,t);return r=D("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=lE(c),f=new Mv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=KE(this.apiClient,t);return u=D("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const m=WE(f),p=new cr;return Object.assign(p,m),p})}else{const d=YE(this.apiClient,t);return u=D("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const m=JE(f),p=new cr;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LS extends xt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Sv(t);return u=D("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{const d=_v(t);return u=D("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=pv(t);return r=D("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function FS(e){const t={},n=l(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>JS(r))),a(t,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function VS(e,t,n){const o={},i=l(t,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const r=l(t,["newSessionExpireTime"]);n!==void 0&&r!=null&&a(n,["newSessionExpireTime"],r);const s=l(t,["uses"]);n!==void 0&&s!=null&&a(n,["uses"],s);const u=l(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],zS(e,u));const c=l(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function GS(e,t){const n={},o=l(t,["config"]);return o!=null&&a(n,["config"],VS(e,o,n)),n}function HS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function BS(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const i=l(e,["name"]);if(i!=null&&a(t,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function $S(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function OS(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const i=l(e,["responseModalities"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","responseModalities"],i);const r=l(e,["temperature"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","temperature"],r);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=l(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Ta(m));const p=l(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const h=l(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=l(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],FS(Ce(E)));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let R=eo(_);Array.isArray(R)&&(R=R.map(A=>YS(jn(A)))),a(t,["setup","tools"],R)}const C=l(e,["sessionResumption"]);t!==void 0&&C!=null&&a(t,["setup","sessionResumption"],WS(C));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const y=l(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&a(t,["setup","realtimeInputConfig"],y);const T=l(e,["contextWindowCompression"]);t!==void 0&&T!=null&&a(t,["setup","contextWindowCompression"],T);const S=l(e,["proactivity"]);if(t!==void 0&&S!=null&&a(t,["setup","proactivity"],S),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function zS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],J(e,o));const i=l(t,["config"]);return i!=null&&a(n,["config"],OS(i,n)),n}function JS(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const i=l(e,["executableCode"]);i!=null&&a(t,["executableCode"],i);const r=l(e,["fileData"]);r!=null&&a(t,["fileData"],HS(r));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],BS(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],US(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function WS(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function YS(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const i=l(e,["codeExecution"]);if(i!=null&&a(t,["codeExecution"],i),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],qS(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],$S(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KS(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);t.push(...i)}else t.push(n)}return t.join(",")}function QS(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(e.bidiGenerateContentSetup=r,n=r):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=KS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)r?e.fieldMask=r:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class XS extends xt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=GS(this.apiClient,t);r=D("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=QS(u,t.config);return i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function ZS(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&bS(o,t),t}function jS(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function eT(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=l(e,["pageToken"]);return t!==void 0&&i!=null&&a(t,["_query","pageToken"],i),n}function tT(e){const t={},n=l(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=l(e,["config"]);return o!=null&&eT(o,t),t}function nT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const i=l(e,["documents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),a(t,["documents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends xt{constructor(t){super(),this.apiClient=t,this.list=async n=>new yn(Rt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jS(t);return r=D("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ZS(t);i=D("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tT(t);return r=D("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=nT(c),f=new kv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends xt{constructor(t,n=new oT(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new yn(Rt.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=K_(t);return r=D("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b_(t);return r=D("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=X_(t);i=D("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=oS(t);return r=D("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=iS(c),f=new Dv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rS(t);return r=D("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=sS(c),f=new Lv;return Object.assign(f,d),f})}}async importFile(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eS(t);return r=D("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=j_(c),f=new va;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bp=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return bp=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const rT=()=>bp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gl(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const vl=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ze extends Error{}class xe extends Ze{constructor(t,n,o,i){super(`${xe.makeMessage(t,n,o)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,o){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,o,i){if(!t||!i)return new Lr({message:o,cause:vl(n)});const r=n;return t===400?new jp(t,r,o,i):t===401?new em(t,r,o,i):t===403?new tm(t,r,o,i):t===404?new nm(t,r,o,i):t===409?new om(t,r,o,i):t===422?new im(t,r,o,i):t===429?new rm(t,r,o,i):t>=500?new sm(t,r,o,i):new xe(t,r,o,i)}}class yl extends xe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Lr extends xe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Zp extends Lr{constructor({message:t}={}){super({message:t??"Request timed out."})}}class jp extends xe{}class em extends xe{}class tm extends xe{}class nm extends xe{}class om extends xe{}class im extends xe{}class rm extends xe{}class sm extends xe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sT=/^[a-z][a-z0-9+.-]*:/i,lT=e=>sT.test(e);let El=e=>(El=Array.isArray,El(e));const aT=El;let uT=aT;const sd=uT;function cT(e){if(!e)return!0;for(const t in e)return!1;return!0}function dT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const fT=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ze(`${e} must be an integer`);if(t<0)throw new Ze(`${e} must be a positive integer`);return t},pT=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mT=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _n="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const gT=()=>{var e,t,n,o,i;const r=hT();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":ad(Deno.build.os),"X-Stainless-Arch":ld(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":ad((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ld((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=vT();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vT(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const i=o[1]||0,r=o[2]||0,s=o[3]||0;return{browser:t,version:`${i}.${r}.${s}`}}}return null}const ld=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ad=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ei;const yT=()=>Ei??(Ei=gT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function lm(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function _T(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return lm({start(){},async pull(n){const{done:o,value:i}=await t.next();o?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function am(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ST(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TT=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const um=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ds(e,t,n){return um(),new File(e,t??"unknown_file",n)}function CT(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const IT=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cm=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",wT=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&cm(e),AT=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function RT(e,t,n){if(um(),e=await e,wT(e))return e instanceof File?e:ds([await e.arrayBuffer()],e.name);if(AT(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ds(await _l(i),t,n)}const o=await _l(e);if(t||(t=CT(e)),!(n!=null&&n.type)){const i=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ds(o,t,n)}async function _l(e){var t,n,o,i,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(cm(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(IT(e))try{for(var u=!0,c=lt(e),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const f=i;s.push(...await _l(f))}}catch(f){n={error:f}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${f?`; constructor: ${f}`:""}${NT(e)}`)}return s}function NT(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dm{constructor(t){this._client=t}}dm._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fm(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ud=Object.freeze(Object.create(null)),xT=(e=fm)=>function(n,...o){if(n.length===1)return n[0];let i=!1;const r=[],s=n.reduce((f,m,p)=>{var h,E,_;/[?#]/.test(m)&&(i=!0);const C=o[p];let v=(i?encodeURIComponent:e)(""+C);return p!==o.length&&(C==null||typeof C=="object"&&C.toString===((_=Object.getPrototypeOf((E=Object.getPrototypeOf((h=C.hasOwnProperty)!==null&&h!==void 0?h:ud))!==null&&E!==void 0?E:ud))===null||_===void 0?void 0:_.toString))&&(v=C+"",r.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":v)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)r.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(r.sort((f,m)=>f.start-m.start),r.length>0){let f=0;const m=r.reduce((p,h)=>{const E=" ".repeat(h.start-f),_="^".repeat(h.length);return f=h.start+h.length,p+E+_},"");throw new Ze(`Path parameters result in path with invalid segments:
${r.map(p=>p.error).join(`
`)}
${s}
${m}`)}return s},_i=xT(fm);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pm extends dm{create(t,n){var o;const{api_version:i=this._client.apiVersion}=t,r=fr(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new Ze("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new Ze("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_i`/${i}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(_i`/${i}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(_i`/${i}/interactions/${t}/cancel`,o)}get(t,n={},o){var i;const r=n??{},{api_version:s=this._client.apiVersion}=r,u=fr(r,["api_version"]);return this._client.get(_i`/${s}/interactions/${t}`,Object.assign(Object.assign({query:u},o),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}pm._key=Object.freeze(["interactions"]);class mm extends pm{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let o=0;for(const i of e)n.set(i,o),o+=i.length;return n}let Si;function Ia(e){let t;return(Si??(t=new globalThis.TextEncoder,Si=t.encode.bind(t)))(e)}let Ti;function cd(e){let t;return(Ti??(t=new globalThis.TextDecoder,Ti=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ur{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ia(t):t;this.buffer=PT([this.buffer,n]);const o=[];let i;for(;(i=MT(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(cd(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=cd(this.buffer.subarray(0,r));o.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Ur.NEWLINE_CHARS=new Set([`
`,"\r"]);Ur.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MT(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function kT(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pr={off:0,error:200,warn:300,info:400,debug:500},dd=(e,t,n)=>{if(e){if(dT(pr,e))return e;Ae(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(pr))}`)}};function _o(){}function Ci(e,t,n){return!t||pr[e]>pr[n]?_o:t[e].bind(t)}const DT={error:_o,warn:_o,info:_o,debug:_o};let fd=new WeakMap;function Ae(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return DT;const i=fd.get(n);if(i&&i[0]===o)return i[1];const r={error:Ci("error",n,o),warn:Ci("warn",n,o),info:Ci("info",n,o),debug:Ci("debug",n,o)};return fd.set(n,[o,r]),r}const rn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let i=!1;const r=o?Ae(o):console;function s(){return st(this,arguments,function*(){var c,d,f,m;if(i)throw new Ze("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var h=!0,E=lt(LT(t,n)),_;_=yield G(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const C=m;if(!p)if(C.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield G(JSON.parse(C.data))}catch(v){throw r.error("Could not parse message into JSON:",C.data),r.error("From chunk:",C.raw),v}}}catch(C){d={error:C}}finally{try{!h&&!c&&(f=E.return)&&(yield G(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(C){if(gl(C))return yield G(void 0);throw C}finally{p||n.abort()}})}return new Ln(s,n,o)}static fromReadableStream(t,n,o){let i=!1;function r(){return st(this,arguments,function*(){var c,d,f,m;const p=new Ur,h=am(t);try{for(var E=!0,_=lt(h),C;C=yield G(_.next()),c=C.done,!c;E=!0){m=C.value,E=!1;const v=m;for(const g of p.decode(v))yield yield G(g)}}catch(v){d={error:v}}finally{try{!E&&!c&&(f=_.return)&&(yield G(f.call(_)))}finally{if(d)throw d.error}}for(const v of p.flush())yield yield G(v)})}function s(){return st(this,arguments,function*(){var c,d,f,m;if(i)throw new Ze("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var h=!0,E=lt(r()),_;_=yield G(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const C=m;p||C&&(yield yield G(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!h&&!c&&(f=E.return)&&(yield G(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(C){if(gl(C))return yield G(void 0);throw C}finally{p||n.abort()}})}return new Ln(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),i=r=>({next:()=>{if(r.length===0){const s=o.next();t.push(s),n.push(s)}return r.shift()}});return[new Ln(()=>i(t),this.controller,this.client),new Ln(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return lm({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:r}=await n.next();if(r)return o.close();const s=Ia(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function LT(e,t){return st(this,arguments,function*(){var o,i,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ze("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ze("Attempted to iterate over a response with no body");const u=new FT,c=new Ur,d=am(e.body);try{for(var f=!0,m=lt(UT(d)),p;p=yield G(m.next()),o=p.done,!o;f=!0){s=p.value,f=!1;const h=s;for(const E of c.decode(h)){const _=u.decode(E);_&&(yield yield G(_))}}}catch(h){i={error:h}}finally{try{!f&&!o&&(r=m.return)&&(yield G(r.call(m)))}finally{if(i)throw i.error}}for(const h of c.flush()){const E=u.decode(h);E&&(yield yield G(E))}})}function UT(e){return st(this,arguments,function*(){var n,o,i,r;let s=new Uint8Array;try{for(var u=!0,c=lt(e),d;d=yield G(c.next()),n=d.done,!n;u=!0){r=d.value,u=!1;const f=r;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ia(f):f;let p=new Uint8Array(s.length+m.length);p.set(s),p.set(m,s.length),s=p;let h;for(;(h=kT(s))!==-1;)yield yield G(s.slice(0,h)),s=s.slice(h)}}catch(f){o={error:f}}finally{try{!u&&!n&&(i=c.return)&&(yield G(i.call(c)))}finally{if(o)throw o.error}}s.length>0&&(yield yield G(s))})}class FT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,i]=VT(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function VT(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function GT(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:i,startTime:r}=t,s=await(async()=>{var u;if(t.options.stream)return Ae(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ln.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Ae(e).debug(`[${o}] response parsed`,rn({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wa extends Promise{constructor(t,n,o=GT){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new wa(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hm=Symbol("brand.privateNullableHeaders");function*HT(e){if(!e)return;if(hm in e){const{values:o,nulls:i}=e;yield*o.entries();for(const r of i)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():sd(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=sd(o[1])?o[1]:[o[1]];let s=!1;for(const u of r)u!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const ho=e=>{const t=new Headers,n=new Set;for(const o of e){const i=new Set;for(const[r,s]of HT(o)){const u=r.toLowerCase();i.has(u)||(t.delete(r),i.add(u)),s===null?(t.delete(r),n.add(u)):(t.append(r,s),n.delete(u))}}return{[hm]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fs=e=>{var t,n,o,i,r,s;if(typeof globalThis.process<"u")return(o=(n=(t=lv)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||r===void 0?void 0:r.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gm;class Fr{constructor(t){var n,o,i,r,s,u,c,{baseURL:d=fs("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=fs("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,p=fr(t,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(o=h.timeout)!==null&&o!==void 0?o:Fr.DEFAULT_TIMEOUT,this.logger=(i=h.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(s=(r=dd(h.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:dd(fs("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=h.fetchOptions,this.maxRetries=(u=h.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:ET(),this.encoder=TT,this._options=h,this.apiKey=f,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=ho([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ho([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ho([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Ze(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_n}`}defaultIdempotencyKey(){return`stainless-node-retry-${rT()}`}makeStatusError(t,n,o,i){return xe.generate(t,n,o,i)}buildURL(t,n,o){const i=!this.baseURLOverridden()&&o||this.baseURL,r=lT(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return cT(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new wa(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var i,r,s;const u=await t,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(Ae(this).debug(`[${p}] sending request`,rn({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((r=u.signal)===null||r===void 0)&&r.aborted)throw new yl;const _=new AbortController,C=await this.fetchWithTimeout(f,d,m,_).catch(vl),v=Date.now();if(C instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new yl;const T=gl(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Ae(this).info(`[${p}] connection ${T?"timed out":"failed"} - ${y}`),Ae(this).debug(`[${p}] connection ${T?"timed out":"failed"} (${y})`,rn({retryOfRequestLogID:o,url:f,durationMs:v-E,message:C.message})),this.retryRequest(u,n,o??p);throw Ae(this).info(`[${p}] connection ${T?"timed out":"failed"} - error; no more retries left`),Ae(this).debug(`[${p}] connection ${T?"timed out":"failed"} (error; no more retries left)`,rn({retryOfRequestLogID:o,url:f,durationMs:v-E,message:C.message})),T?new Zp:new Lr({cause:C})}const g=`[${p}${h}] ${d.method} ${f} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${v-E}ms`;if(!C.ok){const y=await this.shouldRetry(C);if(n&&y){const P=`retrying, ${n} attempts remaining`;return await ST(C.body),Ae(this).info(`${g} - ${P}`),Ae(this).debug(`[${p}] response error (${P})`,rn({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:v-E})),this.retryRequest(u,n,o??p,C.headers)}const T=y?"error; no more retries left":"error; not retryable";Ae(this).info(`${g} - ${T}`);const S=await C.text().catch(P=>vl(P).message),R=pT(S),A=R?void 0:S;throw Ae(this).debug(`[${p}] response error (${T})`,rn({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,message:A,durationMs:Date.now()-E})),this.makeStatusError(C.status,R,A,C.headers)}return Ae(this).info(g),Ae(this).debug(`[${p}] response start`,rn({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:v-E})),{response:C,options:u,controller:_,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(t,n,o,i){const r=n||{},{signal:s,method:u}=r,c=fr(r,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,i){var r;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(s=d)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await mT(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,i,r;const s=Object.assign({},t),{method:u,path:c,query:d,defaultBaseURL:f}=s,m=this.buildURL(c,d,f);"timeout"in s&&fT("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:s}),E=await this.buildHeaders({options:t,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:m,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:i}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let u=ho([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),yT()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=ho([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:_T(t)}:this.encoder({body:t,headers:o})}}Fr.DEFAULT_TIMEOUT=6e4;class pe extends Fr{constructor(){super(...arguments),this.interactions=new mm(this)}}gm=pe;pe.GeminiNextGenAPIClient=gm;pe.GeminiNextGenAPIClientError=Ze;pe.APIError=xe;pe.APIConnectionError=Lr;pe.APIConnectionTimeoutError=Zp;pe.APIUserAbortError=yl;pe.NotFoundError=nm;pe.ConflictError=om;pe.RateLimitError=rm;pe.BadRequestError=jp;pe.AuthenticationError=em;pe.InternalServerError=sm;pe.PermissionDeniedError=tm;pe.UnprocessableEntityError=im;pe.toFile=RT;pe.Interactions=mm;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function qT(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function $T(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function OT(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function zT(e,t,n){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&a(t,["displayName"],i),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=l(e,["epochCount"]);t!==void 0&&r!=null&&a(t,["tuningTask","hyperparameters","epochCount"],r);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(l(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(l(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=l(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(l(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(l(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(l(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(l(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return o}function JT(e,t,n){const o={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const S=l(e,["validationDataset"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec"],ps(S))}else if(i==="PREFERENCE_TUNING"){const S=l(e,["validationDataset"]);t!==void 0&&S!=null&&a(t,["preferenceOptimizationSpec"],ps(S))}else if(i==="DISTILLATION"){const S=l(e,["validationDataset"]);t!==void 0&&S!=null&&a(t,["distillationSpec"],ps(S))}const r=l(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&a(t,["tunedModelDisplayName"],r);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const S=l(e,["epochCount"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(u==="PREFERENCE_TUNING"){const S=l(e,["epochCount"]);t!==void 0&&S!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}else if(u==="DISTILLATION"){const S=l(e,["epochCount"]);t!==void 0&&S!=null&&a(t,["distillationSpec","hyperParameters","epochCount"],S)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=l(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(c==="PREFERENCE_TUNING"){const S=l(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}else if(c==="DISTILLATION"){const S=l(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&a(t,["distillationSpec","hyperParameters","learningRateMultiplier"],S)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=l(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(d==="PREFERENCE_TUNING"){const S=l(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}else if(d==="DISTILLATION"){const S=l(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&a(t,["distillationSpec","exportLastCheckpointOnly"],S)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=l(e,["adapterSize"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(f==="PREFERENCE_TUNING"){const S=l(e,["adapterSize"]);t!==void 0&&S!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}else if(f==="DISTILLATION"){const S=l(e,["adapterSize"]);t!==void 0&&S!=null&&a(t,["distillationSpec","hyperParameters","adapterSize"],S)}let m=l(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=l(e,["tuningMode"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","tuningMode"],S)}const p=l(e,["customBaseModel"]);t!==void 0&&p!=null&&a(t,["customBaseModel"],p);let h=l(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=l(e,["batchSize"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","hyperParameters","batchSize"],S)}let E=l(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const S=l(e,["learningRate"]);t!==void 0&&S!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRate"],S)}const _=l(e,["labels"]);t!==void 0&&_!=null&&a(t,["labels"],_);const C=l(e,["beta"]);t!==void 0&&C!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],C);const v=l(e,["baseTeacherModel"]);t!==void 0&&v!=null&&a(t,["distillationSpec","baseTeacherModel"],v);const g=l(e,["tunedTeacherModelSource"]);t!==void 0&&g!=null&&a(t,["distillationSpec","tunedTeacherModelSource"],g);const y=l(e,["sftLossWeightMultiplier"]);t!==void 0&&y!=null&&a(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],y);const T=l(e,["outputUri"]);return t!==void 0&&T!=null&&a(t,["outputUri"],T),o}function WT(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=l(e,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=l(e,["trainingDataset"]);r!=null&&oC(r);const s=l(e,["config"]);return s!=null&&zT(s,n),n}function YT(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=l(e,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=l(e,["trainingDataset"]);r!=null&&iC(r,n,t);const s=l(e,["config"]);return s!=null&&JT(s,n,t),n}function KT(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function QT(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function XT(e,t,n){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function bT(e,t,n){const o={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function ZT(e,t){const n={},o=l(e,["config"]);return o!=null&&XT(o,n),n}function jT(e,t){const n={},o=l(e,["config"]);return o!=null&&bT(o,n),n}function eC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=l(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>vm(u))),a(n,["tuningJobs"],s)}return n}function tC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=l(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Sl(u))),a(n,["tuningJobs"],s)}return n}function nC(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["model"],o);const i=l(e,["name"]);return i!=null&&a(n,["endpoint"],i),n}function oC(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(n,["examples","examples"],i)}return n}function iC(e,t,n){const o={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["distillationSpec","promptDatasetUri"],s)}let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(r==="DISTILLATION"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["distillationSpec","promptDatasetUri"],s)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function vm(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["state"]);r!=null&&a(n,["state"],Dp(r));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=l(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=l(e,["description"]);f!=null&&a(n,["description"],f);const m=l(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=l(e,["_self"]);return p!=null&&a(n,["tunedModel"],nC(p)),n}function Sl(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["state"]);r!=null&&a(n,["state"],Dp(r));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=l(e,["endTime"]);c!=null&&a(n,["endTime"],c);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=l(e,["error"]);f!=null&&a(n,["error"],f);const m=l(e,["description"]);m!=null&&a(n,["description"],m);const p=l(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=l(e,["tunedModel"]);h!=null&&a(n,["tunedModel"],h);const E=l(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const _=l(e,["supervisedTuningSpec"]);_!=null&&a(n,["supervisedTuningSpec"],_);const C=l(e,["preferenceOptimizationSpec"]);C!=null&&a(n,["preferenceOptimizationSpec"],C);const v=l(e,["distillationSpec"]);v!=null&&a(n,["distillationSpec"],v);const g=l(e,["tuningDataStats"]);g!=null&&a(n,["tuningDataStats"],g);const y=l(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const T=l(e,["partnerModelTuningSpec"]);T!=null&&a(n,["partnerModelTuningSpec"],T);const S=l(e,["customBaseModel"]);S!=null&&a(n,["customBaseModel"],S);const R=l(e,["experiment"]);R!=null&&a(n,["experiment"],R);const A=l(e,["labels"]);A!=null&&a(n,["labels"],A);const x=l(e,["outputUri"]);x!=null&&a(n,["outputUri"],x);const P=l(e,["pipelineJob"]);P!=null&&a(n,["pipelineJob"],P);const k=l(e,["serviceAccount"]);k!=null&&a(n,["serviceAccount"],k);const $=l(e,["tunedModelDisplayName"]);$!=null&&a(n,["tunedModelDisplayName"],$);const oe=l(e,["veoTuningSpec"]);return oe!=null&&a(n,["veoTuningSpec"],oe),n}function rC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const s=l(e,["done"]);s!=null&&a(n,["done"],s);const u=l(e,["error"]);return u!=null&&a(n,["error"],u),n}function ps(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const i=l(e,["vertexDatasetResource"]);return i!=null&&a(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new yn(Rt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:al.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=QT(t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Sl(f))}else{const d=KT(t);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>vm(f))}}async listInternal(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=jT(t);return u=D("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=tC(f),p=new Hc;return Object.assign(p,m),p})}else{const d=ZT(t);return u=D("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=eC(f),p=new Hc;return Object.assign(p,m),p})}}async cancel(t){var n,o,i,r;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=qT(t);return u=D("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=OT(f),p=new Bc;return Object.assign(p,m),p})}else{const d=BT(t);return u=D("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=$T(f),p=new Bc;return Object.assign(p,m),p})}}async tuneInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const u=YT(t,t);return r=D("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>Sl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WT(t);return r=D("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>rC(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lC{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const aC=1024*1024*8,uC=3,cC=1e3,dC=2,mr="x-goog-upload-status";async function fC(e,t,n){var o;const i=await ym(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[mr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function pC(e,t,n){var o;const i=await ym(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[mr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Rp(r),u=new ya;return Object.assign(u,s),u}async function ym(e,t,n){var o,i;let r=0,s=0,u=new cl(new Response),c="upload";for(r=e.size;s<r;){const d=Math.min(aC,r-s),f=e.slice(s,s+d);s+d>=r&&(c+=", finalize");let m=0,p=cC;for(;m<uC&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[mr]));)m++,await hC(p),p=p*dC;if(s+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[mr])!=="active")break;if(r<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function mC(e){return{size:e.size,type:e.type}}function hC(e){return new Promise(t=>setTimeout(t,e))}class gC{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fC(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await pC(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vC{create(t,n,o){return new yC(t,n,o)}}class yC{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pd="x-goog-api-key";class EC{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(pd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(pd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _C="gl-node/";class SC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new pe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=dv(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new EC(this.apiKey);this.apiClient=new mS({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:_C+"web",uploader:new gC,downloader:new lC}),this.models=new DS(this.apiClient),this.live=new RS(this.apiClient,i,new vC),this.batches=new qy(this.apiClient),this.chats=new T0(this.models,this.apiClient),this.caches=new E0(this.apiClient),this.files=new L0(this.apiClient),this.operations=new LS(this.apiClient),this.authTokens=new XS(this.apiClient),this.tunings=new sC(this.apiClient),this.fileSearchStores=new iT(this.apiClient)}}const TC=new SC({apiKey:"AIzaSyD5vtCLrBJjhRI-IXk6sZYMQbac-g5UdXM"}),CC="gemini-3-flash-preview",IC={type:Ge.OBJECT,properties:{action:{type:Ge.STRING,enum:["BID","CHALLENGE"],description:" 'CHALLENGE' () 'BID'"},quantity:{type:Ge.INTEGER,description:" BID "},face:{type:Ge.INTEGER,description:" (1-6) BID "},reasoning:{type:Ge.STRING,description:" ()"}},required:["action","reasoning"]},wC=async(e,t,n,o,i)=>{const r=e.dice.join(", "),s=o.map(d=>`${d.quantity}${d.face}`).join(" -> "),u=t?`${t.quantity}  ${t.face}`:" ()",c=`
     (Liar's Dice / Perudo)
    
    -  ()${n}
    -  ()[${r}]
    -  ()${u}
    - ${s}
    
    
    1. '1'  (Aces)  (Wild) 1 
    2.  (BID)
    3.  (CHALLENGE) ( < )
    
     (${i==="hard"?"":""}) 
    ${i==="hard"?" (Bluff)":""}
    
     JSON 
    **reasoning  (Traditional Chinese) **
  `;try{const f=(await TC.models.generateContent({model:CC,contents:"",config:{systemInstruction:c,responseMimeType:"application/json",responseSchema:IC,temperature:i==="hard"?.9:.5}})).text;if(!f)throw new Error("No response from AI");return JSON.parse(f)}catch(d){return console.error("Gemini AI Error:",d),t?{action:"CHALLENGE",reasoning:""}:{action:"BID",quantity:1,face:2,reasoning:""}}},Ii=({value:e,size:t="md",hidden:n=!1})=>{const o={sm:"w-8 h-8 text-lg",md:"w-12 h-12 text-2xl",lg:"w-16 h-16 text-4xl"};return n?I.jsx("div",{className:`${o[t]} bg-slate-700 rounded-lg shadow-md flex items-center justify-center border-2 border-slate-600`,children:I.jsx("span",{className:"text-slate-500 font-bold",children:"?"})}):I.jsxs("div",{className:`${o[t]} bg-white rounded-lg shadow-inner shadow-gray-400 flex relative overflow-hidden border border-gray-300`,children:[I.jsx("div",{className:"grid grid-cols-3 grid-rows-3 w-full h-full p-1 gap-0.5",children:[...Array(9)].map((i,r)=>{const s=AC(e,r);return I.jsx("div",{className:"flex justify-center items-center",children:s&&I.jsx("div",{className:`rounded-full bg-black ${t==="sm"?"w-1.5 h-1.5":"w-2.5 h-2.5"}`})},r)})}),e===1&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20 text-red-500 font-bold",children:""})]})};function AC(e,t){var o;return((o={1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]}[e])==null?void 0:o.includes(t))||!1}const RC=({settings:e,onLeave:t})=>{const[n,o]=O.useState([]),[i,r]=O.useState(0),[s,u]=O.useState(null),[c,d]=O.useState([]),[f,m]=O.useState([]),[p,h]=O.useState(Se.LOBBY),[E,_]=O.useState(0),[C,v]=O.useState(null),[g,y]=O.useState(null),[T,S]=O.useState(1),[R,A]=O.useState(2),[x,P]=O.useState(!1),[k,$]=O.useState(e.isHost?"host":"guest-temp"),oe=O.useRef(null),Q=O.useRef(null),ie=O.useRef([]),ze=O.useRef(null);O.useEffect(()=>{if(e.isHost){const w={id:"host",name:e.playerName,isAi:!1,dice:[],diceCount:e.startingDice,isEliminated:!1,avatarSeed:0,isHost:!0};o([w]),$("host"),e.mode==="single"?j(w):Mt()}else kt();return()=>{var w;(w=Q.current)==null||w.destroy()}},[]);const Mt=()=>{const w=`gemini-liar-${e.roomId}`,U=new Peer(w);Q.current=U,U.on("open",()=>{we(`${e.roomId}...`)}),U.on("connection",V=>{V.on("open",()=>{ie.current.push(V)}),V.on("data",B=>{M(B)}),V.on("close",()=>{we("","error")})}),U.on("error",V=>{console.error(V),V.type==="unavailable-id"?we(" ID ","error"):we(`: ${V.type}`,"error")})},kt=()=>{const w=new Peer;Q.current=w,w.on("open",U=>{$(U),we("...");const V=`gemini-liar-${e.roomId}`,B=w.connect(V);B.on("open",()=>{ze.current=B,we("");const W={id:U,name:e.playerName,isAi:!1,dice:[],diceCount:e.startingDice,isEliminated:!1,avatarSeed:Math.floor(Math.random()*100)};B.send({type:"JOIN",player:W})}),B.on("data",W=>{W.type==="SYNC"&&H(W.state)}),B.on("error",()=>we("","error"))})},M=w=>{if(e.isHost)switch(w.type){case"JOIN":if(p!==Se.LOBBY)return;const U=w.player;o(V=>{const B=[...V,U];return F({players:B,logs:[...f,{id:Date.now().toString(),message:`${U.name} `,type:"info"}]}),B});break;case"BID":je(n[i].id,w.quantity,w.face);break;case"CHALLENGE":ct(n[i].id);break}},F=w=>{if(!e.isHost)return;const V={type:"SYNC",state:w||{players:n,currentPlayerIndex:i,currentBid:s,bidHistory:c,logs:f,phase:p,totalDiceInGame:E,roundWinner:C,challengeResult:g}};ie.current.forEach(B=>{B.open&&B.send(V)})},H=w=>{w.players&&o(w.players),w.currentPlayerIndex!==void 0&&r(w.currentPlayerIndex),w.currentBid!==void 0&&u(w.currentBid),w.bidHistory&&d(w.bidHistory),w.logs&&m(w.logs),w.phase&&h(w.phase),w.totalDiceInGame!==void 0&&_(w.totalDiceInGame),w.roundWinner!==void 0&&v(w.roundWinner),w.challengeResult!==void 0&&y(w.challengeResult)},j=w=>{const U=[w];for(let V=1;V<e.playerCount;V++)U.push({id:`ai-${V}`,name:`Gemini AI ${V}`,isAi:!0,dice:[],diceCount:e.startingDice,isEliminated:!1,avatarSeed:V});o(U),Dt(U,0)},le=()=>{let w=[...n];const U=w.length,V=e.playerCount-U;for(let B=0;B<V;B++)w.push({id:`bot-${B}`,name:`Bot ${B+1}`,isAi:!0,dice:[],diceCount:e.startingDice,isEliminated:!1,avatarSeed:50+B});o(w),Dt(w,0)},Dt=(w,U)=>{const V=w.map(ye=>({...ye,dice:ye.isEliminated?[]:tv(ye.diceCount)})),B=V.reduce((ye,dt)=>ye+dt.diceCount,0);o(V),_(B),u(null),d([]),h(Se.PLAYING),y(null),v(null),S(1),A(2);let W=U;for(;V[W].isEliminated;)W=(W+1)%V.length;r(W);const ve={id:Date.now().toString(),message:` ${B} `,type:"info"};m(ye=>[...ye,ve]),F({players:V,totalDiceInGame:B,currentBid:null,bidHistory:[],phase:Se.PLAYING,challengeResult:null,roundWinner:null,currentPlayerIndex:W,logs:[...f,ve]})};O.useEffect(()=>{if(!e.isHost)return;const w=n[i];p===Se.PLAYING&&(w!=null&&w.isAi)&&!x&&no(w)},[i,p,n]),O.useEffect(()=>{var w;(w=oe.current)==null||w.scrollIntoView({behavior:"smooth"})},[f]);const we=(w,U="info")=>{const V={id:Date.now().toString(),message:w,type:U};m(B=>[...B,V])},no=async w=>{P(!0),await new Promise(U=>setTimeout(U,1500));try{const U=await wC(w,s,E,c,e.difficulty);U.action==="BID"&&U.quantity&&U.face&&cs(s,U.quantity,U.face)?je(w.id,U.quantity,U.face):ct(w.id)}catch{ct(w.id)}finally{P(!1)}},je=(w,U,V)=>{var io;if(!e.isHost){(io=ze.current)==null||io.send({type:"BID",quantity:U,face:V});return}const B={playerId:w,quantity:U,face:V},W=n.find(jo=>jo.id===w),ve=[...f,{id:Date.now().toString(),message:`${W==null?void 0:W.name}  ${U}  ${vi[V]}`,type:"bid"}],ye=[...c,B];let dt=(i+1)%n.length;for(;n[dt].isEliminated;)dt=(dt+1)%n.length;u(B),d(ye),m(ve),r(dt),F({currentBid:B,bidHistory:ye,logs:ve,currentPlayerIndex:dt}),w==="host"&&U>=T&&(S(U),V>=6?(S(U+1),A(2)):A(V+1))},ct=w=>{var jo;if(!e.isHost){(jo=ze.current)==null||jo.send({type:"CHALLENGE"});return}if(!s)return;const U=nv(n,s.face),V=s.playerId,B=n.find(Vr=>Vr.id===V),W=n.find(Vr=>Vr.id===w);let ve="",ye="";U>=s.quantity?(ve=w,ye=` ${U}  ${vi[s.face]}${W==null?void 0:W.name} `):(ve=V,ye=` ${U}  ${vi[s.face]}${B==null?void 0:B.name} `);const dt={loserId:ve,actualCount:U,bid:s},io=[...f,{id:Date.now().toString(),message:ye,type:"challenge"}];h(Se.ROUND_END),y(dt),m(io),F({phase:Se.ROUND_END,challengeResult:dt,logs:io}),setTimeout(()=>{_m(ve)},4e3)},_m=w=>{const U=n.map(W=>{if(W.id===w){const ve=W.diceCount-1;return{...W,diceCount:ve,isEliminated:ve<=0}}return W}),V=U.filter(W=>!W.isEliminated);if(V.length===1){const W=V[0].name;o(U),h(Se.GAME_OVER),v(W);const ve={id:Date.now().toString(),message:`${W} `,type:"win"};m(ye=>[...ye,ve]),F({players:U,phase:Se.GAME_OVER,roundWinner:W,logs:[...f,ve]});return}let B=U.findIndex(W=>W.id===w);if(U[B].isEliminated)do B=(B+1)%U.length;while(U[B].isEliminated);Dt(U,B)};if(p===Se.LOBBY)return I.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4",children:I.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700",children:[I.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-indigo-400",children:e.isHost?"...":""}),I.jsxs("div",{className:"space-y-4 mb-8",children:[n.map(w=>I.jsxs("div",{className:"flex items-center gap-4 bg-slate-700/50 p-3 rounded-lg",children:[I.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${yi[w.avatarSeed%yi.length]}`,children:w.name.charAt(0)}),I.jsxs("span",{className:"font-medium",children:[w.name," ",w.id===k?"()":""]}),w.isHost&&I.jsx("span",{className:"text-xs bg-indigo-500 px-2 py-0.5 rounded text-white ml-auto",children:""})]},w.id)),Array.from({length:Math.max(0,e.playerCount-n.length)}).map((w,U)=>I.jsxs("div",{className:"flex items-center gap-4 border border-dashed border-slate-600 p-3 rounded-lg opacity-50",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700"}),I.jsxs("span",{className:"text-slate-500",children:["... ",e.isHost?"( AI )":""]})]},U))]}),e.isHost?I.jsxs("div",{className:"flex flex-col gap-3",children:[I.jsxs(Vt,{onClick:le,className:"w-full py-3 text-lg",children:[" (",n.length,"/",e.playerCount,")"]}),I.jsx("p",{className:"text-xs text-center text-slate-500",children:" AI "})]}):I.jsx("div",{className:"text-center text-slate-400 animate-pulse",children:"..."}),I.jsx(Vt,{variant:"ghost",onClick:t,className:"w-full mt-4",children:""})]})});const vt=n[i],Aa=(vt==null?void 0:vt.id)===k&&p===Se.PLAYING,oo=n.find(w=>w.id===k),Sm=n.filter(w=>w.id!==k),Tm=w=>p===Se.GAME_OVER||w.id===k||p===Se.ROUND_END&&((g==null?void 0:g.loserId)===w.id||(g==null?void 0:g.bid.playerId)===w.id);return I.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col overflow-hidden font-sans",children:[I.jsxs("div",{className:"h-14 border-b border-slate-800 flex items-center justify-between px-4 bg-slate-950",children:[I.jsxs("span",{className:"font-bold text-indigo-400 tracking-wider",children:["GEMINI  ",e.mode==="multiplayer"?`(Room: ${e.roomId})`:""]}),I.jsx(Vt,{variant:"ghost",onClick:t,className:"text-xs",children:""})]}),I.jsxs("div",{className:"flex-1 relative flex flex-col",children:[I.jsx("div",{className:"flex-1 flex items-start justify-center p-4 gap-4 flex-wrap content-start",children:Sm.map(w=>I.jsxs("div",{className:`
                            relative flex flex-col items-center p-3 rounded-xl transition-all duration-300 min-w-[120px]
                            ${(vt==null?void 0:vt.id)===w.id?"bg-indigo-900/40 ring-2 ring-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.3)]":"bg-slate-800/50"}
                            ${w.isEliminated?"opacity-30 grayscale":""}
                        `,children:[I.jsx("div",{className:`w-12 h-12 rounded-full mb-2 flex items-center justify-center font-bold text-lg shadow-lg ${yi[w.avatarSeed%yi.length]}`,children:w.name.charAt(0)}),I.jsx("div",{className:"text-sm font-semibold mb-1",children:w.name}),I.jsxs("div",{className:"flex gap-1 flex-wrap justify-center",children:[w.dice.map((U,V)=>I.jsx(Ii,{value:U,hidden:!Tm(w),size:"sm"},V)),Array.from({length:w.diceCount-w.dice.length}).map((U,V)=>I.jsx("div",{className:"w-8 h-8 rounded border border-slate-700 bg-slate-800 opacity-50"},`lost-${V}`))]}),(s==null?void 0:s.playerId)===w.id&&I.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-white text-slate-900 text-xs px-2 py-1 rounded-full font-bold shadow whitespace-nowrap z-10",children:[": ",s.quantity,"  ",vi[s.face]]}),(g==null?void 0:g.loserId)===w.id&&p===Se.ROUND_END&&I.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-rose-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow whitespace-nowrap z-10 animate-bounce",children:""})]},w.id))}),I.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none z-0",children:I.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-sm p-6 rounded-3xl border border-slate-700 flex flex-col items-center shadow-2xl",children:[I.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-widest mb-2",children:""}),s?I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"text-5xl font-black text-indigo-400",children:s.quantity}),I.jsx("span",{className:"text-2xl text-slate-500",children:"x"}),I.jsx(Ii,{value:s.face,size:"md"})]}):I.jsx("div",{className:"text-slate-500 italic",children:"..."}),I.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:[": ",E]})]})}),I.jsx("div",{className:"absolute left-4 bottom-32 w-64 h-48 pointer-events-none hidden md:block",children:I.jsx("div",{className:"h-full overflow-y-auto flex flex-col justify-end text-sm space-y-1 mask-linear-gradient",ref:oe,children:f.slice(-6).map(w=>I.jsx("div",{className:`
                            px-3 py-1.5 rounded bg-black/40 backdrop-blur-md border-l-2 mb-1
                            ${w.type==="bid"?"border-indigo-400 text-indigo-100":""}
                            ${w.type==="challenge"?"border-rose-500 text-rose-100":""}
                            ${w.type==="info"?"border-slate-500 text-slate-300":""}
                            ${w.type==="error"?"border-red-500 text-red-300":""}
                            ${w.type==="win"?"border-yellow-500 text-yellow-300":""}
                         `,children:w.message},w.id))})}),oo&&I.jsx("div",{className:`mt-auto bg-slate-900 border-t border-slate-800 p-4 transition-colors duration-500 ${Aa?"bg-indigo-950/30":""}`,children:I.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-6",children:[I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("div",{className:"flex gap-2 mb-2",children:oo.dice.map((w,U)=>I.jsx(Ii,{value:w,size:"md"},U))}),I.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase",children:[" (",oo.name,")"]})]}),I.jsx("div",{className:"flex-1 w-full flex flex-col gap-3",children:Aa?I.jsxs("div",{className:"flex flex-col gap-3 animate-fade-in-up",children:[I.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 bg-slate-800 p-3 rounded-xl border border-slate-700",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("button",{className:"w-8 h-8 rounded bg-slate-700 hover:bg-slate-600 flex items-center justify-center font-bold",onClick:()=>S(Math.max(1,T-1)),children:"-"}),I.jsx("div",{className:"w-12 text-center font-mono text-xl",children:T}),I.jsx("button",{className:"w-8 h-8 rounded bg-slate-700 hover:bg-slate-600 flex items-center justify-center font-bold",onClick:()=>S(T+1),children:"+"})]}),I.jsx("span",{className:"text-slate-500",children:""}),I.jsx("div",{className:"flex gap-1",children:bg.map(w=>I.jsx("button",{onClick:()=>A(w),className:`
                                                        w-10 h-10 rounded-lg flex items-center justify-center transition-all
                                                        ${R===w?"bg-indigo-600 ring-2 ring-indigo-400 scale-110":"bg-slate-700 hover:bg-slate-600 opacity-70"}
                                                    `,children:I.jsx(Ii,{value:w,size:"sm"})},w))})]}),I.jsxs("div",{className:"flex gap-4 justify-center",children:[s&&I.jsx(Vt,{variant:"danger",onClick:()=>ct(oo.id),className:"flex-1 max-w-[150px]",children:"()"}),I.jsx(Vt,{variant:"primary",onClick:()=>{cs(s,T,R)?je(oo.id,T,R):alert("")},disabled:!cs(s,T,R),className:"flex-1 max-w-[200px]",children:" (Bid)"})]})]}):I.jsx("div",{className:"flex items-center justify-center h-full",children:I.jsx("div",{className:"text-slate-400 animate-pulse font-mono",children:x?"AI ...":` ${vt==null?void 0:vt.name} ...`})})})]})}),p===Se.GAME_OVER&&I.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl shadow-2xl text-center border border-slate-700 max-w-sm w-full animate-bounce-in",children:[I.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:""}),I.jsx("div",{className:"text-6xl mb-4",children:""}),I.jsxs("p",{className:"text-2xl text-indigo-400 mb-8",children:["",C]}),I.jsx(Vt,{onClick:t,className:"w-full",children:""})]})})]})]})},NC=()=>{const[e,t]=O.useState(!1),[n,o]=O.useState(null),i=s=>{o(s),t(!0)},r=()=>{t(!1),o(null)};return I.jsx("div",{className:"antialiased text-slate-100 selection:bg-indigo-500 selection:text-white",children:e?n&&I.jsx(RC,{settings:n,onLeave:r}):I.jsx(sv,{onStartGame:i})})},Em=document.getElementById("root");if(!Em)throw new Error("Could not find root element to mount to");const xC=ms.createRoot(Em);xC.render(I.jsx(Hm.StrictMode,{children:I.jsx(NC,{})}));
