(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wd={exports:{}},Ci={},Ad={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=Symbol.for("react.element"),Km=Symbol.for("react.portal"),bm=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),jm=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),Ga=Symbol.iterator;function rh(e){return e===null||typeof e!="object"?null:(e=Ga&&e[Ga]||e["@@iterator"],typeof e=="function"?e:null)}var xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Rd={};function no(e,t,n){this.props=e,this.context=t,this.refs=Rd,this.updater=n||xd}no.prototype.isReactComponent={};no.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};no.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pd(){}Pd.prototype=no.prototype;function kl(e,t,n){this.props=e,this.context=t,this.refs=Rd,this.updater=n||xd}var Dl=kl.prototype=new Pd;Dl.constructor=kl;Nd(Dl,no.prototype);Dl.isPureReactComponent=!0;var Ha=Array.isArray,Md=Object.prototype.hasOwnProperty,Ll={current:null},kd={key:!0,ref:!0,__self:!0,__source:!0};function Dd(e,t,n){var o,r={},i=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Md.call(t,o)&&!kd.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:er,type:e,key:i,ref:s,props:r,_owner:Ll.current}}function ih(e,t){return{$$typeof:er,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ul(e){return typeof e=="object"&&e!==null&&e.$$typeof===er}function sh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ba=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sh(""+e.key):t.toString(36)}function Dr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case er:case Km:s=!0}}if(s)return s=e,r=r(s),e=o===""?"."+Yi(s,0):o,Ha(r)?(n="",e!=null&&(n=e.replace(Ba,"$&/")+"/"),Dr(r,t,n,"",function(d){return d})):r!=null&&(Ul(r)&&(r=ih(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Ba,"$&/")+"/")+e)),t.push(r)),1;if(s=0,o=o===""?".":o+":",Ha(e))for(var u=0;u<e.length;u++){i=e[u];var c=o+Yi(i,u);s+=Dr(i,t,n,c,r)}else if(c=rh(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=o+Yi(i,u++),s+=Dr(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ar(e,t,n){if(e==null)return e;var o=[],r=0;return Dr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function lh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},Lr={transition:null},ah={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Lr,ReactCurrentOwner:Ll};function Ld(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ar,forEach:function(e,t,n){ar(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ar(e,function(){t++}),t},toArray:function(e){return ar(e,function(t){return t})||[]},only:function(e){if(!Ul(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=no;J.Fragment=bm;J.Profiler=Xm;J.PureComponent=kl;J.StrictMode=Qm;J.Suspense=th;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ah;J.act=Ld;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Nd({},e.props),r=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ll.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Md.call(t,c)&&!kd.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:er,type:e.type,key:r,ref:i,props:o,_owner:s}};J.createContext=function(e){return e={$$typeof:jm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zm,_context:e},e.Consumer=e};J.createElement=Dd;J.createFactory=function(e){var t=Dd.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:eh,render:e}};J.isValidElement=Ul;J.lazy=function(e){return{$$typeof:oh,_payload:{_status:-1,_result:e},_init:lh}};J.memo=function(e,t){return{$$typeof:nh,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Lr.transition;Lr.transition={};try{e()}finally{Lr.transition=t}};J.unstable_act=Ld;J.useCallback=function(e,t){return Me.current.useCallback(e,t)};J.useContext=function(e){return Me.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};J.useEffect=function(e,t){return Me.current.useEffect(e,t)};J.useId=function(){return Me.current.useId()};J.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Me.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};J.useRef=function(e){return Me.current.useRef(e)};J.useState=function(e){return Me.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Me.current.useTransition()};J.version="18.3.1";Ad.exports=J;var B=Ad.exports;const uh=Ym(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=B,dh=Symbol.for("react.element"),fh=Symbol.for("react.fragment"),ph=Object.prototype.hasOwnProperty,mh=ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hh={key:!0,ref:!0,__self:!0,__source:!0};function Ud(e,t,n){var o,r={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)ph.call(t,o)&&!hh.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:dh,type:e,key:i,ref:s,props:r,_owner:mh.current}}Ci.Fragment=fh;Ci.jsx=Ud;Ci.jsxs=Ud;wd.exports=Ci;var S=wd.exports,Is={},Fd={exports:{}},Je={},Vd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,G){var q=D.length;D.push(G);e:for(;0<q;){var Q=q-1>>>1,ae=D[Q];if(0<r(ae,G))D[Q]=G,D[q]=ae,q=Q;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var G=D[0],q=D.pop();if(q!==G){D[0]=q;e:for(var Q=0,ae=D.length,Gt=ae>>>1;Q<Gt;){var mt=2*(Q+1)-1,In=D[mt],nt=mt+1,ht=D[nt];if(0>r(In,q))nt<ae&&0>r(ht,In)?(D[Q]=ht,D[nt]=q,Q=nt):(D[Q]=In,D[mt]=q,Q=mt);else if(nt<ae&&0>r(ht,q))D[Q]=ht,D[nt]=q,Q=nt;else break e}}return G}function r(D,G){var q=D.sortIndex-G.sortIndex;return q!==0?q:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],f=1,m=null,p=3,h=!1,E=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var G=n(d);G!==null;){if(G.callback===null)o(d);else if(G.startTime<=D)o(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(d)}}function C(D){if(_=!1,y(D),!E)if(n(c)!==null)E=!0,St(T);else{var G=n(d);G!==null&&Vt(C,G.startTime-D)}}function T(D,G){E=!1,_&&(_=!1,v(P),P=-1),h=!0;var q=p;try{for(y(G),m=n(c);m!==null&&(!(m.expirationTime>G)||D&&!$());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,p=m.priorityLevel;var ae=Q(m.expirationTime<=G);G=e.unstable_now(),typeof ae=="function"?m.callback=ae:m===n(c)&&o(c),y(G)}else o(c);m=n(c)}if(m!==null)var Gt=!0;else{var mt=n(d);mt!==null&&Vt(C,mt.startTime-G),Gt=!1}return Gt}finally{m=null,p=q,h=!1}}var N=!1,A=null,P=-1,M=5,L=-1;function $(){return!(e.unstable_now()-L<M)}function te(){if(A!==null){var D=e.unstable_now();L=D;var G=!0;try{G=A(!0,D)}finally{G?Z():(N=!1,A=null)}}else N=!1}var Z;if(typeof g=="function")Z=function(){g(te)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,fe=se.port2;se.port1.onmessage=te,Z=function(){fe.postMessage(null)}}else Z=function(){I(te,0)};function St(D){A=D,N||(N=!0,Z())}function Vt(D,G){P=I(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){E||h||(E=!0,St(T))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var q=p;p=G;try{return D()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=p;p=D;try{return G()}finally{p=q}},e.unstable_scheduleCallback=function(D,G,q){var Q=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=q+ae,D={id:f++,callback:G,priorityLevel:D,startTime:q,expirationTime:ae,sortIndex:-1},q>Q?(D.sortIndex=q,t(d,D),n(c)===null&&D===n(d)&&(_?(v(P),P=-1):_=!0,Vt(C,q-Q))):(D.sortIndex=ae,t(c,D),E||h||(E=!0,St(T))),D},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(D){var G=p;return function(){var q=p;p=G;try{return D.apply(this,arguments)}finally{p=q}}}})(Gd);Vd.exports=Gd;var gh=Vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=B,ze=gh;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hd=new Set,Fo={};function Sn(e,t){bn(e,t),bn(e+"Capture",t)}function bn(e,t){for(Fo[e]=t,e=0;e<t.length;e++)Hd.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=Object.prototype.hasOwnProperty,vh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},$a={};function Eh(e){return ws.call($a,e)?!0:ws.call(qa,e)?!1:vh.test(e)?$a[e]=!0:(qa[e]=!0,!1)}function _h(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sh(e,t,n,o){if(t===null||typeof t>"u"||_h(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,o,r,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function Vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fl,Vl);Se[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fl,Vl);Se[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fl,Vl);Se[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gl(e,t,n,o){var r=Se.hasOwnProperty(t)?Se[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sh(t,n,r,o)&&(n=null),o||r===null?Eh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Lt=yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ur=Symbol.for("react.element"),xn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Hl=Symbol.for("react.strict_mode"),As=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),qd=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),xs=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),$d=Symbol.for("react.offscreen"),Oa=Symbol.iterator;function fo(e){return e===null||typeof e!="object"?null:(e=Oa&&e[Oa]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Ki;function To(e){if(Ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ki=t&&t[1]||""}return`
`+Ki+e}var bi=!1;function Qi(e,t){if(!e||bi)return"";bi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var o=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){o=d}e.call(t.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,u=i.length-1;1<=s&&0<=u&&r[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(r[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||r[s]!==i[u]){var c=`
`+r[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{bi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?To(e):""}function Th(e){switch(e.tag){case 5:return To(e.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Rs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case xn:return"Portal";case As:return"Profiler";case Hl:return"StrictMode";case xs:return"Suspense";case Ns:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qd:return(e.displayName||"Context")+".Consumer";case Bd:return(e._context.displayName||"Context")+".Provider";case Bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ql:return t=e.displayName||null,t!==null?t:Rs(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return Rs(e(t))}catch{}}return null}function Ch(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rs(t);case 8:return t===Hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ih(e){var t=Od(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cr(e){e._valueTracker||(e._valueTracker=Ih(e))}function zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Od(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ps(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function za(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jd(e,t){t=t.checked,t!=null&&Gl(e,"checked",t,!1)}function Ms(e,t){Jd(e,t);var n=en(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ks(e,t.type,n):t.hasOwnProperty("defaultValue")&&ks(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ja(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ks(e,t,n){(t!=="number"||Yr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Co=Array.isArray;function qn(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ds(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Co(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function Wd(e,t){var n=en(t.value),o=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Ya(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ls(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dr,Kd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){wh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});function bd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xo.hasOwnProperty(e)&&xo[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=bd(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var Ah=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(e,t){if(t){if(Ah[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Fs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=null;function $l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gs=null,$n=null,On=null;function Ka(e){if(e=or(e)){if(typeof Gs!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Ni(t),Gs(e.stateNode,e.type,t))}}function Xd(e){$n?On?On.push(e):On=[e]:$n=e}function Zd(){if($n){var e=$n,t=On;if(On=$n=null,Ka(e),t)for(e=0;e<t.length;e++)Ka(t[e])}}function jd(e,t){return e(t)}function ef(){}var Xi=!1;function tf(e,t,n){if(Xi)return e(t,n);Xi=!0;try{return jd(e,t,n)}finally{Xi=!1,($n!==null||On!==null)&&(ef(),Zd())}}function Go(e,t){var n=e.stateNode;if(n===null)return null;var o=Ni(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Hs=!1;if(Rt)try{var po={};Object.defineProperty(po,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Hs=!1}function xh(e,t,n,o,r,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var No=!1,Kr=null,br=!1,Bs=null,Nh={onError:function(e){No=!0,Kr=e}};function Rh(e,t,n,o,r,i,s,u,c){No=!1,Kr=null,xh.apply(Nh,arguments)}function Ph(e,t,n,o,r,i,s,u,c){if(Rh.apply(this,arguments),No){if(No){var d=Kr;No=!1,Kr=null}else throw Error(R(198));br||(br=!0,Bs=d)}}function Tn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ba(e){if(Tn(e)!==e)throw Error(R(188))}function Mh(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return ba(r),e;if(i===o)return ba(r),t;i=i.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,o=i;break}if(u===o){s=!0,o=r,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,o=r;break}if(u===o){s=!0,o=i,n=r;break}u=u.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function of(e){return e=Mh(e),e!==null?rf(e):null}function rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rf(e);if(t!==null)return t;e=e.sibling}return null}var sf=ze.unstable_scheduleCallback,Qa=ze.unstable_cancelCallback,kh=ze.unstable_shouldYield,Dh=ze.unstable_requestPaint,ue=ze.unstable_now,Lh=ze.unstable_getCurrentPriorityLevel,Ol=ze.unstable_ImmediatePriority,lf=ze.unstable_UserBlockingPriority,Qr=ze.unstable_NormalPriority,Uh=ze.unstable_LowPriority,af=ze.unstable_IdlePriority,Ii=null,Et=null;function Fh(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Hh,Vh=Math.log,Gh=Math.LN2;function Hh(e){return e>>>=0,e===0?32:31-(Vh(e)/Gh|0)|0}var fr=64,pr=4194304;function Io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xr(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~r;u!==0?o=Io(u):(i&=s,i!==0&&(o=Io(i)))}else s=n&~r,s!==0?o=Io(s):i!==0&&(o=Io(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-at(t),r=1<<n,o|=e[n],t&=~r;return o}function Bh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qh(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-at(i),u=1<<s,c=r[s];c===-1?(!(u&n)||u&o)&&(r[s]=Bh(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function qs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uf(){var e=fr;return fr<<=1,!(fr&4194240)&&(fr=64),e}function Zi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function $h(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function zl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-at(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var b=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var df,Jl,ff,pf,mf,$s=!1,mr=[],Wt=null,Yt=null,Kt=null,Ho=new Map,Bo=new Map,$t=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xa(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(t.pointerId)}}function mo(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=or(t),t!==null&&Jl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function zh(e,t,n,o,r){switch(t){case"focusin":return Wt=mo(Wt,e,t,n,o,r),!0;case"dragenter":return Yt=mo(Yt,e,t,n,o,r),!0;case"mouseover":return Kt=mo(Kt,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Ho.set(i,mo(Ho.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Bo.set(i,mo(Bo.get(i)||null,e,t,n,o,r)),!0}return!1}function hf(e){var t=dn(e.target);if(t!==null){var n=Tn(t);if(n!==null){if(t=n.tag,t===13){if(t=nf(n),t!==null){e.blockedOn=t,mf(e.priority,function(){ff(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Os(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Vs=o,n.target.dispatchEvent(o),Vs=null}else return t=or(n),t!==null&&Jl(t),e.blockedOn=n,!1;t.shift()}return!0}function Za(e,t,n){Ur(e)&&n.delete(t)}function Jh(){$s=!1,Wt!==null&&Ur(Wt)&&(Wt=null),Yt!==null&&Ur(Yt)&&(Yt=null),Kt!==null&&Ur(Kt)&&(Kt=null),Ho.forEach(Za),Bo.forEach(Za)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,$s||($s=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Jh)))}function qo(e){function t(r){return ho(r,e)}if(0<mr.length){ho(mr[0],e);for(var n=1;n<mr.length;n++){var o=mr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Wt!==null&&ho(Wt,e),Yt!==null&&ho(Yt,e),Kt!==null&&ho(Kt,e),Ho.forEach(t),Bo.forEach(t),n=0;n<$t.length;n++)o=$t[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)hf(n),n.blockedOn===null&&$t.shift()}var zn=Lt.ReactCurrentBatchConfig,Zr=!0;function Wh(e,t,n,o){var r=b,i=zn.transition;zn.transition=null;try{b=1,Wl(e,t,n,o)}finally{b=r,zn.transition=i}}function Yh(e,t,n,o){var r=b,i=zn.transition;zn.transition=null;try{b=4,Wl(e,t,n,o)}finally{b=r,zn.transition=i}}function Wl(e,t,n,o){if(Zr){var r=Os(e,t,n,o);if(r===null)as(e,t,o,jr,n),Xa(e,o);else if(zh(r,e,t,n,o))o.stopPropagation();else if(Xa(e,o),t&4&&-1<Oh.indexOf(e)){for(;r!==null;){var i=or(r);if(i!==null&&df(i),i=Os(e,t,n,o),i===null&&as(e,t,o,jr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else as(e,t,o,null,n)}}var jr=null;function Os(e,t,n,o){if(jr=null,e=$l(o),e=dn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jr=e,null}function gf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lh()){case Ol:return 1;case lf:return 4;case Qr:case Uh:return 16;case af:return 536870912;default:return 16}default:return 16}}var zt=null,Yl=null,Fr=null;function yf(){if(Fr)return Fr;var e,t=Yl,n=t.length,o,r="value"in zt?zt.value:zt.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===r[i-o];o++);return Fr=r.slice(e,1<o?1-o:void 0)}function Vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function ja(){return!1}function We(e){function t(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hr:ja,this.isPropagationStopped=ja,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=We(oo),nr=ie({},oo,{view:0,detail:0}),Kh=We(nr),ji,es,go,wi=ie({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(ji=e.screenX-go.screenX,es=e.screenY-go.screenY):es=ji=0,go=e),ji)},movementY:function(e){return"movementY"in e?e.movementY:es}}),eu=We(wi),bh=ie({},wi,{dataTransfer:0}),Qh=We(bh),Xh=ie({},nr,{relatedTarget:0}),ts=We(Xh),Zh=ie({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),jh=We(Zh),eg=ie({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=We(eg),ng=ie({},oo,{data:0}),tu=We(ng),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ig[e])?!!t[e]:!1}function bl(){return sg}var lg=ie({},nr,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(e){return e.type==="keypress"?Vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ag=We(lg),ug=ie({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=We(ug),cg=ie({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),dg=We(cg),fg=ie({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=We(fg),mg=ie({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hg=We(mg),gg=[9,13,27,32],Ql=Rt&&"CompositionEvent"in window,Ro=null;Rt&&"documentMode"in document&&(Ro=document.documentMode);var yg=Rt&&"TextEvent"in window&&!Ro,vf=Rt&&(!Ql||Ro&&8<Ro&&11>=Ro),ou=" ",ru=!1;function Ef(e,t){switch(e){case"keyup":return gg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function vg(e,t){switch(e){case"compositionend":return _f(t);case"keypress":return t.which!==32?null:(ru=!0,ou);case"textInput":return e=t.data,e===ou&&ru?null:e;default:return null}}function Eg(e,t){if(Rn)return e==="compositionend"||!Ql&&Ef(e,t)?(e=yf(),Fr=Yl=zt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vf&&t.locale!=="ko"?null:t.data;default:return null}}var _g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_g[e.type]:t==="textarea"}function Sf(e,t,n,o){Xd(o),t=ei(t,"onChange"),0<t.length&&(n=new Kl("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Po=null,$o=null;function Sg(e){kf(e,0)}function Ai(e){var t=kn(e);if(zd(t))return e}function Tg(e,t){if(e==="change")return t}var Tf=!1;if(Rt){var ns;if(Rt){var os="oninput"in document;if(!os){var su=document.createElement("div");su.setAttribute("oninput","return;"),os=typeof su.oninput=="function"}ns=os}else ns=!1;Tf=ns&&(!document.documentMode||9<document.documentMode)}function lu(){Po&&(Po.detachEvent("onpropertychange",Cf),$o=Po=null)}function Cf(e){if(e.propertyName==="value"&&Ai($o)){var t=[];Sf(t,$o,e,$l(e)),tf(Sg,t)}}function Cg(e,t,n){e==="focusin"?(lu(),Po=t,$o=n,Po.attachEvent("onpropertychange",Cf)):e==="focusout"&&lu()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai($o)}function wg(e,t){if(e==="click")return Ai(t)}function Ag(e,t){if(e==="input"||e==="change")return Ai(t)}function xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:xg;function Oo(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!ws.call(t,r)||!ft(e[r],t[r]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uu(e,t){var n=au(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=au(n)}}function If(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?If(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wf(){for(var e=window,t=Yr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yr(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ng(e){var t=wf(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&If(n.ownerDocument.documentElement,n)){if(o!==null&&Xl(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=uu(n,i);var s=uu(n,o);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rg=Rt&&"documentMode"in document&&11>=document.documentMode,Pn=null,zs=null,Mo=null,Js=!1;function cu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Js||Pn==null||Pn!==Yr(o)||(o=Pn,"selectionStart"in o&&Xl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=ei(zs,"onSelect"),0<o.length&&(t=new Kl("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Pn)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},rs={},Af={};Rt&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function xi(e){if(rs[e])return rs[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Af)return rs[e]=t[n];return e}var xf=xi("animationend"),Nf=xi("animationiteration"),Rf=xi("animationstart"),Pf=xi("transitionend"),Mf=new Map,du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Mf.set(e,t),Sn(t,[e])}for(var is=0;is<du.length;is++){var ss=du[is],Pg=ss.toLowerCase(),Mg=ss[0].toUpperCase()+ss.slice(1);nn(Pg,"on"+Mg)}nn(xf,"onAnimationEnd");nn(Nf,"onAnimationIteration");nn(Rf,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Pf,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function fu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Ph(o,t,void 0,e),e.currentTarget=null}function kf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var s=o.length-1;0<=s;s--){var u=o[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;fu(r,u,d),i=c}else for(s=0;s<o.length;s++){if(u=o[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;fu(r,u,d),i=c}}}if(br)throw e=Bs,br=!1,Bs=null,e}function j(e,t){var n=t[Qs];n===void 0&&(n=t[Qs]=new Set);var o=e+"__bubble";n.has(o)||(Df(t,e,2,!1),n.add(o))}function ls(e,t,n){var o=0;t&&(o|=4),Df(n,e,o,t)}var yr="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[yr]){e[yr]=!0,Hd.forEach(function(n){n!=="selectionchange"&&(kg.has(n)||ls(n,!1,e),ls(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yr]||(t[yr]=!0,ls("selectionchange",!1,t))}}function Df(e,t,n,o){switch(gf(t)){case 1:var r=Wh;break;case 4:r=Yh;break;default:r=Wl}n=r.bind(null,t,n,e),r=void 0,!Hs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function as(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;s=s.return}for(;u!==null;){if(s=dn(u),s===null)return;if(c=s.tag,c===5||c===6){o=i=s;continue e}u=u.parentNode}}o=o.return}tf(function(){var d=i,f=$l(n),m=[];e:{var p=Mf.get(e);if(p!==void 0){var h=Kl,E=e;switch(e){case"keypress":if(Vr(n)===0)break e;case"keydown":case"keyup":h=ag;break;case"focusin":E="focus",h=ts;break;case"focusout":E="blur",h=ts;break;case"beforeblur":case"afterblur":h=ts;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=dg;break;case xf:case Nf:case Rf:h=jh;break;case Pf:h=pg;break;case"scroll":h=Kh;break;case"wheel":h=hg;break;case"copy":case"cut":case"paste":h=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nu}var _=(t&4)!==0,I=!_&&e==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var g=d,y;g!==null;){y=g;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,v!==null&&(C=Go(g,v),C!=null&&_.push(Jo(g,C,y)))),I)break;g=g.return}0<_.length&&(p=new h(p,E,null,n,f),m.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Vs&&(E=n.relatedTarget||n.fromElement)&&(dn(E)||E[Pt]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=d,E=E?dn(E):null,E!==null&&(I=Tn(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=d),h!==E)){if(_=eu,C="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=nu,C="onPointerLeave",v="onPointerEnter",g="pointer"),I=h==null?p:kn(h),y=E==null?p:kn(E),p=new _(C,g+"leave",h,n,f),p.target=I,p.relatedTarget=y,C=null,dn(f)===d&&(_=new _(v,g+"enter",E,n,f),_.target=y,_.relatedTarget=I,C=_),I=C,h&&E)t:{for(_=h,v=E,g=0,y=_;y;y=wn(y))g++;for(y=0,C=v;C;C=wn(C))y++;for(;0<g-y;)_=wn(_),g--;for(;0<y-g;)v=wn(v),y--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=wn(_),v=wn(v)}_=null}else _=null;h!==null&&pu(m,p,h,_,!1),E!==null&&I!==null&&pu(m,I,E,_,!0)}}e:{if(p=d?kn(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var T=Tg;else if(iu(p))if(Tf)T=Ag;else{T=Ig;var N=Cg}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=wg);if(T&&(T=T(e,d))){Sf(m,T,n,f);break e}N&&N(e,p,d),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&ks(p,"number",p.value)}switch(N=d?kn(d):window,e){case"focusin":(iu(N)||N.contentEditable==="true")&&(Pn=N,zs=d,Mo=null);break;case"focusout":Mo=zs=Pn=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,cu(m,n,f);break;case"selectionchange":if(Rg)break;case"keydown":case"keyup":cu(m,n,f)}var A;if(Ql)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Rn?Ef(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(vf&&n.locale!=="ko"&&(Rn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Rn&&(A=yf()):(zt=f,Yl="value"in zt?zt.value:zt.textContent,Rn=!0)),N=ei(d,P),0<N.length&&(P=new tu(P,e,null,n,f),m.push({event:P,listeners:N}),A?P.data=A:(A=_f(n),A!==null&&(P.data=A)))),(A=yg?vg(e,n):Eg(e,n))&&(d=ei(d,"onBeforeInput"),0<d.length&&(f=new tu("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=A))}kf(m,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ei(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Go(e,n),i!=null&&o.unshift(Jo(e,i,r)),i=Go(e,t),i!=null&&o.push(Jo(e,i,r))),e=e.return}return o}function wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pu(e,t,n,o,r){for(var i=t._reactName,s=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=Go(n,i),c!=null&&s.unshift(Jo(n,c,u))):r||(c=Go(n,i),c!=null&&s.push(Jo(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Dg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function mu(e){return(typeof e=="string"?e:""+e).replace(Dg,`
`).replace(Lg,"")}function vr(e,t,n){if(t=mu(t),mu(e)!==t&&n)throw Error(R(425))}function ti(){}var Ws=null,Ys=null;function Ks(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bs=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,Fg=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(e){return hu.resolve(null).then(e).catch(Vg)}:bs;function Vg(e){setTimeout(function(){throw e})}function us(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),qo(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);qo(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),vt="__reactFiber$"+ro,Wo="__reactProps$"+ro,Pt="__reactContainer$"+ro,Qs="__reactEvents$"+ro,Gg="__reactListeners$"+ro,Hg="__reactHandles$"+ro;function dn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gu(e);e!==null;){if(n=e[vt])return n;e=gu(e)}return t}e=n,n=e.parentNode}return null}function or(e){return e=e[vt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Ni(e){return e[Wo]||null}var Xs=[],Dn=-1;function on(e){return{current:e}}function ee(e){0>Dn||(e.current=Xs[Dn],Xs[Dn]=null,Dn--)}function X(e,t){Dn++,Xs[Dn]=e.current,e.current=t}var tn={},Ae=on(tn),Fe=on(!1),gn=tn;function Qn(e,t){var n=e.type.contextTypes;if(!n)return tn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ve(e){return e=e.childContextTypes,e!=null}function ni(){ee(Fe),ee(Ae)}function yu(e,t,n){if(Ae.current!==tn)throw Error(R(168));X(Ae,t),X(Fe,n)}function Lf(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(R(108,Ch(e)||"Unknown",r));return ie({},n,o)}function oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,gn=Ae.current,X(Ae,e),X(Fe,Fe.current),!0}function vu(e,t,n){var o=e.stateNode;if(!o)throw Error(R(169));n?(e=Lf(e,t,gn),o.__reactInternalMemoizedMergedChildContext=e,ee(Fe),ee(Ae),X(Ae,e)):ee(Fe),X(Fe,n)}var wt=null,Ri=!1,cs=!1;function Uf(e){wt===null?wt=[e]:wt.push(e)}function Bg(e){Ri=!0,Uf(e)}function rn(){if(!cs&&wt!==null){cs=!0;var e=0,t=b;try{var n=wt;for(b=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}wt=null,Ri=!1}catch(r){throw wt!==null&&(wt=wt.slice(e+1)),sf(Ol,rn),r}finally{b=t,cs=!1}}return null}var Ln=[],Un=0,ri=null,ii=0,Ke=[],be=0,yn=null,At=1,xt="";function ln(e,t){Ln[Un++]=ii,Ln[Un++]=ri,ri=e,ii=t}function Ff(e,t,n){Ke[be++]=At,Ke[be++]=xt,Ke[be++]=yn,yn=e;var o=At;e=xt;var r=32-at(o)-1;o&=~(1<<r),n+=1;var i=32-at(t)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,At=1<<32-at(t)+r|n<<r|o,xt=i+e}else At=1<<i|n<<r|o,xt=e}function Zl(e){e.return!==null&&(ln(e,1),Ff(e,1,0))}function jl(e){for(;e===ri;)ri=Ln[--Un],Ln[Un]=null,ii=Ln[--Un],Ln[Un]=null;for(;e===yn;)yn=Ke[--be],Ke[be]=null,xt=Ke[--be],Ke[be]=null,At=Ke[--be],Ke[be]=null}var Oe=null,$e=null,ne=!1,lt=null;function Vf(e,t){var n=Qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Eu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,$e=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yn!==null?{id:At,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,$e=null,!0):!1;default:return!1}}function Zs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function js(e){if(ne){var t=$e;if(t){var n=t;if(!Eu(e,t)){if(Zs(e))throw Error(R(418));t=bt(n.nextSibling);var o=Oe;t&&Eu(e,t)?Vf(o,n):(e.flags=e.flags&-4097|2,ne=!1,Oe=e)}}else{if(Zs(e))throw Error(R(418));e.flags=e.flags&-4097|2,ne=!1,Oe=e}}}function _u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Er(e){if(e!==Oe)return!1;if(!ne)return _u(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ks(e.type,e.memoizedProps)),t&&(t=$e)){if(Zs(e))throw Gf(),Error(R(418));for(;t;)Vf(e,t),t=bt(t.nextSibling)}if(_u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Oe?bt(e.stateNode.nextSibling):null;return!0}function Gf(){for(var e=$e;e;)e=bt(e.nextSibling)}function Xn(){$e=Oe=null,ne=!1}function ea(e){lt===null?lt=[e]:lt.push(e)}var qg=Lt.ReactCurrentBatchConfig;function yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=r.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function _r(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Su(e){var t=e._init;return t(e._payload)}function Hf(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(v,g){return v=jt(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,g,y,C){return g===null||g.tag!==6?(g=ys(y,v.mode,C),g.return=v,g):(g=r(g,y),g.return=v,g)}function c(v,g,y,C){var T=y.type;return T===Nn?f(v,g,y.props.children,C,y.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bt&&Su(T)===g.type)?(C=r(g,y.props),C.ref=yo(v,g,y),C.return=v,C):(C=zr(y.type,y.key,y.props,null,v.mode,C),C.ref=yo(v,g,y),C.return=v,C)}function d(v,g,y,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=vs(y,v.mode,C),g.return=v,g):(g=r(g,y.children||[]),g.return=v,g)}function f(v,g,y,C,T){return g===null||g.tag!==7?(g=hn(y,v.mode,C,T),g.return=v,g):(g=r(g,y),g.return=v,g)}function m(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ys(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ur:return y=zr(g.type,g.key,g.props,null,v.mode,y),y.ref=yo(v,null,g),y.return=v,y;case xn:return g=vs(g,v.mode,y),g.return=v,g;case Bt:var C=g._init;return m(v,C(g._payload),y)}if(Co(g)||fo(g))return g=hn(g,v.mode,y,null),g.return=v,g;_r(v,g)}return null}function p(v,g,y,C){var T=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:u(v,g,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ur:return y.key===T?c(v,g,y,C):null;case xn:return y.key===T?d(v,g,y,C):null;case Bt:return T=y._init,p(v,g,T(y._payload),C)}if(Co(y)||fo(y))return T!==null?null:f(v,g,y,C,null);_r(v,y)}return null}function h(v,g,y,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(y)||null,u(g,v,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ur:return v=v.get(C.key===null?y:C.key)||null,c(g,v,C,T);case xn:return v=v.get(C.key===null?y:C.key)||null,d(g,v,C,T);case Bt:var N=C._init;return h(v,g,y,N(C._payload),T)}if(Co(C)||fo(C))return v=v.get(y)||null,f(g,v,C,T,null);_r(g,C)}return null}function E(v,g,y,C){for(var T=null,N=null,A=g,P=g=0,M=null;A!==null&&P<y.length;P++){A.index>P?(M=A,A=null):M=A.sibling;var L=p(v,A,y[P],C);if(L===null){A===null&&(A=M);break}e&&A&&L.alternate===null&&t(v,A),g=i(L,g,P),N===null?T=L:N.sibling=L,N=L,A=M}if(P===y.length)return n(v,A),ne&&ln(v,P),T;if(A===null){for(;P<y.length;P++)A=m(v,y[P],C),A!==null&&(g=i(A,g,P),N===null?T=A:N.sibling=A,N=A);return ne&&ln(v,P),T}for(A=o(v,A);P<y.length;P++)M=h(A,v,P,y[P],C),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?P:M.key),g=i(M,g,P),N===null?T=M:N.sibling=M,N=M);return e&&A.forEach(function($){return t(v,$)}),ne&&ln(v,P),T}function _(v,g,y,C){var T=fo(y);if(typeof T!="function")throw Error(R(150));if(y=T.call(y),y==null)throw Error(R(151));for(var N=T=null,A=g,P=g=0,M=null,L=y.next();A!==null&&!L.done;P++,L=y.next()){A.index>P?(M=A,A=null):M=A.sibling;var $=p(v,A,L.value,C);if($===null){A===null&&(A=M);break}e&&A&&$.alternate===null&&t(v,A),g=i($,g,P),N===null?T=$:N.sibling=$,N=$,A=M}if(L.done)return n(v,A),ne&&ln(v,P),T;if(A===null){for(;!L.done;P++,L=y.next())L=m(v,L.value,C),L!==null&&(g=i(L,g,P),N===null?T=L:N.sibling=L,N=L);return ne&&ln(v,P),T}for(A=o(v,A);!L.done;P++,L=y.next())L=h(A,v,P,L.value,C),L!==null&&(e&&L.alternate!==null&&A.delete(L.key===null?P:L.key),g=i(L,g,P),N===null?T=L:N.sibling=L,N=L);return e&&A.forEach(function(te){return t(v,te)}),ne&&ln(v,P),T}function I(v,g,y,C){if(typeof y=="object"&&y!==null&&y.type===Nn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ur:e:{for(var T=y.key,N=g;N!==null;){if(N.key===T){if(T=y.type,T===Nn){if(N.tag===7){n(v,N.sibling),g=r(N,y.props.children),g.return=v,v=g;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bt&&Su(T)===N.type){n(v,N.sibling),g=r(N,y.props),g.ref=yo(v,N,y),g.return=v,v=g;break e}n(v,N);break}else t(v,N);N=N.sibling}y.type===Nn?(g=hn(y.props.children,v.mode,C,y.key),g.return=v,v=g):(C=zr(y.type,y.key,y.props,null,v.mode,C),C.ref=yo(v,g,y),C.return=v,v=C)}return s(v);case xn:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=r(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=vs(y,v.mode,C),g.return=v,v=g}return s(v);case Bt:return N=y._init,I(v,g,N(y._payload),C)}if(Co(y))return E(v,g,y,C);if(fo(y))return _(v,g,y,C);_r(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=r(g,y),g.return=v,v=g):(n(v,g),g=ys(y,v.mode,C),g.return=v,v=g),s(v)):n(v,g)}return I}var Zn=Hf(!0),Bf=Hf(!1),si=on(null),li=null,Fn=null,ta=null;function na(){ta=Fn=li=null}function oa(e){var t=si.current;ee(si),e._currentValue=t}function el(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Jn(e,t){li=e,ta=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function je(e){var t=e._currentValue;if(ta!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(li===null)throw Error(R(308));Fn=e,li.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var fn=null;function ra(e){fn===null?fn=[e]:fn.push(e)}function qf(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,ra(t)):(n.next=r.next,r.next=n),t.interleaved=n,Mt(e,o)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Y&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Mt(e,n)}return r=o.interleaved,r===null?(t.next=t,ra(o)):(t.next=r.next,r.next=t),o.interleaved=t,Mt(e,n)}function Gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,zl(e,n)}}function Tu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ai(e,t,n,o){var r=e.updateQueue;qt=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;s=0,f=d=c=null,u=i;do{var p=u.lane,h=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,_=u;switch(p=t,h=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){m=E.call(h,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(h,m,p):E,p==null)break e;m=ie({},m,p);break e;case 2:qt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,s|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);En|=s,e.lanes=s,e.memoizedState=m}}function Cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var rr={},_t=on(rr),Yo=on(rr),Ko=on(rr);function pn(e){if(e===rr)throw Error(R(174));return e}function sa(e,t){switch(X(Ko,t),X(Yo,e),X(_t,rr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ls(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ls(t,e)}ee(_t),X(_t,t)}function jn(){ee(_t),ee(Yo),ee(Ko)}function Of(e){pn(Ko.current);var t=pn(_t.current),n=Ls(t,e.type);t!==n&&(X(Yo,e),X(_t,n))}function la(e){Yo.current===e&&(ee(_t),ee(Yo))}var oe=on(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ds=[];function aa(){for(var e=0;e<ds.length;e++)ds[e]._workInProgressVersionPrimary=null;ds.length=0}var Hr=Lt.ReactCurrentDispatcher,fs=Lt.ReactCurrentBatchConfig,vn=0,re=null,pe=null,ge=null,ci=!1,ko=!1,bo=0,$g=0;function Te(){throw Error(R(321))}function ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function ca(e,t,n,o,r,i){if(vn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hr.current=e===null||e.memoizedState===null?Wg:Yg,e=n(o,r),ko){i=0;do{if(ko=!1,bo=0,25<=i)throw Error(R(301));i+=1,ge=pe=null,t.updateQueue=null,Hr.current=Kg,e=n(o,r)}while(ko)}if(Hr.current=di,t=pe!==null&&pe.next!==null,vn=0,ge=pe=re=null,ci=!1,t)throw Error(R(300));return e}function da(){var e=bo!==0;return bo=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?re.memoizedState=ge=e:ge=ge.next=e,ge}function et(){if(pe===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ge===null?re.memoizedState:ge.next;if(t!==null)ge=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?re.memoizedState=ge=e:ge=ge.next=e}return ge}function Qo(e,t){return typeof t=="function"?t(e):t}function ps(e){var t=et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=pe,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=s=null,c=null,d=i;do{var f=d.lane;if((vn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=o):c=c.next=m,re.lanes|=f,En|=f}d=d.next}while(d!==null&&d!==i);c===null?s=o:c.next=u,ft(o,t.memoizedState)||(Ue=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,re.lanes|=i,En|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ms(e){var t=et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=e(i,s.action),s=s.next;while(s!==r);ft(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function zf(){}function Jf(e,t){var n=re,o=et(),r=t(),i=!ft(o.memoizedState,r);if(i&&(o.memoizedState=r,Ue=!0),o=o.queue,fa(Kf.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Xo(9,Yf.bind(null,n,o,r,t),void 0,null),ye===null)throw Error(R(349));vn&30||Wf(n,t,r)}return r}function Wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yf(e,t,n,o){t.value=n,t.getSnapshot=o,bf(t)&&Qf(e)}function Kf(e,t,n){return n(function(){bf(t)&&Qf(e)})}function bf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Qf(e){var t=Mt(e,1);t!==null&&ut(t,e,1,-1)}function Iu(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jg.bind(null,re,e),[t.memoizedState,e]}function Xo(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Xf(){return et().memoizedState}function Br(e,t,n,o){var r=yt();re.flags|=e,r.memoizedState=Xo(1|t,n,void 0,o===void 0?null:o)}function Pi(e,t,n,o){var r=et();o=o===void 0?null:o;var i=void 0;if(pe!==null){var s=pe.memoizedState;if(i=s.destroy,o!==null&&ua(o,s.deps)){r.memoizedState=Xo(t,n,i,o);return}}re.flags|=e,r.memoizedState=Xo(1|t,n,i,o)}function wu(e,t){return Br(8390656,8,e,t)}function fa(e,t){return Pi(2048,8,e,t)}function Zf(e,t){return Pi(4,2,e,t)}function jf(e,t){return Pi(4,4,e,t)}function ep(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tp(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4,4,ep.bind(null,t,e),n)}function pa(){}function np(e,t){var n=et();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&ua(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function op(e,t){var n=et();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&ua(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function rp(e,t,n){return vn&21?(ft(n,t)||(n=uf(),re.lanes|=n,En|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function Og(e,t){var n=b;b=n!==0&&4>n?n:4,e(!0);var o=fs.transition;fs.transition={};try{e(!1),t()}finally{b=n,fs.transition=o}}function ip(){return et().memoizedState}function zg(e,t,n){var o=Zt(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},sp(e))lp(t,n);else if(n=qf(e,t,n,o),n!==null){var r=Re();ut(n,e,o,r),ap(n,t,o)}}function Jg(e,t,n){var o=Zt(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(sp(e))lp(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(r.hasEagerState=!0,r.eagerState=u,ft(u,s)){var c=t.interleaved;c===null?(r.next=r,ra(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=qf(e,t,r,o),n!==null&&(r=Re(),ut(n,e,o,r),ap(n,t,o))}}function sp(e){var t=e.alternate;return e===re||t!==null&&t===re}function lp(e,t){ko=ci=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ap(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,zl(e,n)}}var di={readContext:je,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Wg={readContext:je,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:je,useEffect:wu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Br(4194308,4,ep.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Br(4194308,4,e,t)},useInsertionEffect:function(e,t){return Br(4,2,e,t)},useMemo:function(e,t){var n=yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=yt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=zg.bind(null,re,e),[o.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Iu,useDebugValue:pa,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Iu(!1),t=e[0];return e=Og.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=re,r=yt();if(ne){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ye===null)throw Error(R(349));vn&30||Wf(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,wu(Kf.bind(null,o,i,e),[e]),o.flags|=2048,Xo(9,Yf.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=yt(),t=ye.identifierPrefix;if(ne){var n=xt,o=At;n=(o&~(1<<32-at(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=bo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$g++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yg={readContext:je,useCallback:np,useContext:je,useEffect:fa,useImperativeHandle:tp,useInsertionEffect:Zf,useLayoutEffect:jf,useMemo:op,useReducer:ps,useRef:Xf,useState:function(){return ps(Qo)},useDebugValue:pa,useDeferredValue:function(e){var t=et();return rp(t,pe.memoizedState,e)},useTransition:function(){var e=ps(Qo)[0],t=et().memoizedState;return[e,t]},useMutableSource:zf,useSyncExternalStore:Jf,useId:ip,unstable_isNewReconciler:!1},Kg={readContext:je,useCallback:np,useContext:je,useEffect:fa,useImperativeHandle:tp,useInsertionEffect:Zf,useLayoutEffect:jf,useMemo:op,useReducer:ms,useRef:Xf,useState:function(){return ms(Qo)},useDebugValue:pa,useDeferredValue:function(e){var t=et();return pe===null?t.memoizedState=e:rp(t,pe.memoizedState,e)},useTransition:function(){var e=ms(Qo)[0],t=et().memoizedState;return[e,t]},useMutableSource:zf,useSyncExternalStore:Jf,useId:ip,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mi={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Re(),r=Zt(e),i=Nt(o,r);i.payload=t,n!=null&&(i.callback=n),t=Qt(e,i,r),t!==null&&(ut(t,e,r,o),Gr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Re(),r=Zt(e),i=Nt(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qt(e,i,r),t!==null&&(ut(t,e,r,o),Gr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),o=Zt(e),r=Nt(n,o);r.tag=2,t!=null&&(r.callback=t),t=Qt(e,r,o),t!==null&&(ut(t,e,o,n),Gr(t,e,o))}};function Au(e,t,n,o,r,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,s):t.prototype&&t.prototype.isPureReactComponent?!Oo(n,o)||!Oo(r,i):!0}function up(e,t,n){var o=!1,r=tn,i=t.contextType;return typeof i=="object"&&i!==null?i=je(i):(r=Ve(t)?gn:Ae.current,o=t.contextTypes,i=(o=o!=null)?Qn(e,r):tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function xu(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function nl(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},ia(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=je(i):(i=Ve(t)?gn:Ae.current,r.context=Qn(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tl(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Mi.enqueueReplaceState(r,r.state,null),ai(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function eo(e,t){try{var n="",o=t;do n+=Th(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bg=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){pi||(pi=!0,pl=o),ol(e,t)},n}function dp(e,t,n){n=Nt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ol(e,t),typeof o!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Nu(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new bg;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=uy.bind(null,e,t,n),t.then(e,e))}function Ru(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pu(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nt(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var Qg=Lt.ReactCurrentOwner,Ue=!1;function Ne(e,t,n,o){t.child=e===null?Bf(t,null,n,o):Zn(t,e.child,n,o)}function Mu(e,t,n,o,r){n=n.render;var i=t.ref;return Jn(t,r),o=ca(e,t,n,o,i,r),n=da(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kt(e,t,r)):(ne&&n&&Zl(t),t.flags|=1,Ne(e,t,o,r),t.child)}function ku(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!Sa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fp(e,t,i,o,r)):(e=zr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(s,o)&&e.ref===t.ref)return kt(e,t,r)}return t.flags|=1,e=jt(i,o),e.ref=t.ref,e.return=t,t.child=e}function fp(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Oo(i,o)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,kt(e,t,r)}return rl(e,t,n,o,r)}function pp(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Gn,Be),Be|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Gn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,X(Gn,Be),Be|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,X(Gn,Be),Be|=o;return Ne(e,t,r,n),t.child}function mp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,n,o,r){var i=Ve(n)?gn:Ae.current;return i=Qn(t,i),Jn(t,r),n=ca(e,t,n,o,i,r),o=da(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kt(e,t,r)):(ne&&o&&Zl(t),t.flags|=1,Ne(e,t,n,r),t.child)}function Du(e,t,n,o,r){if(Ve(n)){var i=!0;oi(t)}else i=!1;if(Jn(t,r),t.stateNode===null)qr(e,t),up(t,n,o),nl(t,n,o,r),o=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=je(d):(d=Ve(n)?gn:Ae.current,d=Qn(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==o||c!==d)&&xu(t,s,o,d),qt=!1;var p=t.memoizedState;s.state=p,ai(t,o,s,r),c=t.memoizedState,u!==o||p!==c||Fe.current||qt?(typeof f=="function"&&(tl(t,n,f,o),c=t.memoizedState),(u=qt||Au(t,n,u,o,p,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),s.props=o,s.state=c,s.context=d,o=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,$f(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:it(t.type,u),s.props=d,m=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=je(c):(c=Ve(n)?gn:Ae.current,c=Qn(t,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||p!==c)&&xu(t,s,o,c),qt=!1,p=t.memoizedState,s.state=p,ai(t,o,s,r);var E=t.memoizedState;u!==m||p!==E||Fe.current||qt?(typeof h=="function"&&(tl(t,n,h,o),E=t.memoizedState),(d=qt||Au(t,n,d,o,p,E,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,E,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,E,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=E),s.props=o,s.state=E,s.context=c,o=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return il(e,t,n,o,i,r)}function il(e,t,n,o,r,i){mp(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return r&&vu(t,n,!1),kt(e,t,i);o=t.stateNode,Qg.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=Zn(t,e.child,null,i),t.child=Zn(t,null,u,i)):Ne(e,t,u,i),t.memoizedState=o.state,r&&vu(t,n,!0),t.child}function hp(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),sa(e,t.containerInfo)}function Lu(e,t,n,o,r){return Xn(),ea(r),t.flags|=256,Ne(e,t,n,o),t.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function gp(e,t,n){var o=t.pendingProps,r=oe.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),X(oe,r&1),e===null)return js(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Li(s,o,0,null),e=hn(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ll(n),t.memoizedState=sl,e):ma(t,s));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Xg(e,t,s,o,u,r,n);if(i){i=o.fallback,s=t.mode,r=e.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(s&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=jt(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=jt(u,i):(i=hn(i,s,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=e.child.memoizedState,s=s===null?ll(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=sl,o}return i=e.child,e=i.sibling,o=jt(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ma(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sr(e,t,n,o){return o!==null&&ea(o),Zn(t,e.child,null,n),e=ma(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xg(e,t,n,o,r,i,s){if(n)return t.flags&256?(t.flags&=-257,o=hs(Error(R(422))),Sr(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Li({mode:"visible",children:o.children},r,0,null),i=hn(i,r,s,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&Zn(t,e.child,null,s),t.child.memoizedState=ll(s),t.memoizedState=sl,i);if(!(t.mode&1))return Sr(e,t,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(R(419)),o=hs(i,o,void 0),Sr(e,t,s,o)}if(u=(s&e.childLanes)!==0,Ue||u){if(o=ye,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Mt(e,r),ut(o,e,r,-1))}return _a(),o=hs(Error(R(421))),Sr(e,t,s,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=cy.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,$e=bt(r.nextSibling),Oe=t,ne=!0,lt=null,e!==null&&(Ke[be++]=At,Ke[be++]=xt,Ke[be++]=yn,At=e.id,xt=e.overflow,yn=t),t=ma(t,o.children),t.flags|=4096,t)}function Uu(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),el(e.return,t,n)}function gs(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function yp(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(Ne(e,t,o.children,n),o=oe.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uu(e,n,t);else if(e.tag===19)Uu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(X(oe,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ui(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),gs(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ui(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}gs(t,!0,n,null,i);break;case"together":gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zg(e,t,n){switch(t.tag){case 3:hp(t),Xn();break;case 5:Of(t);break;case 1:Ve(t.type)&&oi(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;X(si,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(X(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?gp(e,t,n):(X(oe,oe.current&1),e=kt(e,t,n),e!==null?e.sibling:null);X(oe,oe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return yp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),X(oe,oe.current),o)break;return null;case 22:case 23:return t.lanes=0,pp(e,t,n)}return kt(e,t,n)}var vp,al,Ep,_p;vp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};Ep=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,pn(_t.current);var i=null;switch(n){case"input":r=Ps(e,r),o=Ps(e,o),i=[];break;case"select":r=ie({},r,{value:void 0}),o=ie({},o,{value:void 0}),i=[];break;case"textarea":r=Ds(e,r),o=Ds(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ti)}Us(n,o);var s;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&j("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};_p=function(e,t,n,o){n!==o&&(t.flags|=4)};function vo(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function jg(e,t,n){var o=t.pendingProps;switch(jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ve(t.type)&&ni(),Ce(t),null;case 3:return o=t.stateNode,jn(),ee(Fe),ee(Ae),aa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Er(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(gl(lt),lt=null))),al(e,t),Ce(t),null;case 5:la(t);var r=pn(Ko.current);if(n=t.type,e!==null&&t.stateNode!=null)Ep(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return Ce(t),null}if(e=pn(_t.current),Er(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[vt]=t,o[Wo]=i,e=(t.mode&1)!==0,n){case"dialog":j("cancel",o),j("close",o);break;case"iframe":case"object":case"embed":j("load",o);break;case"video":case"audio":for(r=0;r<wo.length;r++)j(wo[r],o);break;case"source":j("error",o);break;case"img":case"image":case"link":j("error",o),j("load",o);break;case"details":j("toggle",o);break;case"input":za(o,i),j("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},j("invalid",o);break;case"textarea":Wa(o,i),j("invalid",o)}Us(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&vr(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&vr(o.textContent,u,e),r=["children",""+u]):Fo.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&j("scroll",o)}switch(n){case"input":cr(o),Ja(o,i,!0);break;case"textarea":cr(o),Ya(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=ti)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[vt]=t,e[Wo]=o,vp(e,t,!1,!1),t.stateNode=e;e:{switch(s=Fs(n,o),n){case"dialog":j("cancel",e),j("close",e),r=o;break;case"iframe":case"object":case"embed":j("load",e),r=o;break;case"video":case"audio":for(r=0;r<wo.length;r++)j(wo[r],e);r=o;break;case"source":j("error",e),r=o;break;case"img":case"image":case"link":j("error",e),j("load",e),r=o;break;case"details":j("toggle",e),r=o;break;case"input":za(e,o),r=Ps(e,o),j("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ie({},o,{value:void 0}),j("invalid",e);break;case"textarea":Wa(e,o),r=Ds(e,o),j("invalid",e);break;default:r=o}Us(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Qd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vo(e,c):typeof c=="number"&&Vo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&j("scroll",e):c!=null&&Gl(e,i,c,s))}switch(n){case"input":cr(e),Ja(e,o,!1);break;case"textarea":cr(e),Ya(e);break;case"option":o.value!=null&&e.setAttribute("value",""+en(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?qn(e,!!o.multiple,i,!1):o.defaultValue!=null&&qn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=ti)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)_p(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(n=pn(Ko.current),pn(_t.current),Er(t)){if(o=t.stateNode,n=t.memoizedProps,o[vt]=t,(i=o.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:vr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vr(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[vt]=t,t.stateNode=o}return Ce(t),null;case 13:if(ee(oe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&$e!==null&&t.mode&1&&!(t.flags&128))Gf(),Xn(),t.flags|=98560,i=!1;else if(i=Er(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[vt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else lt!==null&&(gl(lt),lt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?me===0&&(me=3):_a())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return jn(),al(e,t),e===null&&zo(t.stateNode.containerInfo),Ce(t),null;case 10:return oa(t.type._context),Ce(t),null;case 17:return Ve(t.type)&&ni(),Ce(t),null;case 19:if(ee(oe),i=t.memoizedState,i===null)return Ce(t),null;if(o=(t.flags&128)!==0,s=i.rendering,s===null)if(o)vo(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ui(e),s!==null){for(t.flags|=128,vo(i,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(oe,oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>to&&(t.flags|=128,o=!0,vo(i,!1),t.lanes=4194304)}else{if(!o)if(e=ui(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ne)return Ce(t),null}else 2*ue()-i.renderingStartTime>to&&n!==1073741824&&(t.flags|=128,o=!0,vo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=oe.current,X(oe,o?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return Ea(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Be&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function ey(e,t){switch(jl(t),t.tag){case 1:return Ve(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(),ee(Fe),ee(Ae),aa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return la(t),null;case 13:if(ee(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(oe),null;case 4:return jn(),null;case 10:return oa(t.type._context),null;case 22:case 23:return Ea(),null;case 24:return null;default:return null}}var Tr=!1,Ie=!1,ty=typeof WeakSet=="function"?WeakSet:Set,F=null;function Vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){le(e,t,o)}else n.current=null}function ul(e,t,n){try{n()}catch(o){le(e,t,o)}}var Fu=!1;function ny(e,t){if(Ws=Zr,e=wf(),Xl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,f=0,m=e,p=null;t:for(;;){for(var h;m!==n||r!==0&&m.nodeType!==3||(u=s+r),m!==i||o!==0&&m.nodeType!==3||(c=s+o),m.nodeType===3&&(s+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===r&&(u=s),p===i&&++f===o&&(c=s),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ys={focusedElem:e,selectionRange:n},Zr=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,I=E.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:it(t.type,_),I);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(C){le(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return E=Fu,Fu=!1,E}function Do(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&ul(t,n,i)}r=r.next}while(r!==o)}}function ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sp(e){var t=e.alternate;t!==null&&(e.alternate=null,Sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[Wo],delete t[Qs],delete t[Gg],delete t[Hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tp(e){return e.tag===5||e.tag===3||e.tag===4}function Vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ti));else if(o!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}function fl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(fl(e,t,n),e=e.sibling;e!==null;)fl(e,t,n),e=e.sibling}var Ee=null,st=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Cp(e,t,n),n=n.sibling}function Cp(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ii,n)}catch{}switch(n.tag){case 5:Ie||Vn(n,t);case 6:var o=Ee,r=st;Ee=null,Ht(e,t,n),Ee=o,st=r,Ee!==null&&(st?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(st?(e=Ee,n=n.stateNode,e.nodeType===8?us(e.parentNode,n):e.nodeType===1&&us(e,n),qo(e)):us(Ee,n.stateNode));break;case 4:o=Ee,r=st,Ee=n.stateNode.containerInfo,st=!0,Ht(e,t,n),Ee=o,st=r;break;case 0:case 11:case 14:case 15:if(!Ie&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ul(n,t,s),r=r.next}while(r!==o)}Ht(e,t,n);break;case 1:if(!Ie&&(Vn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){le(n,t,u)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Ie=(o=Ie)||n.memoizedState!==null,Ht(e,t,n),Ie=o):Ht(e,t,n);break;default:Ht(e,t,n)}}function Gu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ty),t.forEach(function(o){var r=dy.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function rt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Ee=u.stateNode,st=!1;break e;case 3:Ee=u.stateNode.containerInfo,st=!0;break e;case 4:Ee=u.stateNode.containerInfo,st=!0;break e}u=u.return}if(Ee===null)throw Error(R(160));Cp(i,s,r),Ee=null,st=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){le(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ip(t,e),t=t.sibling}function Ip(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),gt(e),o&4){try{Do(3,e,e.return),ki(3,e)}catch(_){le(e,e.return,_)}try{Do(5,e,e.return)}catch(_){le(e,e.return,_)}}break;case 1:rt(t,e),gt(e),o&512&&n!==null&&Vn(n,n.return);break;case 5:if(rt(t,e),gt(e),o&512&&n!==null&&Vn(n,n.return),e.flags&32){var r=e.stateNode;try{Vo(r,"")}catch(_){le(e,e.return,_)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Jd(r,i),Fs(u,s);var d=Fs(u,i);for(s=0;s<c.length;s+=2){var f=c[s],m=c[s+1];f==="style"?Qd(r,m):f==="dangerouslySetInnerHTML"?Kd(r,m):f==="children"?Vo(r,m):Gl(r,f,m,d)}switch(u){case"input":Ms(r,i);break;case"textarea":Wd(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?qn(r,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?qn(r,!!i.multiple,i.defaultValue,!0):qn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Wo]=i}catch(_){le(e,e.return,_)}}break;case 6:if(rt(t,e),gt(e),o&4){if(e.stateNode===null)throw Error(R(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(_){le(e,e.return,_)}}break;case 3:if(rt(t,e),gt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(_){le(e,e.return,_)}break;case 4:rt(t,e),gt(e);break;case 13:rt(t,e),gt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ya=ue())),o&4&&Gu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(d=Ie)||f,rt(t,e),Ie=d):rt(t,e),gt(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(F=e,f=e.child;f!==null;){for(m=F=f;F!==null;){switch(p=F,h=p.child,p.tag){case 0:case 11:case 14:case 15:Do(4,p,p.return);break;case 1:Vn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(_){le(o,n,_)}}break;case 5:Vn(p,p.return);break;case 22:if(p.memoizedState!==null){Bu(m);continue}}h!==null?(h.return=p,F=h):Bu(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=bd("display",s))}catch(_){le(e,e.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){le(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:rt(t,e),gt(e),o&4&&Gu(e);break;case 21:break;default:rt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tp(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Vo(r,""),o.flags&=-33);var i=Vu(e);fl(e,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,u=Vu(e);dl(e,u,s);break;default:throw Error(R(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oy(e,t,n){F=e,wp(e)}function wp(e,t,n){for(var o=(e.mode&1)!==0;F!==null;){var r=F,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||Tr;if(!s){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Ie;u=Tr;var d=Ie;if(Tr=s,(Ie=c)&&!d)for(F=r;F!==null;)s=F,c=s.child,s.tag===22&&s.memoizedState!==null?qu(r):c!==null?(c.return=s,F=c):qu(r);for(;i!==null;)F=i,wp(i),i=i.sibling;F=r,Tr=u,Ie=d}Hu(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,F=i):Hu(e)}}function Hu(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||ki(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ie)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cu(t,i,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cu(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&qo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ie||t.flags&512&&cl(t)}catch(p){le(t,t.return,p)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Bu(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function qu(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ki(4,t)}catch(c){le(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(c){le(t,r,c)}}var i=t.return;try{cl(t)}catch(c){le(t,i,c)}break;case 5:var s=t.return;try{cl(t)}catch(c){le(t,s,c)}}}catch(c){le(t,t.return,c)}if(t===e){F=null;break}var u=t.sibling;if(u!==null){u.return=t.return,F=u;break}F=t.return}}var ry=Math.ceil,fi=Lt.ReactCurrentDispatcher,ha=Lt.ReactCurrentOwner,Xe=Lt.ReactCurrentBatchConfig,Y=0,ye=null,de=null,_e=0,Be=0,Gn=on(0),me=0,Zo=null,En=0,Di=0,ga=0,Lo=null,Le=null,ya=0,to=1/0,It=null,pi=!1,pl=null,Xt=null,Cr=!1,Jt=null,mi=0,Uo=0,ml=null,$r=-1,Or=0;function Re(){return Y&6?ue():$r!==-1?$r:$r=ue()}function Zt(e){return e.mode&1?Y&2&&_e!==0?_e&-_e:qg.transition!==null?(Or===0&&(Or=uf()),Or):(e=b,e!==0||(e=window.event,e=e===void 0?16:gf(e.type)),e):1}function ut(e,t,n,o){if(50<Uo)throw Uo=0,ml=null,Error(R(185));tr(e,n,o),(!(Y&2)||e!==ye)&&(e===ye&&(!(Y&2)&&(Di|=n),me===4&&Ot(e,_e)),Ge(e,o),n===1&&Y===0&&!(t.mode&1)&&(to=ue()+500,Ri&&rn()))}function Ge(e,t){var n=e.callbackNode;qh(e,t);var o=Xr(e,e===ye?_e:0);if(o===0)n!==null&&Qa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Qa(n),t===1)e.tag===0?Bg($u.bind(null,e)):Uf($u.bind(null,e)),Fg(function(){!(Y&6)&&rn()}),n=null;else{switch(cf(o)){case 1:n=Ol;break;case 4:n=lf;break;case 16:n=Qr;break;case 536870912:n=af;break;default:n=Qr}n=Dp(n,Ap.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ap(e,t){if($r=-1,Or=0,Y&6)throw Error(R(327));var n=e.callbackNode;if(Wn()&&e.callbackNode!==n)return null;var o=Xr(e,e===ye?_e:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=hi(e,o);else{t=o;var r=Y;Y|=2;var i=Np();(ye!==e||_e!==t)&&(It=null,to=ue()+500,mn(e,t));do try{ly();break}catch(u){xp(e,u)}while(!0);na(),fi.current=i,Y=r,de!==null?t=0:(ye=null,_e=0,t=me)}if(t!==0){if(t===2&&(r=qs(e),r!==0&&(o=r,t=hl(e,r))),t===1)throw n=Zo,mn(e,0),Ot(e,o),Ge(e,ue()),n;if(t===6)Ot(e,o);else{if(r=e.current.alternate,!(o&30)&&!iy(r)&&(t=hi(e,o),t===2&&(i=qs(e),i!==0&&(o=i,t=hl(e,i))),t===1))throw n=Zo,mn(e,0),Ot(e,o),Ge(e,ue()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:an(e,Le,It);break;case 3:if(Ot(e,o),(o&130023424)===o&&(t=ya+500-ue(),10<t)){if(Xr(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Re(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=bs(an.bind(null,e,Le,It),t);break}an(e,Le,It);break;case 4:if(Ot(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var s=31-at(o);i=1<<s,s=t[s],s>r&&(r=s),o&=~i}if(o=r,o=ue()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ry(o/1960))-o,10<o){e.timeoutHandle=bs(an.bind(null,e,Le,It),o);break}an(e,Le,It);break;case 5:an(e,Le,It);break;default:throw Error(R(329))}}}return Ge(e,ue()),e.callbackNode===n?Ap.bind(null,e):null}function hl(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&(mn(e,t).flags|=256),e=hi(e,t),e!==2&&(t=Le,Le=n,t!==null&&gl(t)),e}function gl(e){Le===null?Le=e:Le.push.apply(Le,e)}function iy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!ft(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ot(e,t){for(t&=~ga,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),o=1<<n;e[n]=-1,t&=~o}}function $u(e){if(Y&6)throw Error(R(327));Wn();var t=Xr(e,0);if(!(t&1))return Ge(e,ue()),null;var n=hi(e,t);if(e.tag!==0&&n===2){var o=qs(e);o!==0&&(t=o,n=hl(e,o))}if(n===1)throw n=Zo,mn(e,0),Ot(e,t),Ge(e,ue()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Le,It),Ge(e,ue()),null}function va(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(to=ue()+500,Ri&&rn())}}function _n(e){Jt!==null&&Jt.tag===0&&!(Y&6)&&Wn();var t=Y;Y|=1;var n=Xe.transition,o=b;try{if(Xe.transition=null,b=1,e)return e()}finally{b=o,Xe.transition=n,Y=t,!(Y&6)&&rn()}}function Ea(){Be=Gn.current,ee(Gn)}function mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ug(n)),de!==null)for(n=de.return;n!==null;){var o=n;switch(jl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ni();break;case 3:jn(),ee(Fe),ee(Ae),aa();break;case 5:la(o);break;case 4:jn();break;case 13:ee(oe);break;case 19:ee(oe);break;case 10:oa(o.type._context);break;case 22:case 23:Ea()}n=n.return}if(ye=e,de=e=jt(e.current,null),_e=Be=t,me=0,Zo=null,ga=Di=En=0,Le=Lo=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}n.pending=o}fn=null}return e}function xp(e,t){do{var n=de;try{if(na(),Hr.current=di,ci){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}ci=!1}if(vn=0,ge=pe=re=null,ko=!1,bo=0,ha.current=null,n===null||n.return===null){me=1,Zo=t,de=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=_e,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Ru(s);if(h!==null){h.flags&=-257,Pu(h,s,u,i,t),h.mode&1&&Nu(i,d,t),t=h,c=d;var E=t.updateQueue;if(E===null){var _=new Set;_.add(c),t.updateQueue=_}else E.add(c);break e}else{if(!(t&1)){Nu(i,d,t),_a();break e}c=Error(R(426))}}else if(ne&&u.mode&1){var I=Ru(s);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Pu(I,s,u,i,t),ea(eo(c,u));break e}}i=c=eo(c,u),me!==4&&(me=2),Lo===null?Lo=[i]:Lo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=cp(i,c,t);Tu(i,v);break e;case 1:u=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xt===null||!Xt.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=dp(i,u,t);Tu(i,C);break e}}i=i.return}while(i!==null)}Pp(n)}catch(T){t=T,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Np(){var e=fi.current;return fi.current=di,e===null?di:e}function _a(){(me===0||me===3||me===2)&&(me=4),ye===null||!(En&268435455)&&!(Di&268435455)||Ot(ye,_e)}function hi(e,t){var n=Y;Y|=2;var o=Np();(ye!==e||_e!==t)&&(It=null,mn(e,t));do try{sy();break}catch(r){xp(e,r)}while(!0);if(na(),Y=n,fi.current=o,de!==null)throw Error(R(261));return ye=null,_e=0,me}function sy(){for(;de!==null;)Rp(de)}function ly(){for(;de!==null&&!kh();)Rp(de)}function Rp(e){var t=kp(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Pp(e):de=t,ha.current=null}function Pp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ey(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(n=jg(n,t,Be),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function an(e,t,n){var o=b,r=Xe.transition;try{Xe.transition=null,b=1,ay(e,t,n,o)}finally{Xe.transition=r,b=o}return null}function ay(e,t,n,o){do Wn();while(Jt!==null);if(Y&6)throw Error(R(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if($h(e,i),e===ye&&(de=ye=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cr||(Cr=!0,Dp(Qr,function(){return Wn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var s=b;b=1;var u=Y;Y|=4,ha.current=null,ny(e,n),Ip(n,e),Ng(Ys),Zr=!!Ws,Ys=Ws=null,e.current=n,oy(n),Dh(),Y=u,b=s,Xe.transition=i}else e.current=n;if(Cr&&(Cr=!1,Jt=e,mi=r),i=e.pendingLanes,i===0&&(Xt=null),Fh(n.stateNode),Ge(e,ue()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(pi)throw pi=!1,e=pl,pl=null,e;return mi&1&&e.tag!==0&&Wn(),i=e.pendingLanes,i&1?e===ml?Uo++:(Uo=0,ml=e):Uo=0,rn(),null}function Wn(){if(Jt!==null){var e=cf(mi),t=Xe.transition,n=b;try{if(Xe.transition=null,b=16>e?16:e,Jt===null)var o=!1;else{if(e=Jt,Jt=null,mi=0,Y&6)throw Error(R(331));var r=Y;for(Y|=4,F=e.current;F!==null;){var i=F,s=i.child;if(F.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(F=d;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:Do(8,f,i)}var m=f.child;if(m!==null)m.return=f,F=m;else for(;F!==null;){f=F;var p=f.sibling,h=f.return;if(Sp(f),f===d){F=null;break}if(p!==null){p.return=h,F=p;break}F=h}}}var E=i.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}F=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,F=s;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var g=e.current;for(F=g;F!==null;){s=F;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,F=y;else e:for(s=g;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ki(9,u)}}catch(T){le(u,u.return,T)}if(u===s){F=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,F=C;break e}F=u.return}}if(Y=r,rn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ii,e)}catch{}o=!0}return o}finally{b=n,Xe.transition=t}}return!1}function Ou(e,t,n){t=eo(n,t),t=cp(e,t,1),e=Qt(e,t,1),t=Re(),e!==null&&(tr(e,1,t),Ge(e,t))}function le(e,t,n){if(e.tag===3)Ou(e,e,n);else for(;t!==null;){if(t.tag===3){Ou(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xt===null||!Xt.has(o))){e=eo(n,e),e=dp(t,e,1),t=Qt(t,e,1),e=Re(),t!==null&&(tr(t,1,e),Ge(t,e));break}}t=t.return}}function uy(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(_e&n)===n&&(me===4||me===3&&(_e&130023424)===_e&&500>ue()-ya?mn(e,0):ga|=n),Ge(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=pr,pr<<=1,!(pr&130023424)&&(pr=4194304)):t=1);var n=Re();e=Mt(e,t),e!==null&&(tr(e,t,n),Ge(e,n))}function cy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mp(e,n)}function dy(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),Mp(e,n)}var kp;kp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,Zg(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ne&&t.flags&1048576&&Ff(t,ii,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;qr(e,t),e=t.pendingProps;var r=Qn(t,Ae.current);Jn(t,n),r=ca(null,t,o,e,r,n);var i=da();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(o)?(i=!0,oi(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ia(t),r.updater=Mi,t.stateNode=r,r._reactInternals=t,nl(t,o,e,n),t=il(null,t,o,!0,i,n)):(t.tag=0,ne&&i&&Zl(t),Ne(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(qr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=py(o),e=it(o,e),r){case 0:t=rl(null,t,o,e,n);break e;case 1:t=Du(null,t,o,e,n);break e;case 11:t=Mu(null,t,o,e,n);break e;case 14:t=ku(null,t,o,it(o.type,e),n);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:it(o,r),rl(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:it(o,r),Du(e,t,o,r,n);case 3:e:{if(hp(t),e===null)throw Error(R(387));o=t.pendingProps,i=t.memoizedState,r=i.element,$f(e,t),ai(t,o,null,n);var s=t.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=eo(Error(R(423)),t),t=Lu(e,t,o,n,r);break e}else if(o!==r){r=eo(Error(R(424)),t),t=Lu(e,t,o,n,r);break e}else for($e=bt(t.stateNode.containerInfo.firstChild),Oe=t,ne=!0,lt=null,n=Bf(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),o===r){t=kt(e,t,n);break e}Ne(e,t,o,n)}t=t.child}return t;case 5:return Of(t),e===null&&js(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,Ks(o,r)?s=null:i!==null&&Ks(o,i)&&(t.flags|=32),mp(e,t),Ne(e,t,s,n),t.child;case 6:return e===null&&js(t),null;case 13:return gp(e,t,n);case 4:return sa(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Zn(t,null,o,n):Ne(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:it(o,r),Mu(e,t,o,r,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,s=r.value,X(si,o._currentValue),o._currentValue=s,i!==null)if(ft(i.value,s)){if(i.children===r.children&&!Fe.current){t=kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=Nt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),el(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(R(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),el(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ne(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Jn(t,n),r=je(r),o=o(r),t.flags|=1,Ne(e,t,o,n),t.child;case 14:return o=t.type,r=it(o,t.pendingProps),r=it(o.type,r),ku(e,t,o,r,n);case 15:return fp(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:it(o,r),qr(e,t),t.tag=1,Ve(o)?(e=!0,oi(t)):e=!1,Jn(t,n),up(t,o,r),nl(t,o,r,n),il(null,t,o,!0,e,n);case 19:return yp(e,t,n);case 22:return pp(e,t,n)}throw Error(R(156,t.tag))};function Dp(e,t){return sf(e,t)}function fy(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,n,o){return new fy(e,t,n,o)}function Sa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function py(e){if(typeof e=="function")return Sa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bl)return 11;if(e===ql)return 14}return 2}function jt(e,t){var n=e.alternate;return n===null?(n=Qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zr(e,t,n,o,r,i){var s=2;if(o=e,typeof e=="function")Sa(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Nn:return hn(n.children,r,i,t);case Hl:s=8,r|=8;break;case As:return e=Qe(12,n,t,r|2),e.elementType=As,e.lanes=i,e;case xs:return e=Qe(13,n,t,r),e.elementType=xs,e.lanes=i,e;case Ns:return e=Qe(19,n,t,r),e.elementType=Ns,e.lanes=i,e;case $d:return Li(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bd:s=10;break e;case qd:s=9;break e;case Bl:s=11;break e;case ql:s=14;break e;case Bt:s=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Qe(s,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function hn(e,t,n,o){return e=Qe(7,e,o,t),e.lanes=n,e}function Li(e,t,n,o){return e=Qe(22,e,o,t),e.elementType=$d,e.lanes=n,e.stateNode={isHidden:!1},e}function ys(e,t,n){return e=Qe(6,e,null,t),e.lanes=n,e}function vs(e,t,n){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function my(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ta(e,t,n,o,r,i,s,u,c){return e=new my(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(i),e}function hy(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Lp(e){if(!e)return tn;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Lf(e,n,t)}return t}function Up(e,t,n,o,r,i,s,u,c){return e=Ta(n,o,!0,e,r,i,s,u,c),e.context=Lp(null),n=e.current,o=Re(),r=Zt(n),i=Nt(o,r),i.callback=t??null,Qt(n,i,r),e.current.lanes=r,tr(e,r,o),Ge(e,o),e}function Ui(e,t,n,o){var r=t.current,i=Re(),s=Zt(r);return n=Lp(n),t.context===null?t.context=n:t.pendingContext=n,t=Nt(i,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Qt(r,t,s),e!==null&&(ut(e,r,s,i),Gr(e,r,s)),s}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ca(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function gy(){return null}var Fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ia(e){this._internalRoot=e}Fi.prototype.render=Ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ui(e,t,null,null)};Fi.prototype.unmount=Ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){Ui(null,e,null,null)}),t[Pt]=null}};function Fi(e){this._internalRoot=e}Fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=pf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&t!==0&&t<$t[n].priority;n++);$t.splice(n,0,e),n===0&&hf(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function yy(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=gi(s);i.call(d)}}var s=Up(t,o,e,0,null,!1,!1,"",Ju);return e._reactRootContainer=s,e[Pt]=s.current,zo(e.nodeType===8?e.parentNode:e),_n(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=gi(c);u.call(d)}}var c=Ta(e,0,!1,null,null,!1,!1,"",Ju);return e._reactRootContainer=c,e[Pt]=c.current,zo(e.nodeType===8?e.parentNode:e),_n(function(){Ui(t,c,n,o)}),c}function Gi(e,t,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var u=r;r=function(){var c=gi(s);u.call(c)}}Ui(t,s,e,r)}else s=yy(n,t,e,r,o);return gi(s)}df=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Io(t.pendingLanes);n!==0&&(zl(t,n|1),Ge(t,ue()),!(Y&6)&&(to=ue()+500,rn()))}break;case 13:_n(function(){var o=Mt(e,1);if(o!==null){var r=Re();ut(o,e,1,r)}}),Ca(e,1)}};Jl=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Re();ut(t,e,134217728,n)}Ca(e,134217728)}};ff=function(e){if(e.tag===13){var t=Zt(e),n=Mt(e,t);if(n!==null){var o=Re();ut(n,e,t,o)}Ca(e,t)}};pf=function(){return b};mf=function(e,t){var n=b;try{return b=e,t()}finally{b=n}};Gs=function(e,t,n){switch(t){case"input":if(Ms(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Ni(o);if(!r)throw Error(R(90));zd(o),Ms(o,r)}}}break;case"textarea":Wd(e,n);break;case"select":t=n.value,t!=null&&qn(e,!!n.multiple,t,!1)}};jd=va;ef=_n;var vy={usingClientEntryPoint:!1,Events:[or,kn,Ni,Xd,Zd,va]},Eo={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ey={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=of(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{Ii=Ir.inject(Ey),Et=Ir}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vy;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(R(200));return hy(e,t,null,n)};Je.createRoot=function(e,t){if(!wa(e))throw Error(R(299));var n=!1,o="",r=Fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ta(e,1,!1,null,null,n,!1,o,r),e[Pt]=t.current,zo(e.nodeType===8?e.parentNode:e),new Ia(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=of(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return _n(e)};Je.hydrate=function(e,t,n){if(!Vi(t))throw Error(R(200));return Gi(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",s=Fp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Up(t,null,e,1,n??null,r,!1,i,s),e[Pt]=t.current,zo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Fi(t)};Je.render=function(e,t,n){if(!Vi(t))throw Error(R(200));return Gi(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(R(40));return e._reactRootContainer?(_n(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Je.unstable_batchedUpdates=va;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Vi(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Gi(e,t,n,!1,o)};Je.version="18.3.1-next-f1338f8080-20240426";function Vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vp)}catch(e){console.error(e)}}Vp(),Fd.exports=Je;var _y=Fd.exports,Wu=_y;Is.createRoot=Wu.createRoot,Is.hydrateRoot=Wu.hydrateRoot;const Sy=[1,2,3,4,5,6],Ty=6,Cy=2,un=5,Iy=3,wr={1:"",2:"",3:"",4:"",5:"",6:""},Ar=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500"],Es=["","","","","","","",""],De=({children:e,variant:t="primary",isLoading:n,className:o="",disabled:r,...i})=>{const s="px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",u={primary:"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-900/50",secondary:"bg-slate-700 hover:bg-slate-600 text-white shadow-lg shadow-slate-900/50",danger:"bg-rose-600 hover:bg-rose-500 text-white shadow-lg shadow-rose-900/50",ghost:"bg-transparent hover:bg-white/10 text-slate-300"};return S.jsx("button",{className:`${s} ${u[t]} ${o}`,disabled:n||r,...i,children:n?S.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e})},wy=e=>Array.from({length:e},()=>Math.floor(Math.random()*6)+1),_s=(e,t,n)=>!e||t>e.quantity||t===e.quantity&&n>e.face,Ay=(e,t)=>{let n=0;return e.forEach(o=>{o.dice.forEach(r=>{(r===t||r===1)&&n++})}),n},xy=()=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<4;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},Gp=e=>{const t=new URL(window.location.href);return t.search="",t.searchParams.set("room",e),t.toString()},Ny=()=>{const t=new URLSearchParams(window.location.search).get("room");return t?{roomId:t,isGuest:!0}:null},Ry=({onStartGame:e})=>{const[t,n]=B.useState(""),[o,r]=B.useState("single"),[i,s]=B.useState(3),[u,c]=B.useState(un),[d,f]=B.useState("easy"),[m,p]=B.useState("classic"),[h,E]=B.useState(Iy),[_,I]=B.useState(""),[v,g]=B.useState(!1),[y,C]=B.useState(!1);B.useEffect(()=>{const A=Ny();A?(r("multiplayer"),I(A.roomId),C(!0)):(I(xy()),C(!1))},[]);const T=()=>{const A=Gp(_);navigator.clipboard.writeText(A),g(!0),setTimeout(()=>g(!1),2e3)},N=()=>{if(!t.trim()){alert("");return}e({playerCount:i,startingDice:u,playerName:t||" 1",difficulty:d,mode:o,roomId:o==="multiplayer"?_:void 0,isHost:o==="single"?!0:!y,gameMode:m,maxHealth:h})};return S.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 p-4 font-sans",children:S.jsxs("div",{className:"w-full max-w-md bg-slate-800 rounded-2xl shadow-2xl p-8 border border-slate-700 relative overflow-hidden",children:[S.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-indigo-400",children:"Gemini "}),S.jsx("p",{className:"text-slate-400 text-center mb-6",children:o==="single"?" / AI ":y?"":""}),!y&&S.jsxs("div",{className:"flex bg-slate-900 p-1 rounded-xl mb-6 border border-slate-700",children:[S.jsx("button",{onClick:()=>r("single"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${o==="single"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:" (vs AI)"}),S.jsx("button",{onClick:()=>r("multiplayer"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${o==="multiplayer"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:""})]}),S.jsxs("div",{className:"space-y-6",children:[o==="multiplayer"&&S.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-700",children:[S.jsx("div",{className:"flex items-center justify-between mb-2",children:S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:" (Room ID)"}),y?S.jsx("p",{className:"text-xl font-mono text-white tracking-widest",children:_}):S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"text-xl font-mono text-white tracking-widest",children:_}),S.jsx(De,{variant:"ghost",onClick:T,className:"text-xs h-8 px-2",children:v?"":""})]})]})}),!y&&S.jsx("p",{className:"text-xs text-slate-400",children:""}),y&&S.jsx("p",{className:"text-xs text-slate-400",children:""})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300",children:""}),S.jsx("input",{type:"text",value:t,onChange:A=>n(A.target.value),placeholder:"",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),S.jsxs("div",{className:"border-t border-slate-700 my-4 pt-4 relative",children:[S.jsxs("p",{className:"text-xs font-bold text-slate-500 mb-4 uppercase tracking-wider flex justify-between",children:[S.jsx("span",{children:""}),y&&S.jsx("span",{className:"text-indigo-400 animate-pulse",children:""})]}),y&&S.jsx("div",{className:"absolute inset-0 top-10 bg-slate-900/40 z-10 cursor-not-allowed backdrop-blur-[1px] rounded-lg border border-white/5"}),S.jsxs("div",{className:`space-y-2 mb-4 transition-opacity ${y?"opacity-50":""}`,children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300",children:""}),S.jsxs("div",{className:"flex gap-2 bg-slate-900 p-1 rounded-lg",children:[S.jsx("button",{onClick:()=>!y&&p("classic"),disabled:y,className:`flex-1 py-1.5 text-xs font-bold rounded transition-colors ${m==="classic"?"bg-slate-700 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:" ()"}),S.jsx("button",{onClick:()=>!y&&p("hearts"),disabled:y,className:`flex-1 py-1.5 text-xs font-bold rounded transition-colors ${m==="hearts"?"bg-rose-900/50 text-rose-300 shadow ring-1 ring-rose-800":"text-slate-500 hover:text-slate-300"}`,children:" ()"})]})]}),S.jsxs("div",{className:`space-y-2 mb-4 transition-opacity ${y?"opacity-50":""}`,children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[S.jsx("span",{children:" ( AI)"}),S.jsxs("span",{className:"font-bold text-indigo-400",children:[y?"?":i," "]})]}),S.jsx("input",{type:"range",min:Cy,max:Ty,value:i,onChange:A=>s(Number(A.target.value)),disabled:y,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:cursor-not-allowed"})]}),m==="classic"?S.jsxs("div",{className:`space-y-2 mb-4 transition-opacity ${y?"opacity-50":""}`,children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[S.jsx("span",{children:""}),S.jsxs("span",{className:"font-bold text-indigo-400",children:[y?"?":u," "]})]}),S.jsx("input",{type:"range",min:1,max:6,value:u,onChange:A=>c(Number(A.target.value)),disabled:y,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:cursor-not-allowed"})]}):S.jsxs("div",{className:`space-y-2 mb-4 transition-opacity ${y?"opacity-50":""}`,children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[S.jsx("span",{children:" ()"}),S.jsxs("span",{className:"font-bold text-rose-400",children:[y?"?":h," "]})]}),S.jsx("input",{type:"range",min:1,max:10,value:h,onChange:A=>E(Number(A.target.value)),disabled:y,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-rose-500 disabled:cursor-not-allowed"}),S.jsx("p",{className:"text-[10px] text-slate-500",children:" 5 "})]}),S.jsxs("div",{className:`space-y-2 transition-opacity ${y?"opacity-50":""}`,children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"AI "}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsx("button",{onClick:()=>!y&&f("easy"),disabled:y,className:`px-4 py-2 rounded-lg border text-sm font-semibold transition-colors ${d==="easy"?"bg-green-600/20 border-green-500 text-green-400":"bg-slate-900 border-slate-700 text-slate-400"}`,children:""}),S.jsx("button",{onClick:()=>!y&&f("hard"),disabled:y,className:`px-4 py-2 rounded-lg border text-sm font-semibold transition-colors ${d==="hard"?"bg-red-600/20 border-red-500 text-red-400":"bg-slate-900 border-slate-700 text-slate-400"}`,children:"Gemini Pro ()"})]})]})]}),S.jsx(De,{onClick:N,className:"w-full py-3 text-lg mt-4",children:o==="single"?"":y?"":""}),o==="multiplayer"&&!y&&S.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:""})]})]})})};var ce=(e=>(e.LOBBY="LOBBY",e.PLAYING="PLAYING",e.ROUND_END="ROUND_END",e.GAME_OVER="GAME_OVER",e))(ce||{}),Py={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let My,ky;function Dy(){return{geminiUrl:My,vertexUrl:ky}}function Ly(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const s=Dy();return t?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ut{}function U(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const s=t[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,t.slice(i+1),n[d])}else for(const d of c)a(d,t.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(i+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(u=>l(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function Uy(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),s=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}yl(e,r,i,0,s)}}function yl(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const s=i.slice(0,-2),u=e;if(s in u&&Array.isArray(u[s]))for(const c of u[s])yl(c,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of n.slice(o))p==="*"?m.push(d):m.push(p);a(s,m,f)}for(const d of u)delete s[d]}}else{const s=e;i in s&&yl(s[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aa(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fy(e){const t={},n=l(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=l(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function Vy(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response","generateVideoResponse"]);return s!=null&&a(t,["response"],Hy(s)),t}function Gy(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],By(s)),t}function Hy(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>qy(s))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function By(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>$y(s))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function qy(e){const t={},n=l(e,["video"]);return n!=null&&a(t,["video"],Ky(n)),t}function $y(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],by(n)),t}function Oy(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function zy(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Jy(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],Wy(s)),t}function Wy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Hp(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],Yy(s)),t}function Yy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Ky(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],Aa(o));const r=l(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function by(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Aa(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yu||(Yu={}));var Ku;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Ku||(Ku={}));var bu;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(bu||(bu={}));var qe;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(qe||(qe={}));var Qu;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qu||(Qu={}));var Xu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Xu||(Xu={}));var Zu;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Zu||(Zu={}));var ju;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ju||(ju={}));var ec;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ec||(ec={}));var tc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(tc||(tc={}));var nc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(nc||(nc={}));var oc;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(oc||(oc={}));var rc;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rc||(rc={}));var ic;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(ic||(ic={}));var sc;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(sc||(sc={}));var lc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(lc||(lc={}));var ac;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ac||(ac={}));var uc;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uc||(uc={}));var cc;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cc||(cc={}));var dc;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(dc||(dc={}));var fc;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fc||(fc={}));var yi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(yi||(yi={}));var pc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pc||(pc={}));var mc;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mc||(mc={}));var hc;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hc||(hc={}));var vl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vl||(vl={}));var gc;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(gc||(gc={}));var yc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(yc||(yc={}));var El;(function(e){e.COLLECTION="COLLECTION"})(El||(El={}));var vc;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(vc||(vc={}));var Ec;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ec||(Ec={}));var _c;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(_c||(_c={}));var Sc;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Sc||(Sc={}));var Tc;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Tc||(Tc={}));var Cc;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Cc||(Cc={}));var Ic;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ic||(Ic={}));var wc;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wc||(wc={}));var Ac;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ac||(Ac={}));var xc;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(xc||(xc={}));var Nc;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Nc||(Nc={}));var Rc;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Rc||(Rc={}));var Pc;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Pc||(Pc={}));var Mc;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(Mc||(Mc={}));var kc;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(kc||(kc={}));var Dc;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Dc||(Dc={}));var Lc;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Lc||(Lc={}));var Uc;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Uc||(Uc={}));var Fc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Fc||(Fc={}));var Vc;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Vc||(Vc={}));var Gc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Gc||(Gc={}));var Hc;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hc||(Hc={}));var Bc;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bc||(Bc={}));var qc;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(qc||(qc={}));var $c;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($c||($c={}));var Oc;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Oc||(Oc={}));var zc;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(zc||(zc={}));var Hn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Hn||(Hn={}));class _l{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class _o{get text(){var t,n,o,r,i,s,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,o,r,i,s,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,r,i,s,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,r,i,s,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,r,i,s,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Jc{}class Wc{}class Qy{}class Xy{}class Zy{}class jy{}class Yc{}class Kc{}class bc{}class ev{}class vi{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new vi;let r;const i=t;return n?r=Gy(i):r=Vy(i),Object.assign(o,r),o}}class Qc{}class Xc{}class Zc{}class jc{}class tv{}class nv{}class ov{}class xa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new xa,i=Jy(t);return Object.assign(o,i),o}}class rv{}class iv{}class sv{}class lv{}class ed{}class av{get text(){var t,n,o;let r="",i=!1;const s=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class uv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Na{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Na,i=Hp(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Bp(e,t){const n=K(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function qp(e){return Array.isArray(e)?e.map(t=>Ei(t)):[Ei(e)]}function Ei(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function $p(e){const t=Ei(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Op(e){const t=Ei(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function td(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function zp(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>td(t)):[td(e)]}function Sl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function nd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function od(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function we(e){if(e==null)throw new Error("ContentUnion is required");return Sl(e)?e:{role:"user",parts:zp(e)}}function Ra(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=we(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=we(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>we(n)):[we(t)]}function Ze(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(nd(e)||od(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[we(e)]}const t=[],n=[],o=Sl(e[0]);for(const r of e){const i=Sl(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(nd(r)||od(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:zp(n)}),t}function cv(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(qe).includes(n[0].toUpperCase())?n[0].toUpperCase():qe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(qe).includes(o.toUpperCase())?o.toUpperCase():qe.TYPE_UNSPECIFIED})}}function Yn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&cv(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(qe).includes(u.toUpperCase())?u.toUpperCase():qe.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Yn(u);else if(o.includes(s)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(Yn(d))}t[s]=c}else if(r.includes(s)){const c={};for(const[d,f]of Object.entries(u))c[d]=Yn(f);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=u}return t}function Pa(e){return Yn(e)}function Ma(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ka(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function io(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Yn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Yn(t.response));return e}function so(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function dv(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Ft(e,t){if(typeof t!="string")throw new Error("name must be a string");return dv(e,t,"cachedContents")}function Jp(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function sn(e){return Aa(e)}function fv(e){return e!=null&&typeof e=="object"&&"name"in e}function pv(e){return e!=null&&typeof e=="object"&&"video"in e}function mv(e){return e!=null&&typeof e=="object"&&"uri"in e}function Wp(e){var t;let n;if(fv(e)&&(n=e.name),!(mv(e)&&(n=e.uri,n===void 0))&&!(pv(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Yp(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Kp(e){for(const t of["models","tunedModels","publisherModels"])if(hv(e,t))return e[t];return[]}function hv(e,t){return e!==null&&typeof e=="object"&&t in e}function gv(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function yv(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const s=gv(r,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function bp(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vv(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Qp(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function lo(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Xp(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ev(e){const t={},n=l(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=l(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>jv(s))),a(t,["inlinedResponses"],i)}const r=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["inlinedEmbedContentResponses"],i)}return t}function _v(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=l(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function Sv(e){const t={},n=l(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=l(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Jr(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=l(e,["metadata","state"]);r!=null&&a(t,["state"],Xp(r));const i=l(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const s=l(e,["metadata","endTime"]);s!=null&&a(t,["endTime"],s);const u=l(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=l(e,["metadata","model"]);c!=null&&a(t,["model"],c);const d=l(e,["metadata","output"]);return d!=null&&a(t,["dest"],Ev(Qp(d))),t}function Tl(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=l(e,["state"]);r!=null&&a(t,["state"],Xp(r));const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=l(e,["endTime"]);c!=null&&a(t,["endTime"],c);const d=l(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=l(e,["model"]);f!=null&&a(t,["model"],f);const m=l(e,["inputConfig"]);m!=null&&a(t,["src"],Tv(m));const p=l(e,["outputConfig"]);p!=null&&a(t,["dest"],_v(Qp(p)));const h=l(e,["completionStats"]);return h!=null&&a(t,["completionStats"],h),t}function Tv(e){const t={},n=l(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=l(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function Cv(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=l(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Zv(e,s))),a(n,["requests","requests"],i)}return n}function Iv(e){const t={},n=l(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=l(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function wv(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Av(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],lo(e,o)),n}function xv(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],lo(e,o)),n}function Nv(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],Rv(o));const r=l(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=l(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const s=l(e,["avgLogprobs"]);s!=null&&a(t,["avgLogprobs"],s);const u=l(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=l(e,["index"]);c!=null&&a(t,["index"],c);const d=l(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=l(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["safetyRatings"],p)}const m=l(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function Rv(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function Zp(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>s0(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function Pv(e,t){const n={},o=l(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Mv(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=l(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],Sv(vv(r))),n}function rd(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=l(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Cv(e,bp(e,r)));const i=l(t,["config"]);return i!=null&&Pv(i,n),n}function kv(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],K(e,o));const r=l(t,["src"]);r!=null&&a(n,["inputConfig"],Iv(bp(e,r)));const i=l(t,["config"]);return i!=null&&Mv(i,n),n}function Dv(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function Lv(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=l(t,["src"]);r!=null&&a(n,["batch","inputConfig"],qv(e,r));const i=l(t,["config"]);return i!=null&&Dv(i,n),n}function Uv(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],lo(e,o)),n}function Fv(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],lo(e,o)),n}function Vv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);return i!=null&&a(t,["error"],i),t}function Gv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);return i!=null&&a(t,["error"],i),t}function Hv(e,t){const n={},o=l(t,["contents"]);if(o!=null){let i=Ra(e,o);Array.isArray(i)&&(i=i.map(s=>s)),a(n,["requests[]","request","content"],i)}const r=l(t,["config"]);return r!=null&&(a(n,["_self"],Bv(r,n)),Uy(n,{"requests[].*":"requests[].request.*"})),n}function Bv(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qv(e,t){const n={},o=l(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=l(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],Hv(e,r)),n}function $v(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Ov(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zv(e){const t={},n=l(e,["allowedFunctionNames"]);n!=null&&a(t,["allowedFunctionNames"],n);const o=l(e,["mode"]);if(o!=null&&a(t,["mode"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Jv(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Zp(we(r)));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const c=l(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=l(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=l(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=l(t,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=l(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=l(t,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=l(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=l(t,["seed"]);_!=null&&a(o,["seed"],_);const I=l(t,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const v=l(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],Pa(v));const g=l(t,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=l(t,["safetySettings"]);if(n!==void 0&&y!=null){let Z=y;Array.isArray(Z)&&(Z=Z.map(se=>l0(se))),a(n,["safetySettings"],Z)}const C=l(t,["tools"]);if(n!==void 0&&C!=null){let Z=so(C);Array.isArray(Z)&&(Z=Z.map(se=>u0(io(se)))),a(n,["tools"],Z)}const T=l(t,["toolConfig"]);if(n!==void 0&&T!=null&&a(n,["toolConfig"],a0(T)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(t,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Ft(e,N));const A=l(t,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const P=l(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],Ma(M)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=l(t,["thinkingConfig"]);L!=null&&a(o,["thinkingConfig"],L);const $=l(t,["imageConfig"]);$!=null&&a(o,["imageConfig"],Xv($));const te=l(t,["enableEnhancedCivicAnswers"]);if(te!=null&&a(o,["enableEnhancedCivicAnswers"],te),l(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function Wv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Nv(d))),a(t,["candidates"],c)}const r=l(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=l(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const u=l(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Yv(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],lo(e,o)),n}function Kv(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],lo(e,o)),n}function bv(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Qv(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Xv(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),l(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Zv(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["request","model"],K(e,o));const r=l(t,["contents"]);if(r!=null){let u=Ze(r);Array.isArray(u)&&(u=u.map(c=>Zp(c))),a(n,["request","contents"],u)}const i=l(t,["metadata"]);i!=null&&a(n,["metadata"],i);const s=l(t,["config"]);return s!=null&&a(n,["request","generationConfig"],Jv(e,s,l(n,["request"],{}))),n}function jv(e){const t={},n=l(e,["response"]);n!=null&&a(t,["response"],Wv(n));const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function e0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function t0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=l(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function n0(e){const t={},n=l(e,["config"]);return n!=null&&e0(n,t),t}function o0(e){const t={},n=l(e,["config"]);return n!=null&&t0(n,t),t}function r0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Jr(s))),a(t,["batchJobs"],i)}return t}function i0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Tl(s))),a(t,["batchJobs"],i)}return t}function s0(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],$v(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],Ov(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],wv(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function l0(e){const t={},n=l(e,["category"]);if(n!=null&&a(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function a0(e){const t={},n=l(e,["retrievalConfig"]);n!=null&&a(t,["retrievalConfig"],n);const o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],zv(o)),t}function u0(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const r=l(e,["codeExecution"]);if(r!=null&&a(t,["codeExecution"],r),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],bv(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],Qv(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Dt||(Dt={}));class Cn{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0 extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Cn(Dt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=rd(this.apiClient,t),o=n._url,r=U("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),s=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=kv(this.apiClient,t);return u=U("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Tl(f))}else{const d=rd(this.apiClient,t);return u=U("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Jr(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lv(this.apiClient,t);return i=U("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Jr(c))}}async get(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Kv(this.apiClient,t);return u=U("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Tl(f))}else{const d=Yv(this.apiClient,t);return u=U("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Jr(f))}}async cancel(t){var n,o,r,i;let s="",u={};if(this.apiClient.isVertexAI()){const c=xv(this.apiClient,t);s=U("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Av(this.apiClient,t);s=U("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=o0(t);return u=U("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=i0(f),p=new ed;return Object.assign(p,m),p})}else{const d=n0(t);return u=U("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=r0(f),p=new ed;return Object.assign(p,m),p})}}async delete(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Fv(this.apiClient,t);return u=U("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Gv(f))}else{const d=Uv(this.apiClient,t);return u=U("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Vv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d0(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function id(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>L0(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function f0(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let f=Ze(s);Array.isArray(f)&&(f=f.map(m=>id(m))),a(t,["contents"],f)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],id(we(u)));const c=l(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>F0(m))),a(t,["tools"],f)}const d=l(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],U0(d)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function p0(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let m=Ze(s);Array.isArray(m)&&(m=m.map(p=>p)),a(t,["contents"],m)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],we(u));const c=l(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>V0(p))),a(t,["tools"],m)}const d=l(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],d);const f=l(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function m0(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Bp(e,o));const r=l(t,["config"]);return r!=null&&f0(r,n),n}function h0(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Bp(e,o));const r=l(t,["config"]);return r!=null&&p0(r,n),n}function g0(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ft(e,o)),n}function y0(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ft(e,o)),n}function v0(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function E0(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function _0(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function S0(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function T0(e){const t={},n=l(e,["allowedFunctionNames"]);n!=null&&a(t,["allowedFunctionNames"],n);const o=l(e,["mode"]);if(o!=null&&a(t,["mode"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function C0(e){const t={},n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);if(u!=null&&a(t,["responseJsonSchema"],u),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function I0(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ft(e,o)),n}function w0(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ft(e,o)),n}function A0(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function x0(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function N0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function R0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function P0(e){const t={},n=l(e,["config"]);return n!=null&&N0(n,t),t}function M0(e){const t={},n=l(e,["config"]);return n!=null&&R0(n,t),t}function k0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["cachedContents"],i)}return t}function D0(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["cachedContents"],i)}return t}function L0(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],_0(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],S0(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],d0(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function U0(e){const t={},n=l(e,["retrievalConfig"]);n!=null&&a(t,["retrievalConfig"],n);const o=l(e,["functionCallingConfig"]);return o!=null&&a(t,["functionCallingConfig"],T0(o)),t}function F0(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const r=l(e,["codeExecution"]);if(r!=null&&a(t,["codeExecution"],r),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],A0(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],x0(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function V0(e){const t={},n=l(e,["retrieval"]);n!=null&&a(t,["retrieval"],n);const o=l(e,["computerUse"]);if(o!=null&&a(t,["computerUse"],o),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=l(e,["codeExecution"]);r!=null&&a(t,["codeExecution"],r);const i=l(e,["enterpriseWebSearch"]);i!=null&&a(t,["enterpriseWebSearch"],i);const s=l(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>C0(p))),a(t,["functionDeclarations"],m)}const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],u);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const d=l(e,["googleSearchRetrieval"]);d!=null&&a(t,["googleSearchRetrieval"],d);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function G0(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function H0(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function B0(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Ft(e,o));const r=l(t,["config"]);return r!=null&&G0(r,n),n}function q0(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Ft(e,o));const r=l(t,["config"]);return r!=null&&H0(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $0 extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Cn(Dt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=h0(this.apiClient,t);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=m0(this.apiClient,t);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=w0(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=I0(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=y0(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=E0(f),p=new Zc;return Object.assign(p,m),p})}else{const d=g0(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=v0(f),p=new Zc;return Object.assign(p,m),p})}}async update(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=q0(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=B0(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=M0(t);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=D0(f),p=new jc;return Object.assign(p,m),p})}else{const d=P0(t);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=k0(f),p=new jc;return Object.assign(p,m),p})}}}function _i(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function sd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e){return this instanceof H?(this.v=e,this):new H(e)}function ct(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(E){return Promise.resolve(E).then(h,m)}}function u(h,E){o[h]&&(r[h]=function(_){return new Promise(function(I,v){i.push([h,_,I,v])>1||c(h,_)})},E&&(r[h]=E(r[h])))}function c(h,E){try{d(o[h](E))}catch(_){p(i[0][3],_)}}function d(h){h.value instanceof H?Promise.resolve(h.value.v).then(f,m):p(i[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function dt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof sd=="function"?sd(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(u,c){s=e[i](s),r(u,c,s.done,s.value)})}}function r(i,s,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:jp(n)}function jp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function z0(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function ld(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!jp(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class J0{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new W0(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class W0{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),z0(i)}async sendMessage(t){var n;await this.sendPromise;const o=we(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const c=await r,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const h=d?[d]:[];this.recordHistory(o,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=we(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?ld(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return ct(this,arguments,function*(){var r,i,s,u,c,d;const f=[];try{for(var m=!0,p=dt(t),h;h=yield H(p.next()),r=h.done,!r;m=!0){u=h.value,m=!1;const E=u;if(O0(E)){const _=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;_!==void 0&&f.push(_)}yield yield H(E)}}catch(E){i={error:E}}finally{try{!m&&!r&&(s=p.return)&&(yield H(s.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...ld(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jo extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,jo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(e){const t={},n=l(e,["file"]);return n!=null&&a(t,["file"],n),t}function K0(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function b0(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],Wp(n)),t}function Q0(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function X0(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],Wp(n)),t}function Z0(e){const t={},n=l(e,["uris"]);return n!=null&&a(t,["uris"],n),t}function j0(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function eE(e){const t={},n=l(e,["config"]);return n!=null&&j0(n,t),t}function tE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["files"],i)}return t}function nE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oE extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Cn(Dt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eE(t);return i=U("files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=tE(c),f=new rv;return Object.assign(f,d),f})}}async createInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Y0(t);return i=U("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=K0(c),f=new iv;return Object.assign(f,d),f})}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=X0(t);return i=U("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b0(t);return i=U("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Q0(c),f=new sv;return Object.assign(f,d),f})}}async registerFilesInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Z0(t);return i=U("files:register",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=nE(c),f=new lv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wr(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function rE(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_E(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function iE(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function sE(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lE(e){const t={},n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);if(u!=null&&a(t,["responseJsonSchema"],u),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function aE(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=l(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=l(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const s=l(e,["enableAffectiveDialog"]);s!=null&&a(t,["enableAffectiveDialog"],s);const u=l(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=l(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=l(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=l(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const m=l(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const p=l(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const h=l(e,["responseMimeType"]);h!=null&&a(t,["responseMimeType"],h);const E=l(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const _=l(e,["responseSchema"]);_!=null&&a(t,["responseSchema"],_);const I=l(e,["routingConfig"]);I!=null&&a(t,["routingConfig"],I);const v=l(e,["seed"]);v!=null&&a(t,["seed"],v);const g=l(e,["speechConfig"]);g!=null&&a(t,["speechConfig"],g);const y=l(e,["stopSequences"]);y!=null&&a(t,["stopSequences"],y);const C=l(e,["temperature"]);C!=null&&a(t,["temperature"],C);const T=l(e,["thinkingConfig"]);T!=null&&a(t,["thinkingConfig"],T);const N=l(e,["topK"]);N!=null&&a(t,["topK"],N);const A=l(e,["topP"]);if(A!=null&&a(t,["topP"],A),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function uE(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function cE(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function dE(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=l(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],ka(m));const p=l(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const h=l(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=l(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],rE(we(E)));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let N=so(_);Array.isArray(N)&&(N=N.map(A=>TE(io(A)))),a(t,["setup","tools"],N)}const I=l(e,["sessionResumption"]);t!==void 0&&I!=null&&a(t,["setup","sessionResumption"],SE(I));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const y=l(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&a(t,["setup","realtimeInputConfig"],y);const C=l(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const T=l(e,["proactivity"]);if(t!==void 0&&T!=null&&a(t,["setup","proactivity"],T),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fE(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],aE(o));const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=l(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],ka(m));const p=l(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const h=l(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=l(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],we(E));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let A=so(_);Array.isArray(A)&&(A=A.map(P=>CE(io(P)))),a(t,["setup","tools"],A)}const I=l(e,["sessionResumption"]);t!==void 0&&I!=null&&a(t,["setup","sessionResumption"],I);const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const y=l(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&a(t,["setup","realtimeInputConfig"],y);const C=l(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const T=l(e,["proactivity"]);t!==void 0&&T!=null&&a(t,["setup","proactivity"],T);const N=l(e,["explicitVadSignal"]);return t!==void 0&&N!=null&&a(t,["setup","explicitVadSignal"],N),n}function pE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=l(t,["config"]);return r!=null&&a(n,["config"],dE(r,n)),n}function mE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=l(t,["config"]);return r!=null&&a(n,["config"],fE(r,n)),n}function hE(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function gE(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function yE(e){const t={},n=l(e,["media"]);if(n!=null){let d=qp(n);Array.isArray(d)&&(d=d.map(f=>Wr(f))),a(t,["mediaChunks"],d)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],Wr(Op(o)));const r=l(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=l(e,["video"]);i!=null&&a(t,["video"],Wr($p(i)));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=l(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function vE(e){const t={},n=l(e,["media"]);if(n!=null){let d=qp(n);Array.isArray(d)&&(d=d.map(f=>f)),a(t,["mediaChunks"],d)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],Op(o));const r=l(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=l(e,["video"]);i!=null&&a(t,["video"],$p(i));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=l(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function EE(e){const t={},n=l(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=l(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=l(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const s=l(e,["usageMetadata"]);s!=null&&a(t,["usageMetadata"],IE(s));const u=l(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=l(e,["sessionResumptionUpdate"]);c!=null&&a(t,["sessionResumptionUpdate"],c);const d=l(e,["voiceActivityDetectionSignal"]);d!=null&&a(t,["voiceActivityDetectionSignal"],d);const f=l(e,["voiceActivity"]);return f!=null&&a(t,["voiceActivity"],wE(f)),t}function _E(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],iE(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],sE(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],Wr(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function SE(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function TE(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const r=l(e,["codeExecution"]);if(r!=null&&a(t,["codeExecution"],r),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],uE(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],cE(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function CE(e){const t={},n=l(e,["retrieval"]);n!=null&&a(t,["retrieval"],n);const o=l(e,["computerUse"]);if(o!=null&&a(t,["computerUse"],o),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=l(e,["codeExecution"]);r!=null&&a(t,["codeExecution"],r);const i=l(e,["enterpriseWebSearch"]);i!=null&&a(t,["enterpriseWebSearch"],i);const s=l(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>lE(p))),a(t,["functionDeclarations"],m)}const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],u);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const d=l(e,["googleSearchRetrieval"]);d!=null&&a(t,["googleSearchRetrieval"],d);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function IE(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=l(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=l(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const s=l(e,["thoughtsTokenCount"]);s!=null&&a(t,["thoughtsTokenCount"],s);const u=l(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=l(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["promptTokensDetails"],h)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["cacheTokensDetails"],h)}const f=l(e,["candidatesTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["responseTokensDetails"],h)}const m=l(e,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(t,["toolUsePromptTokensDetails"],h)}const p=l(e,["trafficType"]);return p!=null&&a(t,["trafficType"],p),t}function wE(e){const t={},n=l(e,["type"]);return n!=null&&a(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(e,t){const n={},o=l(e,["data"]);if(o!=null&&a(n,["data"],o),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function xE(e,t){const n={},o=l(e,["content"]);o!=null&&a(n,["content"],o);const r=l(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],NE(r));const i=l(e,["tokenCount"]);i!=null&&a(n,["tokenCount"],i);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const c=l(e,["groundingMetadata"]);c!=null&&a(n,["groundingMetadata"],c);const d=l(e,["index"]);d!=null&&a(n,["index"],d);const f=l(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const m=l(e,["safetyRatings"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(n,["safetyRatings"],h)}const p=l(e,["urlContextMetadata"]);return p!=null&&a(n,["urlContextMetadata"],p),n}function NE(e,t){const n={},o=l(e,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["citations"],r)}return n}function RE(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let s=Ze(i);Array.isArray(s)&&(s=s.map(u=>u)),a(o,["contents"],s)}return o}function PE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(n,["tokensInfo"],i)}return n}function ME(e,t){const n={},o=l(e,["values"]);o!=null&&a(n,["values"],o);const r=l(e,["statistics"]);return r!=null&&a(n,["statistics"],kE(r)),n}function kE(e,t){const n={},o=l(e,["truncated"]);o!=null&&a(n,["truncated"],o);const r=l(e,["token_count"]);return r!=null&&a(n,["tokenCount"],r),n}function Hi(e,t){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>q_(s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function DE(e,t){const n={},o=l(e,["controlType"]);o!=null&&a(n,["controlType"],o);const r=l(e,["enableControlImageComputation"]);return r!=null&&a(n,["computeControl"],r),n}function LE(e,t){const n={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function UE(e,t,n){const o={},r=l(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],we(r));const i=l(e,["tools"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>om(c))),a(t,["tools"],u)}const s=l(e,["generationConfig"]);return t!==void 0&&s!=null&&a(t,["generationConfig"],A_(s)),o}function FE(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let u=Ze(i);Array.isArray(u)&&(u=u.map(c=>Hi(c))),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&LE(s),o}function VE(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let u=Ze(i);Array.isArray(u)&&(u=u.map(c=>c)),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&UE(s,o),o}function GE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["totalTokens"]);r!=null&&a(n,["totalTokens"],r);const i=l(e,["cachedContentTokenCount"]);return i!=null&&a(n,["cachedContentTokenCount"],i),n}function HE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["totalTokens"]);return r!=null&&a(n,["totalTokens"],r),n}function BE(e,t,n){const o={},r=l(t,["model"]);return r!=null&&a(o,["_url","name"],K(e,r)),o}function qE(e,t,n){const o={},r=l(t,["model"]);return r!=null&&a(o,["_url","name"],K(e,r)),o}function $E(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function OE(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function zE(e,t,n){const o={},r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=l(e,["negativePrompt"]);t!==void 0&&i!=null&&a(t,["parameters","negativePrompt"],i);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const E=l(e,["language"]);t!==void 0&&E!=null&&a(t,["parameters","language"],E);const _=l(e,["outputMimeType"]);t!==void 0&&_!=null&&a(t,["parameters","outputOptions","mimeType"],_);const I=l(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&a(t,["parameters","outputOptions","compressionQuality"],I);const v=l(e,["addWatermark"]);t!==void 0&&v!=null&&a(t,["parameters","addWatermark"],v);const g=l(e,["labels"]);t!==void 0&&g!=null&&a(t,["labels"],g);const y=l(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const C=l(e,["baseSteps"]);return t!==void 0&&C!=null&&a(t,["parameters","editConfig","baseSteps"],C),o}function JE(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["prompt"]);i!=null&&a(o,["instances[0]","prompt"],i);const s=l(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Y_(d))),a(o,["instances[0]","referenceImages"],c)}const u=l(t,["config"]);return u!=null&&zE(u,o),o}function WE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bi(s))),a(n,["generatedImages"],i)}return n}function YE(e,t,n){const o={},r=l(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const i=l(e,["title"]);t!==void 0&&i!=null&&a(t,["requests[]","title"],i);const s=l(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function KE(e,t,n){const o={},r=l(e,["taskType"]);t!==void 0&&r!=null&&a(t,["instances[]","task_type"],r);const i=l(e,["title"]);t!==void 0&&i!=null&&a(t,["instances[]","title"],i);const s=l(e,["outputDimensionality"]);t!==void 0&&s!=null&&a(t,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);t!==void 0&&u!=null&&a(t,["instances[]","mimeType"],u);const c=l(e,["autoTruncate"]);return t!==void 0&&c!=null&&a(t,["parameters","autoTruncate"],c),o}function bE(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let c=Ra(e,i);Array.isArray(c)&&(c=c.map(d=>d)),a(o,["requests[]","content"],c)}const s=l(t,["config"]);s!=null&&YE(s,o);const u=l(t,["model"]);return u!==void 0&&a(o,["requests[]","model"],K(e,u)),o}function QE(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let u=Ra(e,i);Array.isArray(u)&&(u=u.map(c=>c)),a(o,["instances[]","content"],u)}const s=l(t,["config"]);return s!=null&&KE(s,o),o}function XE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),a(n,["embeddings"],s)}const i=l(e,["metadata"]);return i!=null&&a(n,["metadata"],i),n}function ZE(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>ME(u))),a(n,["embeddings"],s)}const i=l(e,["metadata"]);return i!=null&&a(n,["metadata"],i),n}function jE(e,t){const n={},o=l(e,["endpoint"]);o!=null&&a(n,["name"],o);const r=l(e,["deployedModelId"]);return r!=null&&a(n,["deployedModelId"],r),n}function e_(e,t){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["fileUri"]);o!=null&&a(n,["fileUri"],o);const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function t_(e,t){const n={},o=l(e,["id"]);o!=null&&a(n,["id"],o);const r=l(e,["args"]);r!=null&&a(n,["args"],r);const i=l(e,["name"]);if(i!=null&&a(n,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function n_(e,t){const n={},o=l(e,["allowedFunctionNames"]);o!=null&&a(n,["allowedFunctionNames"],o);const r=l(e,["mode"]);if(r!=null&&a(n,["mode"],r),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function o_(e,t){const n={},o=l(e,["description"]);o!=null&&a(n,["description"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["parametersJsonSchema"]);s!=null&&a(n,["parametersJsonSchema"],s);const u=l(e,["response"]);u!=null&&a(n,["response"],u);const c=l(e,["responseJsonSchema"]);if(c!=null&&a(n,["responseJsonSchema"],c),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function r_(e,t,n,o){const r={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Hi(we(i)));const s=l(t,["temperature"]);s!=null&&a(r,["temperature"],s);const u=l(t,["topP"]);u!=null&&a(r,["topP"],u);const c=l(t,["topK"]);c!=null&&a(r,["topK"],c);const d=l(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const m=l(t,["stopSequences"]);m!=null&&a(r,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const E=l(t,["presencePenalty"]);E!=null&&a(r,["presencePenalty"],E);const _=l(t,["frequencyPenalty"]);_!=null&&a(r,["frequencyPenalty"],_);const I=l(t,["seed"]);I!=null&&a(r,["seed"],I);const v=l(t,["responseMimeType"]);v!=null&&a(r,["responseMimeType"],v);const g=l(t,["responseSchema"]);g!=null&&a(r,["responseSchema"],Pa(g));const y=l(t,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=l(t,["safetySettings"]);if(n!==void 0&&C!=null){let se=C;Array.isArray(se)&&(se=se.map(fe=>K_(fe))),a(n,["safetySettings"],se)}const T=l(t,["tools"]);if(n!==void 0&&T!=null){let se=so(T);Array.isArray(se)&&(se=se.map(fe=>tS(io(fe)))),a(n,["tools"],se)}const N=l(t,["toolConfig"]);if(n!==void 0&&N!=null&&a(n,["toolConfig"],eS(N)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=l(t,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Ft(e,A));const P=l(t,["responseModalities"]);P!=null&&a(r,["responseModalities"],P);const M=l(t,["mediaResolution"]);M!=null&&a(r,["mediaResolution"],M);const L=l(t,["speechConfig"]);if(L!=null&&a(r,["speechConfig"],Ma(L)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=l(t,["thinkingConfig"]);$!=null&&a(r,["thinkingConfig"],$);const te=l(t,["imageConfig"]);te!=null&&a(r,["imageConfig"],M_(te));const Z=l(t,["enableEnhancedCivicAnswers"]);if(Z!=null&&a(r,["enableEnhancedCivicAnswers"],Z),l(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function i_(e,t,n,o){const r={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],we(i));const s=l(t,["temperature"]);s!=null&&a(r,["temperature"],s);const u=l(t,["topP"]);u!=null&&a(r,["topP"],u);const c=l(t,["topK"]);c!=null&&a(r,["topK"],c);const d=l(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=l(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const m=l(t,["stopSequences"]);m!=null&&a(r,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const E=l(t,["presencePenalty"]);E!=null&&a(r,["presencePenalty"],E);const _=l(t,["frequencyPenalty"]);_!=null&&a(r,["frequencyPenalty"],_);const I=l(t,["seed"]);I!=null&&a(r,["seed"],I);const v=l(t,["responseMimeType"]);v!=null&&a(r,["responseMimeType"],v);const g=l(t,["responseSchema"]);g!=null&&a(r,["responseSchema"],Pa(g));const y=l(t,["responseJsonSchema"]);y!=null&&a(r,["responseJsonSchema"],y);const C=l(t,["routingConfig"]);C!=null&&a(r,["routingConfig"],C);const T=l(t,["modelSelectionConfig"]);T!=null&&a(r,["modelConfig"],T);const N=l(t,["safetySettings"]);if(n!==void 0&&N!=null){let D=N;Array.isArray(D)&&(D=D.map(G=>G)),a(n,["safetySettings"],D)}const A=l(t,["tools"]);if(n!==void 0&&A!=null){let D=so(A);Array.isArray(D)&&(D=D.map(G=>om(io(G)))),a(n,["tools"],D)}const P=l(t,["toolConfig"]);n!==void 0&&P!=null&&a(n,["toolConfig"],P);const M=l(t,["labels"]);n!==void 0&&M!=null&&a(n,["labels"],M);const L=l(t,["cachedContent"]);n!==void 0&&L!=null&&a(n,["cachedContent"],Ft(e,L));const $=l(t,["responseModalities"]);$!=null&&a(r,["responseModalities"],$);const te=l(t,["mediaResolution"]);te!=null&&a(r,["mediaResolution"],te);const Z=l(t,["speechConfig"]);Z!=null&&a(r,["speechConfig"],Ma(Z));const se=l(t,["audioTimestamp"]);se!=null&&a(r,["audioTimestamp"],se);const fe=l(t,["thinkingConfig"]);fe!=null&&a(r,["thinkingConfig"],fe);const St=l(t,["imageConfig"]);if(St!=null&&a(r,["imageConfig"],k_(St)),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Vt=l(t,["modelArmorConfig"]);return n!==void 0&&Vt!=null&&a(n,["modelArmorConfig"],Vt),r}function ad(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let u=Ze(i);Array.isArray(u)&&(u=u.map(c=>Hi(c))),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&a(o,["generationConfig"],r_(e,s,o)),o}function ud(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["contents"]);if(i!=null){let u=Ze(i);Array.isArray(u)&&(u=u.map(c=>c)),a(o,["contents"],u)}const s=l(t,["config"]);return s!=null&&a(o,["generationConfig"],i_(e,s,o)),o}function cd(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>xE(f))),a(n,["candidates"],d)}const i=l(e,["modelVersion"]);i!=null&&a(n,["modelVersion"],i);const s=l(e,["promptFeedback"]);s!=null&&a(n,["promptFeedback"],s);const u=l(e,["responseId"]);u!=null&&a(n,["responseId"],u);const c=l(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function dd(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),a(n,["candidates"],f)}const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const s=l(e,["modelVersion"]);s!=null&&a(n,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&a(n,["promptFeedback"],u);const c=l(e,["responseId"]);c!=null&&a(n,["responseId"],c);const d=l(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function s_(e,t,n){const o={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const i=l(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const s=l(e,["guidanceScale"]);if(t!==void 0&&s!=null&&a(t,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=l(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const d=l(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const f=l(e,["includeRaiReason"]);t!==void 0&&f!=null&&a(t,["parameters","includeRaiReason"],f);const m=l(e,["language"]);t!==void 0&&m!=null&&a(t,["parameters","language"],m);const p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const h=l(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=l(e,["imageSize"]);if(t!==void 0&&E!=null&&a(t,["parameters","sampleImageSize"],E),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function l_(e,t,n){const o={},r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=l(e,["negativePrompt"]);t!==void 0&&i!=null&&a(t,["parameters","negativePrompt"],i);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const E=l(e,["language"]);t!==void 0&&E!=null&&a(t,["parameters","language"],E);const _=l(e,["outputMimeType"]);t!==void 0&&_!=null&&a(t,["parameters","outputOptions","mimeType"],_);const I=l(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&a(t,["parameters","outputOptions","compressionQuality"],I);const v=l(e,["addWatermark"]);t!==void 0&&v!=null&&a(t,["parameters","addWatermark"],v);const g=l(e,["labels"]);t!==void 0&&g!=null&&a(t,["labels"],g);const y=l(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const C=l(e,["enhancePrompt"]);return t!==void 0&&C!=null&&a(t,["parameters","enhancePrompt"],C),o}function a_(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["prompt"]);i!=null&&a(o,["instances[0]","prompt"],i);const s=l(t,["config"]);return s!=null&&s_(s,o),o}function u_(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["prompt"]);i!=null&&a(o,["instances[0]","prompt"],i);const s=l(t,["config"]);return s!=null&&l_(s,o),o}function c_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>T_(u))),a(n,["generatedImages"],s)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(n,["positivePromptSafetyAttributes"],tm(i)),n}function d_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Bi(u))),a(n,["generatedImages"],s)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(n,["positivePromptSafetyAttributes"],nm(i)),n}function f_(e,t,n){const o={},r=l(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(e,["durationSeconds"]);if(t!==void 0&&i!=null&&a(t,["parameters","durationSeconds"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const u=l(e,["resolution"]);t!==void 0&&u!=null&&a(t,["parameters","resolution"],u);const c=l(e,["personGeneration"]);if(t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const f=l(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&a(t,["parameters","enhancePrompt"],f),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=l(e,["lastFrame"]);t!==void 0&&m!=null&&a(t,["instances[0]","lastFrame"],qi(m));const p=l(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(E=>mS(E))),a(t,["instances[0]","referenceImages"],h)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function p_(e,t,n){const o={},r=l(e,["numberOfVideos"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const s=l(e,["fps"]);t!==void 0&&s!=null&&a(t,["parameters","fps"],s);const u=l(e,["durationSeconds"]);t!==void 0&&u!=null&&a(t,["parameters","durationSeconds"],u);const c=l(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=l(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const f=l(e,["resolution"]);t!==void 0&&f!=null&&a(t,["parameters","resolution"],f);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const h=l(e,["negativePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","negativePrompt"],h);const E=l(e,["enhancePrompt"]);t!==void 0&&E!=null&&a(t,["parameters","enhancePrompt"],E);const _=l(e,["generateAudio"]);t!==void 0&&_!=null&&a(t,["parameters","generateAudio"],_);const I=l(e,["lastFrame"]);t!==void 0&&I!=null&&a(t,["instances[0]","lastFrame"],pt(I));const v=l(e,["referenceImages"]);if(t!==void 0&&v!=null){let C=v;Array.isArray(C)&&(C=C.map(T=>hS(T))),a(t,["instances[0]","referenceImages"],C)}const g=l(e,["mask"]);t!==void 0&&g!=null&&a(t,["instances[0]","mask"],pS(g));const y=l(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),o}function m_(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],v_(u)),n}function h_(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],E_(u)),n}function g_(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["prompt"]);i!=null&&a(o,["instances[0]","prompt"],i);const s=l(t,["image"]);s!=null&&a(o,["instances[0]","image"],qi(s));const u=l(t,["video"]);u!=null&&a(o,["instances[0]","video"],rm(u));const c=l(t,["source"]);c!=null&&__(c,o);const d=l(t,["config"]);return d!=null&&f_(d,o),o}function y_(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["prompt"]);i!=null&&a(o,["instances[0]","prompt"],i);const s=l(t,["image"]);s!=null&&a(o,["instances[0]","image"],pt(s));const u=l(t,["video"]);u!=null&&a(o,["instances[0]","video"],im(u));const c=l(t,["source"]);c!=null&&S_(c,o);const d=l(t,["config"]);return d!=null&&p_(d,o),o}function v_(e,t){const n={},o=l(e,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>I_(u))),a(n,["generatedVideos"],s)}const r=l(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function E_(e,t){const n={},o=l(e,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>w_(u))),a(n,["generatedVideos"],s)}const r=l(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function __(e,t,n){const o={},r=l(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const i=l(e,["image"]);t!==void 0&&i!=null&&a(t,["instances[0]","image"],qi(i));const s=l(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],rm(s)),o}function S_(e,t,n){const o={},r=l(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const i=l(e,["image"]);t!==void 0&&i!=null&&a(t,["instances[0]","image"],pt(i));const s=l(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],im(s)),o}function T_(e,t){const n={},o=l(e,["_self"]);o!=null&&a(n,["image"],D_(o));const r=l(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const i=l(e,["_self"]);return i!=null&&a(n,["safetyAttributes"],tm(i)),n}function Bi(e,t){const n={},o=l(e,["_self"]);o!=null&&a(n,["image"],em(o));const r=l(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const i=l(e,["_self"]);i!=null&&a(n,["safetyAttributes"],nm(i));const s=l(e,["prompt"]);return s!=null&&a(n,["enhancedPrompt"],s),n}function C_(e,t){const n={},o=l(e,["_self"]);o!=null&&a(n,["mask"],em(o));const r=l(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(n,["labels"],i)}return n}function I_(e,t){const n={},o=l(e,["video"]);return o!=null&&a(n,["video"],dS(o)),n}function w_(e,t){const n={},o=l(e,["_self"]);return o!=null&&a(n,["video"],fS(o)),n}function A_(e,t){const n={},o=l(e,["modelSelectionConfig"]);o!=null&&a(n,["modelConfig"],o);const r=l(e,["responseJsonSchema"]);r!=null&&a(n,["responseJsonSchema"],r);const i=l(e,["audioTimestamp"]);i!=null&&a(n,["audioTimestamp"],i);const s=l(e,["candidateCount"]);s!=null&&a(n,["candidateCount"],s);const u=l(e,["enableAffectiveDialog"]);u!=null&&a(n,["enableAffectiveDialog"],u);const c=l(e,["frequencyPenalty"]);c!=null&&a(n,["frequencyPenalty"],c);const d=l(e,["logprobs"]);d!=null&&a(n,["logprobs"],d);const f=l(e,["maxOutputTokens"]);f!=null&&a(n,["maxOutputTokens"],f);const m=l(e,["mediaResolution"]);m!=null&&a(n,["mediaResolution"],m);const p=l(e,["presencePenalty"]);p!=null&&a(n,["presencePenalty"],p);const h=l(e,["responseLogprobs"]);h!=null&&a(n,["responseLogprobs"],h);const E=l(e,["responseMimeType"]);E!=null&&a(n,["responseMimeType"],E);const _=l(e,["responseModalities"]);_!=null&&a(n,["responseModalities"],_);const I=l(e,["responseSchema"]);I!=null&&a(n,["responseSchema"],I);const v=l(e,["routingConfig"]);v!=null&&a(n,["routingConfig"],v);const g=l(e,["seed"]);g!=null&&a(n,["seed"],g);const y=l(e,["speechConfig"]);y!=null&&a(n,["speechConfig"],y);const C=l(e,["stopSequences"]);C!=null&&a(n,["stopSequences"],C);const T=l(e,["temperature"]);T!=null&&a(n,["temperature"],T);const N=l(e,["thinkingConfig"]);N!=null&&a(n,["thinkingConfig"],N);const A=l(e,["topK"]);A!=null&&a(n,["topK"],A);const P=l(e,["topP"]);if(P!=null&&a(n,["topP"],P),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function x_(e,t,n){const o={},r=l(t,["model"]);return r!=null&&a(o,["_url","name"],K(e,r)),o}function N_(e,t,n){const o={},r=l(t,["model"]);return r!=null&&a(o,["_url","name"],K(e,r)),o}function R_(e,t){const n={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(e,["enableWidget"]);return o!=null&&a(n,["enableWidget"],o),n}function P_(e,t){const n={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],o),n}function M_(e,t){const n={},o=l(e,["aspectRatio"]);o!=null&&a(n,["aspectRatio"],o);const r=l(e,["imageSize"]);if(r!=null&&a(n,["imageSize"],r),l(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function k_(e,t){const n={},o=l(e,["aspectRatio"]);o!=null&&a(n,["aspectRatio"],o);const r=l(e,["imageSize"]);r!=null&&a(n,["imageSize"],r);const i=l(e,["personGeneration"]);i!=null&&a(n,["personGeneration"],i);const s=l(e,["outputMimeType"]);s!=null&&a(n,["imageOutputOptions","mimeType"],s);const u=l(e,["outputCompressionQuality"]);return u!=null&&a(n,["imageOutputOptions","compressionQuality"],u),n}function D_(e,t){const n={},o=l(e,["bytesBase64Encoded"]);o!=null&&a(n,["imageBytes"],sn(o));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function em(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],sn(r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function qi(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(e,["imageBytes"]);o!=null&&a(n,["bytesBase64Encoded"],sn(o));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function pt(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const r=l(e,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],sn(r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function L_(e,t,n,o){const r={},i=l(t,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const s=l(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const u=l(t,["filter"]);n!==void 0&&u!=null&&a(n,["_query","filter"],u);const c=l(t,["queryBase"]);return n!==void 0&&c!=null&&a(n,["_url","models_url"],Yp(e,c)),r}function U_(e,t,n,o){const r={},i=l(t,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const s=l(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const u=l(t,["filter"]);n!==void 0&&u!=null&&a(n,["_query","filter"],u);const c=l(t,["queryBase"]);return n!==void 0&&c!=null&&a(n,["_url","models_url"],Yp(e,c)),r}function F_(e,t,n){const o={},r=l(t,["config"]);return r!=null&&L_(e,r,o),o}function V_(e,t,n){const o={},r=l(t,["config"]);return r!=null&&U_(e,r,o),o}function G_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["_self"]);if(i!=null){let s=Kp(i);Array.isArray(s)&&(s=s.map(u=>Cl(u))),a(n,["models"],s)}return n}function H_(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["_self"]);if(i!=null){let s=Kp(i);Array.isArray(s)&&(s=s.map(u=>Il(u))),a(n,["models"],s)}return n}function B_(e,t){const n={},o=l(e,["maskMode"]);o!=null&&a(n,["maskMode"],o);const r=l(e,["segmentationClasses"]);r!=null&&a(n,["maskClasses"],r);const i=l(e,["maskDilation"]);return i!=null&&a(n,["dilation"],i),n}function Cl(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const s=l(e,["version"]);s!=null&&a(n,["version"],s);const u=l(e,["_self"]);u!=null&&a(n,["tunedModelInfo"],nS(u));const c=l(e,["inputTokenLimit"]);c!=null&&a(n,["inputTokenLimit"],c);const d=l(e,["outputTokenLimit"]);d!=null&&a(n,["outputTokenLimit"],d);const f=l(e,["supportedGenerationMethods"]);f!=null&&a(n,["supportedActions"],f);const m=l(e,["temperature"]);m!=null&&a(n,["temperature"],m);const p=l(e,["maxTemperature"]);p!=null&&a(n,["maxTemperature"],p);const h=l(e,["topP"]);h!=null&&a(n,["topP"],h);const E=l(e,["topK"]);E!=null&&a(n,["topK"],E);const _=l(e,["thinking"]);return _!=null&&a(n,["thinking"],_),n}function Il(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const s=l(e,["versionId"]);s!=null&&a(n,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>jE(h))),a(n,["endpoints"],p)}const c=l(e,["labels"]);c!=null&&a(n,["labels"],c);const d=l(e,["_self"]);d!=null&&a(n,["tunedModelInfo"],oS(d));const f=l(e,["defaultCheckpointId"]);f!=null&&a(n,["defaultCheckpointId"],f);const m=l(e,["checkpoints"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>h)),a(n,["checkpoints"],p)}return n}function q_(e,t){const n={},o=l(e,["mediaResolution"]);o!=null&&a(n,["mediaResolution"],o);const r=l(e,["codeExecutionResult"]);r!=null&&a(n,["codeExecutionResult"],r);const i=l(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],e_(s));const u=l(e,["functionCall"]);u!=null&&a(n,["functionCall"],t_(u));const c=l(e,["functionResponse"]);c!=null&&a(n,["functionResponse"],c);const d=l(e,["inlineData"]);d!=null&&a(n,["inlineData"],AE(d));const f=l(e,["text"]);f!=null&&a(n,["text"],f);const m=l(e,["thought"]);m!=null&&a(n,["thought"],m);const p=l(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(n,["videoMetadata"],h),n}function $_(e,t){const n={},o=l(e,["productImage"]);return o!=null&&a(n,["image"],pt(o)),n}function O_(e,t,n){const o={},r=l(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const i=l(e,["baseSteps"]);t!==void 0&&i!=null&&a(t,["parameters","baseSteps"],i);const s=l(e,["outputGcsUri"]);t!==void 0&&s!=null&&a(t,["parameters","storageUri"],s);const u=l(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=l(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const d=l(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const f=l(e,["addWatermark"]);t!==void 0&&f!=null&&a(t,["parameters","addWatermark"],f);const m=l(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const p=l(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const h=l(e,["enhancePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","enhancePrompt"],h);const E=l(e,["labels"]);return t!==void 0&&E!=null&&a(t,["labels"],E),o}function z_(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["source"]);i!=null&&W_(i,o);const s=l(t,["config"]);return s!=null&&O_(s,o),o}function J_(e,t){const n={},o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Bi(i))),a(n,["generatedImages"],r)}return n}function W_(e,t,n){const o={},r=l(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const i=l(e,["personImage"]);t!==void 0&&i!=null&&a(t,["instances[0]","personImage","image"],pt(i));const s=l(e,["productImages"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>$_(c))),a(t,["instances[0]","productImages"],u)}return o}function Y_(e,t){const n={},o=l(e,["referenceImage"]);o!=null&&a(n,["referenceImage"],pt(o));const r=l(e,["referenceId"]);r!=null&&a(n,["referenceId"],r);const i=l(e,["referenceType"]);i!=null&&a(n,["referenceType"],i);const s=l(e,["maskImageConfig"]);s!=null&&a(n,["maskImageConfig"],B_(s));const u=l(e,["controlImageConfig"]);u!=null&&a(n,["controlImageConfig"],DE(u));const c=l(e,["styleImageConfig"]);c!=null&&a(n,["styleImageConfig"],c);const d=l(e,["subjectImageConfig"]);return d!=null&&a(n,["subjectImageConfig"],d),n}function tm(e,t){const n={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const r=l(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const i=l(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function nm(e,t){const n={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const r=l(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const i=l(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function K_(e,t){const n={},o=l(e,["category"]);if(o!=null&&a(n,["category"],o),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(e,["threshold"]);return r!=null&&a(n,["threshold"],r),n}function b_(e,t){const n={},o=l(e,["image"]);return o!=null&&a(n,["image"],pt(o)),n}function Q_(e,t,n){const o={},r=l(e,["mode"]);t!==void 0&&r!=null&&a(t,["parameters","mode"],r);const i=l(e,["maxPredictions"]);t!==void 0&&i!=null&&a(t,["parameters","maxPredictions"],i);const s=l(e,["confidenceThreshold"]);t!==void 0&&s!=null&&a(t,["parameters","confidenceThreshold"],s);const u=l(e,["maskDilation"]);t!==void 0&&u!=null&&a(t,["parameters","maskDilation"],u);const c=l(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&a(t,["parameters","binaryColorThreshold"],c);const d=l(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),o}function X_(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["source"]);i!=null&&j_(i,o);const s=l(t,["config"]);return s!=null&&Q_(s,o),o}function Z_(e,t){const n={},o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>C_(i))),a(n,["generatedMasks"],r)}return n}function j_(e,t,n){const o={},r=l(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const i=l(e,["image"]);t!==void 0&&i!=null&&a(t,["instances[0]","image"],pt(i));const s=l(e,["scribbleImage"]);return t!==void 0&&s!=null&&a(t,["instances[0]","scribble"],b_(s)),o}function eS(e,t){const n={},o=l(e,["retrievalConfig"]);o!=null&&a(n,["retrievalConfig"],o);const r=l(e,["functionCallingConfig"]);return r!=null&&a(n,["functionCallingConfig"],n_(r)),n}function tS(e,t){const n={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["computerUse"]);o!=null&&a(n,["computerUse"],o);const r=l(e,["fileSearch"]);r!=null&&a(n,["fileSearch"],r);const i=l(e,["codeExecution"]);if(i!=null&&a(n,["codeExecution"],i),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=l(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>p)),a(n,["functionDeclarations"],m)}const u=l(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],R_(u));const c=l(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],P_(c));const d=l(e,["googleSearchRetrieval"]);d!=null&&a(n,["googleSearchRetrieval"],d);const f=l(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function om(e,t){const n={},o=l(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const r=l(e,["computerUse"]);if(r!=null&&a(n,["computerUse"],r),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=l(e,["codeExecution"]);i!=null&&a(n,["codeExecution"],i);const s=l(e,["enterpriseWebSearch"]);s!=null&&a(n,["enterpriseWebSearch"],s);const u=l(e,["functionDeclarations"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>o_(h))),a(n,["functionDeclarations"],p)}const c=l(e,["googleMaps"]);c!=null&&a(n,["googleMaps"],c);const d=l(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],d);const f=l(e,["googleSearchRetrieval"]);f!=null&&a(n,["googleSearchRetrieval"],f);const m=l(e,["urlContext"]);return m!=null&&a(n,["urlContext"],m),n}function nS(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=l(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function oS(e,t){const n={},o=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=l(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function rS(e,t,n){const o={},r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=l(e,["description"]);t!==void 0&&i!=null&&a(t,["description"],i);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),o}function iS(e,t,n){const o={},r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=l(e,["description"]);t!==void 0&&i!=null&&a(t,["description"],i);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),o}function sS(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","name"],K(e,r));const i=l(t,["config"]);return i!=null&&rS(i,o),o}function lS(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["config"]);return i!=null&&iS(i,o),o}function aS(e,t,n){const o={},r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=l(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&a(t,["parameters","safetySetting"],i);const s=l(e,["personGeneration"]);t!==void 0&&s!=null&&a(t,["parameters","personGeneration"],s);const u=l(e,["includeRaiReason"]);t!==void 0&&u!=null&&a(t,["parameters","includeRaiReason"],u);const c=l(e,["outputMimeType"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","mimeType"],c);const d=l(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const f=l(e,["enhanceInputImage"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],f);const m=l(e,["imagePreservationFactor"]);t!==void 0&&m!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],m);const p=l(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const h=l(e,["numberOfImages"]);t!==void 0&&h!=null&&a(t,["parameters","sampleCount"],h);const E=l(e,["mode"]);return t!==void 0&&E!=null&&a(t,["parameters","mode"],E),o}function uS(e,t,n){const o={},r=l(t,["model"]);r!=null&&a(o,["_url","model"],K(e,r));const i=l(t,["image"]);i!=null&&a(o,["instances[0]","image"],pt(i));const s=l(t,["upscaleFactor"]);s!=null&&a(o,["parameters","upscaleConfig","upscaleFactor"],s);const u=l(t,["config"]);return u!=null&&aS(u,o),o}function cS(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bi(s))),a(n,["generatedImages"],i)}return n}function dS(e,t){const n={},o=l(e,["uri"]);o!=null&&a(n,["uri"],o);const r=l(e,["encodedVideo"]);r!=null&&a(n,["videoBytes"],sn(r));const i=l(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function fS(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["uri"],o);const r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],sn(r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function pS(e,t){const n={},o=l(e,["image"]);o!=null&&a(n,["_self"],pt(o));const r=l(e,["maskMode"]);return r!=null&&a(n,["maskMode"],r),n}function mS(e,t){const n={},o=l(e,["image"]);o!=null&&a(n,["image"],qi(o));const r=l(e,["referenceType"]);return r!=null&&a(n,["referenceType"],r),n}function hS(e,t){const n={},o=l(e,["image"]);o!=null&&a(n,["image"],pt(o));const r=l(e,["referenceType"]);return r!=null&&a(n,["referenceType"],r),n}function rm(e,t){const n={},o=l(e,["uri"]);o!=null&&a(n,["uri"],o);const r=l(e,["videoBytes"]);r!=null&&a(n,["encodedVideo"],sn(r));const i=l(e,["mimeType"]);return i!=null&&a(n,["encoding"],i),n}function im(e,t){const n={},o=l(e,["uri"]);o!=null&&a(n,["gcsUri"],o);const r=l(e,["videoBytes"]);r!=null&&a(n,["bytesBase64Encoded"],sn(r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function yS(e){const t={},n=l(e,["config"]);return n!=null&&gS(n,t),t}function vS(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function ES(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&vS(o,t),t}function _S(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function SS(e,t){const n={},o=l(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["customMetadata"],i)}const r=l(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function TS(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],IS(s)),t}function CS(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=l(e,["config"]);return r!=null&&SS(r,t),t}function IS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function wS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function AS(e){const t={},n=l(e,["config"]);return n!=null&&wS(n,t),t}function xS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["fileSearchStores"],i)}return t}function sm(e,t){const n={},o=l(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=l(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const s=l(e,["chunkingConfig"]);return t!==void 0&&s!=null&&a(t,["chunkingConfig"],s),n}function NS(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["config"]);return o!=null&&sm(o,t),t}function RS(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PS="Content-Type",MS="X-Server-Timeout",kS="User-Agent",wl="x-goog-api-client",DS="1.39.0",LS=`google-genai-sdk/${DS}`,US="v1beta1",FS="v1beta";class VS{constructor(t){var n,o,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:US}else{if(!this.clientOptions.apiKey)throw new jo({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:FS,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===El.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t,n),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))r.searchParams.append(s,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t,n),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=s}return n&&n.extraBody!==null&&GS(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await fd(r),new _l(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await fd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return ct(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield H(r.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const _=JSON.parse(JSON.stringify(E.error)),I=_.status,v=_.code,g=`got status: ${I}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new jo({message:g,status:v})}}catch(E){if(E.name==="ApiError")throw E}s+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const I of c){const v=s.indexOf(I);v!==-1&&(p===-1||v<p)&&(p=v,h=I.length)}if(p===-1)break;const E=s.substring(0,p);s=s.substring(p+h);const _=E.trim();if(_.startsWith(u)){const I=_.substring(u.length).trim();try{const v=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield H(new _l(v))}catch(v){throw new Error(`exception parsing stream chunk ${I}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=LS+" "+this.clientOptions.userAgentExtra;return t[kS]=n,t[wl]=n,t[PS]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(MS,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,s=await i.stat(t);r.sizeBytes=String(s.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(t),f=U("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,s=await i.stat(n),u=String(s.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&sm(o,m);const p=await this.fetchUploadUrl(d,u,c,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function fd(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new jo({message:r,status:n}):new Error(r)}}function GS(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){const u=Object.assign({},i);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HS="mcp_used/unknown";let BS=!1;function lm(e){for(const t of e)if(qS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return BS}function am(e){var t;const n=(t=e[wl])!==null&&t!==void 0?t:"";e[wl]=(n+` ${HS}`).trimStart()}function qS(e){return e!==null&&typeof e=="object"&&e instanceof Da}function $S(e){return ct(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const s=yield H(n.listTools({cursor:r}));for(const u of s.tools)yield yield H(u),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class Da{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Da(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},s=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,dt($S(f))),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const m=r;s.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){n={error:m}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),yv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OS(e,t,n){const o=new uv;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class zS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=YS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(y=>{d=y}),m=t.callbacks,p=function(){d({})},h=this.apiClient,E={onopen:p,onmessage:y=>{OS(h,m.onmessage,y)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(y){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(y){}},_=this.webSocketFactory.create(c,WS(s),E);_.connect(),await f;const g={setup:{model:K(this.apiClient,t.model)}};return _.send(JSON.stringify(g)),new JS(_,this.apiClient)}}class JS{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=gE(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=hE(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Hn.PLAY)}pause(){this.sendPlaybackControl(Hn.PAUSE)}stop(){this.sendPlaybackControl(Hn.STOP)}resetContext(){this.sendPlaybackControl(Hn.RESET_CONTEXT)}close(){this.conn.close()}}function WS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function YS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function bS(e,t,n){const o=new av;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const s=EE(i);Object.assign(o,s)}else Object.assign(o,i);t(o)}class QS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new zS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&lm(t.config.tools)&&am(m);const p=eT(m);if(this.apiClient.isVertexAI()){const M=this.apiClient.getProject(),L=this.apiClient.getLocation(),$=this.apiClient.getApiKey(),te=!!M&&!!L||!!$;this.apiClient.getCustomBaseUrl()&&!te?f=c:(f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f))}else{const M=this.apiClient.getApiKey();let L="BidiGenerateContent",$="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",$="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${L}?${$}=${M}`}let h=()=>{};const E=new Promise(M=>{h=M}),_=t.callbacks,I=function(){var M;(M=_==null?void 0:_.onopen)===null||M===void 0||M.call(_),h({})},v=this.apiClient,g={onopen:I,onmessage:M=>{bS(v,_.onmessage,M)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(M){}},y=this.webSocketFactory.create(f,jS(p),g);y.connect(),await E;let C=K(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const M=this.apiClient.getProject(),L=this.apiClient.getLocation();M&&L&&(C=`projects/${M}/locations/${L}/`+C)}let T={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[yi.AUDIO]}:t.config.responseModalities=[yi.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],A=[];for(const M of N)if(this.isCallableTool(M)){const L=M;A.push(await L.tool())}else A.push(M);A.length>0&&(t.config.tools=A);const P={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?T=mE(this.apiClient,P):T=pE(this.apiClient,P),delete T.config,y.send(JSON.stringify(T)),new ZS(y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const XS={turnComplete:!0};class ZS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ze(n.turns),t.isVertexAI()||(o=o.map(r=>Hi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(KS)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},XS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:vE(t)}:n={realtimeInput:yE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function eT(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pd=10;function md(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Kn(s)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Kn(e){return"callTool"in e&&typeof e.callTool=="function"}function tT(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>Kn(r)))!==null&&o!==void 0?o:!1}function hd(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(Kn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function gd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nT extends Ut{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tT(n)||md(n.config))return await this.generateContentInternal(c);const d=hd(n);if(d.length>0){const _=d.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,m;const p=Ze(c.contents),h=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:pd;let E=0;for(;E<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,I=[];for(const v of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Kn(v)){const y=await v.callTool(f.functionCalls);I.push(...y)}E++,m={role:"user",parts:I},c.contents=Ze(c.contents),c.contents.push(_),c.contents.push(m),gd(c.config)&&(p.push(_),p.push(m))}return gd(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,s,u;if(this.maybeMoveToResponseJsonSchem(n),md(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=hd(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const s=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:s.push(c);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Cn(Dt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const s=await Promise.all(i.map(async c=>Kn(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&lm(t.config.tools)){const c=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),am(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Kn(s)){const u=s,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:pd;let s=!1,u=0;const c=await this.initAfcToolsMap(t);return function(d,f,m){return ct(this,arguments,function*(){for(var p,h,E,_,I,v;u<i;){s&&(u++,s=!1);const T=yield H(d.processParamsMaybeAddMcpUsage(m)),N=yield H(d.generateContentStreamInternal(T)),A=[],P=[];try{for(var g=!0,y=(h=void 0,dt(N)),C;C=yield H(y.next()),p=C.done,!p;g=!0){_=C.value,g=!1;const M=_;if(yield yield H(M),M.candidates&&(!((I=M.candidates[0])===null||I===void 0)&&I.content)){P.push(M.candidates[0].content);for(const L of(v=M.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(L.functionCall.name)){const $=yield H(f.get(L.functionCall.name).callTool([L.functionCall]));A.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(M){h={error:M}}finally{try{!g&&!p&&(E=y.return)&&(yield H(E.call(y)))}finally{if(h)throw h.error}}if(A.length>0){s=!0;const M=new _o;M.candidates=[{content:{role:"user",parts:A}}],yield yield H(M);const L=[];L.push(...P),L.push({role:"user",parts:A});const $=Ze(m.contents).concat(L);m.contents=$}else break}})}(this,c,t)}async generateContentInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ud(this.apiClient,t);return u=U("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=dd(f),p=new _o;return Object.assign(p,m),p})}else{const d=ad(this.apiClient,t);return u=U("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=cd(f),p=new _o;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ud(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return ct(this,arguments,function*(){var p,h,E,_;try{for(var I=!0,v=dt(m),g;g=yield H(v.next()),p=g.done,!p;I=!0){_=g.value,I=!1;const y=_,C=dd(yield H(y.json()),t);C.sdkHttpResponse={headers:y.headers};const T=new _o;Object.assign(T,C),yield yield H(T)}}catch(y){h={error:y}}finally{try{!I&&!p&&(E=v.return)&&(yield H(E.call(v)))}finally{if(h)throw h.error}}})})}else{const d=ad(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return ct(this,arguments,function*(){var p,h,E,_;try{for(var I=!0,v=dt(m),g;g=yield H(v.next()),p=g.done,!p;I=!0){_=g.value,I=!1;const y=_,C=cd(yield H(y.json()),t);C.sdkHttpResponse={headers:y.headers};const T=new _o;Object.assign(T,C),yield yield H(T)}}catch(y){h={error:y}}finally{try{!I&&!p&&(E=v.return)&&(yield H(E.call(v)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=QE(this.apiClient,t);return u=U("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=ZE(f),p=new Jc;return Object.assign(p,m),p})}else{const d=bE(this.apiClient,t);return u=U("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=XE(f),p=new Jc;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=u_(this.apiClient,t);return u=U("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=d_(f),p=new Wc;return Object.assign(p,m),p})}else{const d=a_(this.apiClient,t);return u=U("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=c_(f),p=new Wc;return Object.assign(p,m),p})}}async editImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=JE(this.apiClient,t);return i=U("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=WE(c),f=new Qy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=uS(this.apiClient,t);return i=U("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=cS(c),f=new Xy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=z_(this.apiClient,t);return i=U("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=J_(c),f=new Zy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=X_(this.apiClient,t);return i=U("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Z_(c),f=new jy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=N_(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Il(f))}else{const d=x_(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Cl(f))}}async listInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=V_(this.apiClient,t);return u=U("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=H_(f),p=new Yc;return Object.assign(p,m),p})}else{const d=F_(this.apiClient,t);return u=U("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=G_(f),p=new Yc;return Object.assign(p,m),p})}}async update(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=lS(this.apiClient,t);return u=U("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Il(f))}else{const d=sS(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Cl(f))}}async delete(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=qE(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=OE(f),p=new Kc;return Object.assign(p,m),p})}else{const d=BE(this.apiClient,t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=$E(f),p=new Kc;return Object.assign(p,m),p})}}async countTokens(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=VE(this.apiClient,t);return u=U("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=HE(f),p=new bc;return Object.assign(p,m),p})}else{const d=FE(this.apiClient,t);return u=U("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=GE(f),p=new bc;return Object.assign(p,m),p})}}async computeTokens(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=RE(this.apiClient,t);return i=U("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=PE(c),f=new ev;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=y_(this.apiClient,t);return u=U("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const m=h_(f),p=new vi;return Object.assign(p,m),p})}else{const d=g_(this.apiClient,t);return u=U("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const m=m_(f),p=new vi;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends Ut{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=zy(t);return u=U("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{const d=Oy(t);return u=U("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=Fy(t);return i=U("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function iT(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mT(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function sT(e,t,n){const o={},r=l(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=l(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const s=l(t,["uses"]);n!==void 0&&s!=null&&a(n,["uses"],s);const u=l(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],pT(e,u));const c=l(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function lT(e,t){const n={},o=l(t,["config"]);return o!=null&&a(n,["config"],sT(e,o,n)),n}function aT(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function uT(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cT(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function dT(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function fT(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=l(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=l(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],ka(m));const p=l(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const h=l(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],h);const E=l(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],iT(we(E)));const _=l(e,["tools"]);if(t!==void 0&&_!=null){let N=so(_);Array.isArray(N)&&(N=N.map(A=>gT(io(A)))),a(t,["setup","tools"],N)}const I=l(e,["sessionResumption"]);t!==void 0&&I!=null&&a(t,["setup","sessionResumption"],hT(I));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const y=l(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&a(t,["setup","realtimeInputConfig"],y);const C=l(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const T=l(e,["proactivity"]);if(t!==void 0&&T!=null&&a(t,["setup","proactivity"],T),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function pT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=l(t,["config"]);return r!=null&&a(n,["config"],fT(r,n)),n}function mT(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],aT(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],uT(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=l(e,["inlineData"]);c!=null&&a(t,["inlineData"],rT(c));const d=l(e,["text"]);d!=null&&a(t,["text"],d);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const m=l(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=l(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function hT(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function gT(e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=l(e,["computerUse"]);n!=null&&a(t,["computerUse"],n);const o=l(e,["fileSearch"]);o!=null&&a(t,["fileSearch"],o);const r=l(e,["codeExecution"]);if(r!=null&&a(t,["codeExecution"],r),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}const s=l(e,["googleMaps"]);s!=null&&a(t,["googleMaps"],cT(s));const u=l(e,["googleSearch"]);u!=null&&a(t,["googleSearch"],dT(u));const c=l(e,["googleSearchRetrieval"]);c!=null&&a(t,["googleSearchRetrieval"],c);const d=l(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function vT(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=yT(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class ET extends Ut{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=lT(this.apiClient,t);i=U("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=vT(u,t.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function ST(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&_T(o,t),t}function TT(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function CT(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function IT(e){const t={},n=l(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=l(e,["config"]);return o!=null&&CT(o,t),t}function wT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends Ut{constructor(t){super(),this.apiClient=t,this.list=async n=>new Cn(Dt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TT(t);return i=U("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ST(t);r=U("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IT(t);return i=U("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=wT(c),f=new tv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xT extends Ut{constructor(t,n=new AT(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Cn(Dt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yS(t);return i=U("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_S(t);return i=U("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ES(t);r=U("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AS(t);return i=U("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=xS(c),f=new nv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=NS(t);return i=U("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=RS(c),f=new ov;return Object.assign(f,d),f})}}async importFile(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CS(t);return i=U("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=TS(c),f=new xa;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let um=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return um=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const NT=()=>um();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Al(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const xl=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tt extends Error{}class Pe extends tt{constructor(t,n,o,r){super(`${Pe.makeMessage(t,n,o)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,o,r){if(!t||!r)return new $i({message:o,cause:xl(n)});const i=n;return t===400?new dm(t,i,o,r):t===401?new fm(t,i,o,r):t===403?new pm(t,i,o,r):t===404?new mm(t,i,o,r):t===409?new hm(t,i,o,r):t===422?new gm(t,i,o,r):t===429?new ym(t,i,o,r):t>=500?new vm(t,i,o,r):new Pe(t,i,o,r)}}class Nl extends Pe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class $i extends Pe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class cm extends $i{constructor({message:t}={}){super({message:t??"Request timed out."})}}class dm extends Pe{}class fm extends Pe{}class pm extends Pe{}class mm extends Pe{}class hm extends Pe{}class gm extends Pe{}class ym extends Pe{}class vm extends Pe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RT=/^[a-z][a-z0-9+.-]*:/i,PT=e=>RT.test(e);let Rl=e=>(Rl=Array.isArray,Rl(e));const MT=Rl;let kT=MT;const yd=kT;function DT(e){if(!e)return!0;for(const t in e)return!1;return!0}function LT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const UT=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new tt(`${e} must be an integer`);if(t<0)throw new tt(`${e} must be a positive integer`);return t},FT=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VT=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const An="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const HT=()=>{var e,t,n,o,r;const i=GT();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":An,"X-Stainless-OS":Ed(Deno.build.os),"X-Stainless-Arch":vd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":An,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":An,"X-Stainless-OS":Ed((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":vd((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const s=BT();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":An,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":An,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BT(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:t,version:`${r}.${i}.${s}`}}}return null}const vd=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Ed=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let xr;const qT=()=>xr??(xr=HT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $T(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Em(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function OT(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Em({start(){},async pull(n){const{done:o,value:r}=await t.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function _m(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zT(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JT=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sm=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ss(e,t,n){return Sm(),new File(e,t??"unknown_file",n)}function WT(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const YT=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tm=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",KT=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Tm(e),bT=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function QT(e,t,n){if(Sm(),e=await e,KT(e))return e instanceof File?e:Ss([await e.arrayBuffer()],e.name);if(bT(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ss(await Pl(r),t,n)}const o=await Pl(e);if(t||(t=WT(e)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Ss(o,t,n)}async function Pl(e){var t,n,o,r,i;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(Tm(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(YT(e))try{for(var u=!0,c=dt(e),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const f=r;s.push(...await Pl(f))}}catch(f){n={error:f}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${f?`; constructor: ${f}`:""}${XT(e)}`)}return s}function XT(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cm{constructor(t){this._client=t}}Cm._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Im(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const _d=Object.freeze(Object.create(null)),ZT=(e=Im)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],s=n.reduce((f,m,p)=>{var h,E,_;/[?#]/.test(m)&&(r=!0);const I=o[p];let v=(r?encodeURIComponent:e)(""+I);return p!==o.length&&(I==null||typeof I=="object"&&I.toString===((_=Object.getPrototypeOf((E=Object.getPrototypeOf((h=I.hasOwnProperty)!==null&&h!==void 0?h:_d))!==null&&E!==void 0?E:_d))===null||_===void 0?void 0:_.toString))&&(v=I+"",i.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":v)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,m)=>f.start-m.start),i.length>0){let f=0;const m=i.reduce((p,h)=>{const E=" ".repeat(h.start-f),_="^".repeat(h.length);return f=h.start+h.length,p+E+_},"");throw new tt(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${s}
${m}`)}return s},Nr=ZT(Im);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wm extends Cm{create(t,n){var o;const{api_version:r=this._client.apiVersion}=t,i=_i(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new tt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new tt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Nr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Nr`/${r}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Nr`/${r}/interactions/${t}/cancel`,o)}get(t,n={},o){var r;const i=n??{},{api_version:s=this._client.apiVersion}=i,u=_i(i,["api_version"]);return this._client.get(Nr`/${s}/interactions/${t}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}wm._key=Object.freeze(["interactions"]);class Am extends wm{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}let Rr;function La(e){let t;return(Rr??(t=new globalThis.TextEncoder,Rr=t.encode.bind(t)))(e)}let Pr;function Sd(e){let t;return(Pr??(t=new globalThis.TextDecoder,Pr=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oi{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?La(t):t;this.buffer=jT([this.buffer,n]);const o=[];let r;for(;(r=eC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Sd(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=Sd(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Oi.NEWLINE_CHARS=new Set([`
`,"\r"]);Oi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eC(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function tC(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Si={off:0,error:200,warn:300,info:400,debug:500},Td=(e,t,n)=>{if(e){if(LT(Si,e))return e;xe(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Si))}`)}};function Ao(){}function Mr(e,t,n){return!t||Si[e]>Si[n]?Ao:t[e].bind(t)}const nC={error:Ao,warn:Ao,info:Ao,debug:Ao};let Cd=new WeakMap;function xe(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return nC;const r=Cd.get(n);if(r&&r[0]===o)return r[1];const i={error:Mr("error",n,o),warn:Mr("warn",n,o),info:Mr("info",n,o),debug:Mr("debug",n,o)};return Cd.set(n,[o,i]),i}const cn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let r=!1;const i=o?xe(o):console;function s(){return ct(this,arguments,function*(){var c,d,f,m;if(r)throw new tt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=dt(oC(t,n)),_;_=yield H(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const I=m;if(!p)if(I.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield H(JSON.parse(I.data))}catch(v){throw i.error("Could not parse message into JSON:",I.data),i.error("From chunk:",I.raw),v}}}catch(I){d={error:I}}finally{try{!h&&!c&&(f=E.return)&&(yield H(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(I){if(Al(I))return yield H(void 0);throw I}finally{p||n.abort()}})}return new Bn(s,n,o)}static fromReadableStream(t,n,o){let r=!1;function i(){return ct(this,arguments,function*(){var c,d,f,m;const p=new Oi,h=_m(t);try{for(var E=!0,_=dt(h),I;I=yield H(_.next()),c=I.done,!c;E=!0){m=I.value,E=!1;const v=m;for(const g of p.decode(v))yield yield H(g)}}catch(v){d={error:v}}finally{try{!E&&!c&&(f=_.return)&&(yield H(f.call(_)))}finally{if(d)throw d.error}}for(const v of p.flush())yield yield H(v)})}function s(){return ct(this,arguments,function*(){var c,d,f,m;if(r)throw new tt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=dt(i()),_;_=yield H(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const I=m;p||I&&(yield yield H(JSON.parse(I)))}}catch(I){d={error:I}}finally{try{!h&&!c&&(f=E.return)&&(yield H(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(I){if(Al(I))return yield H(void 0);throw I}finally{p||n.abort()}})}return new Bn(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const s=o.next();t.push(s),n.push(s)}return i.shift()}});return[new Bn(()=>r(t),this.controller,this.client),new Bn(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Em({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const s=La(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function oC(e,t){return ct(this,arguments,function*(){var o,r,i,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new tt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new tt("Attempted to iterate over a response with no body");const u=new iC,c=new Oi,d=_m(e.body);try{for(var f=!0,m=dt(rC(d)),p;p=yield H(m.next()),o=p.done,!o;f=!0){s=p.value,f=!1;const h=s;for(const E of c.decode(h)){const _=u.decode(E);_&&(yield yield H(_))}}}catch(h){r={error:h}}finally{try{!f&&!o&&(i=m.return)&&(yield H(i.call(m)))}finally{if(r)throw r.error}}for(const h of c.flush()){const E=u.decode(h);E&&(yield yield H(E))}})}function rC(e){return ct(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var u=!0,c=dt(e),d;d=yield H(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?La(f):f;let p=new Uint8Array(s.length+m.length);p.set(s),p.set(m,s.length),s=p;let h;for(;(h=tC(s))!==-1;)yield yield H(s.slice(0,h)),s=s.slice(h)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield H(r.call(c)))}finally{if(o)throw o.error}}s.length>0&&(yield yield H(s))})}class iC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,r]=sC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function sC(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lC(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=t,s=await(async()=>{var u;if(t.options.stream)return xe(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Bn.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return xe(e).debug(`[${o}] response parsed`,cn({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua extends Promise{constructor(t,n,o=lC){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new Ua(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xm=Symbol("brand.privateNullableHeaders");function*aC(e){if(!e)return;if(xm in e){const{values:o,nulls:r}=e;yield*o.entries();for(const i of r)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():yd(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=yd(o[1])?o[1]:[o[1]];let s=!1;for(const u of i)u!==void 0&&(t&&!s&&(s=!0,yield[r,null]),yield[r,u])}}const So=e=>{const t=new Headers,n=new Set;for(const o of e){const r=new Set;for(const[i,s]of aC(o)){const u=i.toLowerCase();r.has(u)||(t.delete(i),r.add(u)),s===null?(t.delete(i),n.add(u)):(t.append(i,s),n.delete(u))}}return{[xm]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ts=e=>{var t,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(t=Py)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nm;class zi{constructor(t){var n,o,r,i,s,u,c,{baseURL:d=Ts("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Ts("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,p=_i(t,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(o=h.timeout)!==null&&o!==void 0?o:zi.DEFAULT_TIMEOUT,this.logger=(r=h.logger)!==null&&r!==void 0?r:console;const E="warn";this.logLevel=E,this.logLevel=(s=(i=Td(h.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Td(Ts("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=h.fetchOptions,this.maxRetries=(u=h.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:$T(),this.encoder=JT,this._options=h,this.apiKey=f,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=So([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return So([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return So([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new tt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${An}`}defaultIdempotencyKey(){return`stainless-node-retry-${NT()}`}makeStatusError(t,n,o,r){return Pe.generate(t,n,o,r)}buildURL(t,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=PT(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return DT(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new Ua(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var r,i,s;const u=await t,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(xe(this).debug(`[${p}] sending request`,cn({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new Nl;const _=new AbortController,I=await this.fetchWithTimeout(f,d,m,_).catch(xl),v=Date.now();if(I instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Nl;const C=Al(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(n)return xe(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${y}`),xe(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${y})`,cn({retryOfRequestLogID:o,url:f,durationMs:v-E,message:I.message})),this.retryRequest(u,n,o??p);throw xe(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),xe(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,cn({retryOfRequestLogID:o,url:f,durationMs:v-E,message:I.message})),C?new cm:new $i({cause:I})}const g=`[${p}${h}] ${d.method} ${f} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${v-E}ms`;if(!I.ok){const y=await this.shouldRetry(I);if(n&&y){const M=`retrying, ${n} attempts remaining`;return await zT(I.body),xe(this).info(`${g} - ${M}`),xe(this).debug(`[${p}] response error (${M})`,cn({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,durationMs:v-E})),this.retryRequest(u,n,o??p,I.headers)}const C=y?"error; no more retries left":"error; not retryable";xe(this).info(`${g} - ${C}`);const T=await I.text().catch(M=>xl(M).message),N=FT(T),A=N?void 0:T;throw xe(this).debug(`[${p}] response error (${C})`,cn({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,message:A,durationMs:Date.now()-E})),this.makeStatusError(I.status,N,A,I.headers)}return xe(this).info(g),xe(this).debug(`[${p}] response start`,cn({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,durationMs:v-E})),{response:I,options:u,controller:_,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(t,n,o,r){const i=n||{},{signal:s,method:u}=i,c=_i(i,["signal","method"]);s&&s.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,r){var i;let s;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(s=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(i=t.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await VT(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,s=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,r,i;const s=Object.assign({},t),{method:u,path:c,query:d,defaultBaseURL:f}=s,m=this.buildURL(c,d,f);"timeout"in s&&UT("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:s}),E=await this.buildHeaders({options:t,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let u=So([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),qT()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=So([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:OT(t)}:this.encoder({body:t,headers:o})}}zi.DEFAULT_TIMEOUT=6e4;class ve extends zi{constructor(){super(...arguments),this.interactions=new Am(this)}}Nm=ve;ve.GeminiNextGenAPIClient=Nm;ve.GeminiNextGenAPIClientError=tt;ve.APIError=Pe;ve.APIConnectionError=$i;ve.APIConnectionTimeoutError=cm;ve.APIUserAbortError=Nl;ve.NotFoundError=mm;ve.ConflictError=hm;ve.RateLimitError=ym;ve.BadRequestError=dm;ve.AuthenticationError=fm;ve.InternalServerError=vm;ve.PermissionDeniedError=pm;ve.UnprocessableEntityError=gm;ve.toFile=QT;ve.Interactions=Am;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uC(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function cC(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function dC(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function fC(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function pC(e,t,n){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(l(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(l(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=l(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(l(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(l(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(l(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(l(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return o}function mC(e,t,n){const o={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=l(e,["validationDataset"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec"],Cs(T))}else if(r==="PREFERENCE_TUNING"){const T=l(e,["validationDataset"]);t!==void 0&&T!=null&&a(t,["preferenceOptimizationSpec"],Cs(T))}else if(r==="DISTILLATION"){const T=l(e,["validationDataset"]);t!==void 0&&T!=null&&a(t,["distillationSpec"],Cs(T))}const i=l(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=l(e,["epochCount"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(u==="PREFERENCE_TUNING"){const T=l(e,["epochCount"]);t!==void 0&&T!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}else if(u==="DISTILLATION"){const T=l(e,["epochCount"]);t!==void 0&&T!=null&&a(t,["distillationSpec","hyperParameters","epochCount"],T)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const T=l(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(c==="PREFERENCE_TUNING"){const T=l(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}else if(c==="DISTILLATION"){const T=l(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&a(t,["distillationSpec","hyperParameters","learningRateMultiplier"],T)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=l(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(d==="PREFERENCE_TUNING"){const T=l(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}else if(d==="DISTILLATION"){const T=l(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&a(t,["distillationSpec","exportLastCheckpointOnly"],T)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=l(e,["adapterSize"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(f==="PREFERENCE_TUNING"){const T=l(e,["adapterSize"]);t!==void 0&&T!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}else if(f==="DISTILLATION"){const T=l(e,["adapterSize"]);t!==void 0&&T!=null&&a(t,["distillationSpec","hyperParameters","adapterSize"],T)}let m=l(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=l(e,["tuningMode"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","tuningMode"],T)}const p=l(e,["customBaseModel"]);t!==void 0&&p!=null&&a(t,["customBaseModel"],p);let h=l(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=l(e,["batchSize"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","hyperParameters","batchSize"],T)}let E=l(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const T=l(e,["learningRate"]);t!==void 0&&T!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRate"],T)}const _=l(e,["labels"]);t!==void 0&&_!=null&&a(t,["labels"],_);const I=l(e,["beta"]);t!==void 0&&I!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],I);const v=l(e,["baseTeacherModel"]);t!==void 0&&v!=null&&a(t,["distillationSpec","baseTeacherModel"],v);const g=l(e,["tunedTeacherModelSource"]);t!==void 0&&g!=null&&a(t,["distillationSpec","tunedTeacherModelSource"],g);const y=l(e,["sftLossWeightMultiplier"]);t!==void 0&&y!=null&&a(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],y);const C=l(e,["outputUri"]);return t!==void 0&&C!=null&&a(t,["outputUri"],C),o}function hC(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=l(e,["trainingDataset"]);i!=null&&AC(i);const s=l(e,["config"]);return s!=null&&pC(s,n),n}function gC(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=l(e,["trainingDataset"]);i!=null&&xC(i,n,t);const s=l(e,["config"]);return s!=null&&mC(s,n,t),n}function yC(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function vC(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function EC(e,t,n){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function _C(e,t,n){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function SC(e,t){const n={},o=l(e,["config"]);return o!=null&&EC(o,n),n}function TC(e,t){const n={},o=l(e,["config"]);return o!=null&&_C(o,n),n}function CC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Rm(u))),a(n,["tuningJobs"],s)}return n}function IC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ml(u))),a(n,["tuningJobs"],s)}return n}function wC(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["model"],o);const r=l(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function AC(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function xC(e,t,n){const o={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(r==="DISTILLATION"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["distillationSpec","promptDatasetUri"],s)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["distillationSpec","promptDatasetUri"],s)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Rm(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["state"]);i!=null&&a(n,["state"],Jp(i));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=l(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=l(e,["description"]);f!=null&&a(n,["description"],f);const m=l(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=l(e,["_self"]);return p!=null&&a(n,["tunedModel"],wC(p)),n}function Ml(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["state"]);i!=null&&a(n,["state"],Jp(i));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=l(e,["endTime"]);c!=null&&a(n,["endTime"],c);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=l(e,["error"]);f!=null&&a(n,["error"],f);const m=l(e,["description"]);m!=null&&a(n,["description"],m);const p=l(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=l(e,["tunedModel"]);h!=null&&a(n,["tunedModel"],h);const E=l(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const _=l(e,["supervisedTuningSpec"]);_!=null&&a(n,["supervisedTuningSpec"],_);const I=l(e,["preferenceOptimizationSpec"]);I!=null&&a(n,["preferenceOptimizationSpec"],I);const v=l(e,["distillationSpec"]);v!=null&&a(n,["distillationSpec"],v);const g=l(e,["tuningDataStats"]);g!=null&&a(n,["tuningDataStats"],g);const y=l(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const C=l(e,["partnerModelTuningSpec"]);C!=null&&a(n,["partnerModelTuningSpec"],C);const T=l(e,["customBaseModel"]);T!=null&&a(n,["customBaseModel"],T);const N=l(e,["experiment"]);N!=null&&a(n,["experiment"],N);const A=l(e,["labels"]);A!=null&&a(n,["labels"],A);const P=l(e,["outputUri"]);P!=null&&a(n,["outputUri"],P);const M=l(e,["pipelineJob"]);M!=null&&a(n,["pipelineJob"],M);const L=l(e,["serviceAccount"]);L!=null&&a(n,["serviceAccount"],L);const $=l(e,["tunedModelDisplayName"]);$!=null&&a(n,["tunedModelDisplayName"],$);const te=l(e,["veoTuningSpec"]);return te!=null&&a(n,["veoTuningSpec"],te),n}function NC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const s=l(e,["done"]);s!=null&&a(n,["done"],s);const u=l(e,["error"]);return u!=null&&a(n,["error"],u),n}function Cs(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=l(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Cn(Dt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:vl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=vC(t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Ml(f))}else{const d=yC(t);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Rm(f))}}async listInternal(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=TC(t);return u=U("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=IC(f),p=new Qc;return Object.assign(p,m),p})}else{const d=SC(t);return u=U("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=CC(f),p=new Qc;return Object.assign(p,m),p})}}async cancel(t){var n,o,r,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=cC(t);return u=U("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=fC(f),p=new Xc;return Object.assign(p,m),p})}else{const d=uC(t);return u=U("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const m=dC(f),p=new Xc;return Object.assign(p,m),p})}}async tuneInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=gC(t,t);return i=U("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Ml(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hC(t);return i=U("tunedModels",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>NC(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MC=1024*1024*8,kC=3,DC=1e3,LC=2,Ti="x-goog-upload-status";async function UC(e,t,n){var o;const r=await Pm(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ti])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function FC(e,t,n){var o;const r=await Pm(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ti])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Hp(i),u=new Na;return Object.assign(u,s),u}async function Pm(e,t,n){var o,r;let i=0,s=0,u=new _l(new Response),c="upload";for(i=e.size;s<i;){const d=Math.min(MC,i-s),f=e.slice(s,s+d);s+d>=i&&(c+=", finalize");let m=0,p=DC;for(;m<kC&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Ti]));)m++,await GC(p),p=p*LC;if(s+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Ti])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function VC(e){return{size:e.size,type:e.type}}function GC(e){return new Promise(t=>setTimeout(t,e))}class HC{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await UC(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FC(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await VC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC{create(t,n,o){return new qC(t,n,o)}}class qC{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Id="x-goog-api-key";class $C{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Id)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Id,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OC="gl-node/";class zC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ve({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=Ly(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new $C(this.apiKey);this.apiClient=new VS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:OC+"web",uploader:new HC,downloader:new PC}),this.models=new nT(this.apiClient),this.live=new QS(this.apiClient,r,new BC),this.batches=new c0(this.apiClient),this.chats=new J0(this.models,this.apiClient),this.caches=new $0(this.apiClient),this.files=new oE(this.apiClient),this.operations=new oT(this.apiClient),this.authTokens=new ET(this.apiClient),this.tunings=new RC(this.apiClient),this.fileSearchStores=new xT(this.apiClient)}}const JC=new zC({apiKey:"AIzaSyD5vtCLrBJjhRI-IXk6sZYMQbac-g5UdXM"}),WC="gemini-3-flash-preview",YC={type:qe.OBJECT,properties:{action:{type:qe.STRING,enum:["BID","CHALLENGE"],description:" 'CHALLENGE' () 'BID'"},quantity:{type:qe.INTEGER,description:" BID "},face:{type:qe.INTEGER,description:" (1-6) BID "},reasoning:{type:qe.STRING,description:" ()"}},required:["action","reasoning"]},KC=async(e,t,n,o,r)=>{const i=e.dice.join(", "),s=o.map(d=>`${d.quantity}${d.face}`).join(" -> "),u=t?`${t.quantity}  ${t.face}`:" ()",c=`
     (Liar's Dice / Perudo)
    
    -  ()${n}
    -  ()[${i}]
    -  ()${u}
    - ${s}
    
    
    1. '1'  (Aces)  (Wild) 1 
    2.  (BID)
    3.  (CHALLENGE) ( < )
    
     (${r==="hard"?"":""}) 
    ${r==="hard"?" (Bluff)":""}
    
     JSON 
    **reasoning  (Traditional Chinese) **
  `;try{const f=(await JC.models.generateContent({model:WC,contents:"",config:{systemInstruction:c,responseMimeType:"application/json",responseSchema:YC,temperature:r==="hard"?.9:.5}})).text;if(!f)throw new Error("No response from AI");return JSON.parse(f)}catch(d){return console.error("Gemini AI Error:",d),t?{action:"CHALLENGE",reasoning:""}:{action:"BID",quantity:1,face:2,reasoning:""}}},kr=({value:e,size:t="md",hidden:n=!1})=>{const o={sm:"w-8 h-8 text-lg",md:"w-12 h-12 text-2xl",lg:"w-16 h-16 text-4xl"};return n?S.jsx("div",{className:`${o[t]} bg-slate-700 rounded-lg shadow-md flex items-center justify-center border-2 border-slate-600`,children:S.jsx("span",{className:"text-slate-500 font-bold",children:"?"})}):S.jsxs("div",{className:`${o[t]} bg-white rounded-lg shadow-inner shadow-gray-400 flex relative overflow-hidden border border-gray-300`,children:[S.jsx("div",{className:"grid grid-cols-3 grid-rows-3 w-full h-full p-1 gap-0.5",children:[...Array(9)].map((r,i)=>{const s=bC(e,i);return S.jsx("div",{className:"flex justify-center items-center",children:s&&S.jsx("div",{className:`rounded-full bg-black ${t==="sm"?"w-1.5 h-1.5":"w-2.5 h-2.5"}`})},i)})}),e===1&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20 text-red-500 font-bold",children:""})]})};function bC(e,t){var o;return((o={1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]}[e])==null?void 0:o.includes(t))||!1}const QC=({settings:e,onLeave:t})=>{const[n,o]=B.useState(e),[r,i]=B.useState([]),[s,u]=B.useState(0),[c,d]=B.useState(null),[f,m]=B.useState([]),[p,h]=B.useState([]),[E,_]=B.useState(ce.LOBBY),[I,v]=B.useState(0),[g,y]=B.useState(null),[C,T]=B.useState(null),[N,A]=B.useState(null),P=B.useRef({players:[],currentPlayerIndex:0,currentBid:null,bidHistory:[],logs:[],phase:ce.LOBBY,totalDiceInGame:0,roundWinner:null,finalLoser:null,challengeResult:null,settings:e});B.useEffect(()=>{P.current={players:r,currentPlayerIndex:s,currentBid:c,bidHistory:f,logs:p,phase:E,totalDiceInGame:I,roundWinner:g,finalLoser:C,challengeResult:N,settings:n}},[r,s,c,f,p,E,I,g,C,N,n]);const[M,L]=B.useState(1),[$,te]=B.useState(2),[Z,se]=B.useState(!1),[fe,St]=B.useState(e.isHost?"host":"guest-temp"),[Vt,D]=B.useState(!1),[G,q]=B.useState(!1),[Q,ae]=B.useState({}),[Gt,mt]=B.useState(""),In=B.useRef(null),nt=B.useRef(null),ht=B.useRef([]),ao=B.useRef(null);B.useEffect(()=>{if(e.isHost){const w={id:"host",name:e.playerName,isAi:!1,dice:[],diceCount:e.gameMode==="hearts"?un:e.startingDice,health:e.maxHealth,maxHealth:e.maxHealth,isEliminated:!1,avatarSeed:0,isHost:!0};i([w]),St("host"),e.mode==="single"?Fm(w):km()}else Dm();return()=>{var w;(w=nt.current)==null||w.destroy()}},[]);const km=()=>{const w=`gemini-liar-${e.roomId}`,x=new Peer(w);nt.current=x,x.on("open",()=>{uo(`${e.roomId}...`)}),x.on("connection",k=>{k.on("open",()=>{ht.current.push(k),setTimeout(()=>Ye(),500)}),k.on("data",V=>{Lm(V)}),k.on("close",()=>{uo("","error")})}),x.on("error",k=>{k.type==="unavailable-id"&&uo(" ID ","error")})},Dm=()=>{const w=sessionStorage.getItem("gemini-liar-guest-id");let x;try{x=w?new Peer(w):new Peer}catch{x=new Peer}nt.current=x,x.on("open",k=>{St(k),sessionStorage.setItem("gemini-liar-guest-id",k),uo("...");const V=`gemini-liar-${e.roomId}`,O=x.connect(V);O.on("open",()=>{ao.current=O,uo("");const z={id:k,name:e.playerName,isAi:!1,dice:[],diceCount:e.gameMode==="hearts"?un:e.startingDice,health:e.maxHealth,maxHealth:e.maxHealth,isEliminated:!1,avatarSeed:Math.floor(Math.random()*100)};O.send({type:"JOIN",player:z})}),O.on("data",z=>{z.type==="SYNC"?Um(z.state):z.type==="EMOTE"&&sr(z.playerId,z.emoji)})})},Lm=w=>{const x=P.current;if(x.settings.isHost)switch(w.type){case"JOIN":const k=x.players.find(V=>V.id===w.player.id);if(x.phase!==ce.LOBBY&&!k)return;if(k)Ye();else{const V=w.player;V.diceCount=x.settings.gameMode==="hearts"?un:x.settings.startingDice,V.health=x.settings.maxHealth,V.maxHealth=x.settings.maxHealth;const O=[...x.players,V];i(O);const z={id:Date.now().toString(),message:`${V.name} `,type:"info"};h(W=>[...W,z]),Ye({players:O,logs:[...x.logs,z]})}break;case"BID":if(!x.players[x.currentPlayerIndex])return;Ji(x.players[x.currentPlayerIndex].id,w.quantity,w.face);break;case"CHALLENGE":if(!x.players[x.currentPlayerIndex])return;co(x.players[x.currentPlayerIndex].id);break;case"EMOTE":sr(w.playerId,w.emoji),ht.current.forEach(V=>{V.open&&V.peer!==w.playerId&&V.send({type:"EMOTE",playerId:w.playerId,emoji:w.emoji})});break;case"CHAT":{const V=x.players.find(W=>W.id===w.playerId),O={id:Date.now().toString(),message:`${(V==null?void 0:V.name)||"Unknown"}: ${w.message}`,type:"chat"},z=[...x.logs,O];h(z),Ye({logs:z});break}}},Ye=w=>{const x=P.current;if(!x.settings.isHost)return;const V={type:"SYNC",state:{players:x.players,currentPlayerIndex:x.currentPlayerIndex,currentBid:x.currentBid,bidHistory:x.bidHistory,logs:x.logs,phase:x.phase,totalDiceInGame:x.totalDiceInGame,roundWinner:x.roundWinner,finalLoser:x.finalLoser,challengeResult:x.challengeResult,settings:x.settings,...w}};ht.current.forEach(O=>{O.open&&O.send(V)})},Um=w=>{w.players&&i(w.players),w.currentPlayerIndex!==void 0&&u(w.currentPlayerIndex),w.currentBid!==void 0&&d(w.currentBid),w.bidHistory&&m(w.bidHistory),w.logs&&h(w.logs),w.phase&&_(w.phase),w.totalDiceInGame!==void 0&&v(w.totalDiceInGame),w.roundWinner!==void 0&&y(w.roundWinner),w.finalLoser!==void 0&&T(w.finalLoser),w.challengeResult!==void 0&&A(w.challengeResult),w.settings&&o(x=>({...w.settings,isHost:x.isHost,mode:x.mode}))},Fm=w=>{const x=[w],k=e.gameMode==="hearts"?un:e.startingDice;for(let V=1;V<e.playerCount;V++)x.push({id:`ai-${V}`,name:`Gemini AI ${V}`,isAi:!0,dice:[],diceCount:k,health:e.maxHealth,maxHealth:e.maxHealth,isEliminated:!1,avatarSeed:V});i(x),ir(x,0)},Vm=()=>{const w=r.filter(z=>!z.isAi);let x=[...w];const k=w.length,V=n.playerCount-k,O=n.gameMode==="hearts"?un:n.startingDice;for(let z=0;z<V;z++)x.push({id:`bot-${z}`,name:`Bot ${z+1}`,isAi:!0,dice:[],diceCount:O,health:n.maxHealth,maxHealth:n.maxHealth,isEliminated:!1,avatarSeed:50+z});i(x),ir(x,0)},Gm=()=>{if(!n.isHost)return;const w=r.map(k=>({...k,dice:[],diceCount:n.gameMode==="hearts"?un:n.startingDice,health:n.maxHealth,isEliminated:!1}));i(w),ir(w,0);const x={id:Date.now().toString(),message:"---  ---",type:"info"};h([x]),Ye({players:w,logs:[x]})},Hm=()=>{if(!n.isHost)return;const w=r.filter(x=>!x.isAi);i(w),_(ce.LOBBY),h([]),Ye({players:w,phase:ce.LOBBY,logs:[],roundWinner:null,finalLoser:null})},ir=(w,x)=>{const k=w.map(W=>({...W,dice:W.isEliminated?[]:wy(W.diceCount)})),V=k.reduce((W,he)=>W+(he.isEliminated?0:he.diceCount),0);i(k),v(V),d(null),m([]),_(ce.PLAYING),A(null),y(null),T(null),L(1),te(2);let O=x;for(;k[O].isEliminated;)O=(O+1)%k.length;u(O);const z={id:Date.now().toString(),message:` ${V} `,type:"info"};h(W=>[...W,z]),Ye({players:k,totalDiceInGame:V,currentBid:null,bidHistory:[],phase:ce.PLAYING,challengeResult:null,roundWinner:null,finalLoser:null,currentPlayerIndex:O,logs:[...p,z]})},Bm=w=>{var x;sr(fe,w),q(!1),n.isHost?ht.current.forEach(k=>{k.open&&k.send({type:"EMOTE",playerId:fe,emoji:w})}):(x=ao.current)==null||x.send({type:"EMOTE",playerId:fe,emoji:w})},sr=(w,x)=>{ae(k=>({...k,[w]:x})),setTimeout(()=>{ae(k=>{const V={...k};return delete V[w],V})},3e3)},Fa=()=>{var x;if(!Gt.trim())return;const w=Gt.trim();if(mt(""),n.isHost){const k=r.find(z=>z.id===fe),V={id:Date.now().toString(),message:`${(k==null?void 0:k.name)||"Host"}: ${w}`,type:"chat"},O=[...p,V];h(O),Ye({logs:O})}else(x=ao.current)==null||x.send({type:"CHAT",playerId:fe,message:w})};B.useEffect(()=>{if(!n.isHost)return;const w=r[s];E===ce.PLAYING&&(w!=null&&w.isAi)&&!Z&&qm(w)},[s,E,r]),B.useEffect(()=>{var w;(w=In.current)==null||w.scrollIntoView({behavior:"smooth"})},[p]);const uo=(w,x="info")=>{const k={id:Date.now().toString(),message:w,type:x};h(V=>[...V,k])},qm=async w=>{if(se(!0),await new Promise(k=>setTimeout(k,1500)),Math.random()<.1){const k=Es[Math.floor(Math.random()*Es.length)];sr(w.id,k),Ye(),ht.current.forEach(V=>V.send({type:"EMOTE",playerId:w.id,emoji:k}))}const x=P.current;try{const k=await KC(w,x.currentBid,x.totalDiceInGame,x.bidHistory,n.difficulty);k.action==="BID"&&k.quantity&&k.face&&_s(x.currentBid,k.quantity,k.face)?Ji(w.id,k.quantity,k.face):co(w.id)}catch{co(w.id)}finally{se(!1)}},Ji=(w,x,k)=>{var Ct;if(!n.isHost){(Ct=ao.current)==null||Ct.send({type:"BID",quantity:x,face:k});return}const V=P.current,O={playerId:w,quantity:x,face:k},z=V.players.find(lr=>lr.id===w),W=[...V.logs,{id:Date.now().toString(),message:`${z==null?void 0:z.name}  ${x}  ${wr[k]}`,type:"bid"}],he=[...V.bidHistory,O];let ot=(V.currentPlayerIndex+1)%V.players.length;for(;V.players[ot].isEliminated;)ot=(ot+1)%V.players.length;d(O),m(he),h(W),u(ot),Ye({currentBid:O,bidHistory:he,logs:W,currentPlayerIndex:ot}),w==="host"&&x>=M&&(L(x),k>=6?(L(x+1),te(2)):te(k+1))},co=w=>{var lr;if(!n.isHost){(lr=ao.current)==null||lr.send({type:"CHALLENGE"});return}const x=P.current;if(!x.currentBid)return;const k=Ay(x.players,x.currentBid.face),V=x.currentBid.playerId,O=x.players.find(Wi=>Wi.id===V),z=x.players.find(Wi=>Wi.id===w);let W="",he="";k>=x.currentBid.quantity?(W=w,he=` ${k}  ${wr[x.currentBid.face]}${z==null?void 0:z.name} ${n.gameMode==="hearts"?"":""}`):(W=V,he=` ${k}  ${wr[x.currentBid.face]}${O==null?void 0:O.name} ${n.gameMode==="hearts"?"":""}`);const ot={loserId:W,actualCount:k,bid:x.currentBid},Ct=[...x.logs,{id:Date.now().toString(),message:he,type:"challenge"}];_(ce.ROUND_END),A(ot),h(Ct),Ye({phase:ce.ROUND_END,challengeResult:ot,logs:Ct}),setTimeout(()=>{$m(W)},4e3)},$m=w=>{var z;const x=P.current,k=x.players.map(W=>{if(W.id===w)if(x.settings.gameMode==="hearts"){const he=W.health-1;return{...W,health:he,isEliminated:he<=0}}else{const he=W.diceCount-1;return{...W,diceCount:he,isEliminated:he<=0}}return W}),V=k.filter(W=>!W.isEliminated);if(V.length===1){const W=V[0].name,he=((z=k.find(Ct=>Ct.id===w))==null?void 0:z.name)||"Unknown";i(k),_(ce.GAME_OVER),y(W),T(he);const ot={id:Date.now().toString(),message:`${W} `,type:"win"};h(Ct=>[...Ct,ot]),Ye({players:k,phase:ce.GAME_OVER,roundWinner:W,finalLoser:he,logs:[...x.logs,ot]});return}let O=k.findIndex(W=>W.id===w);if(k[O].isEliminated)do O=(O+1)%k.length;while(k[O].isEliminated);ir(k,O)},Om=()=>{if(!n.roomId)return;const w=Gp(n.roomId);navigator.clipboard.writeText(w),D(!0),setTimeout(()=>D(!1),2e3)};if(E===ce.LOBBY)return S.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-indigo-400",children:n.isHost?"...":""}),n.isHost&&S.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-600 mb-6 flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider font-bold mb-1",children:""}),S.jsx("p",{className:"text-xl font-mono text-indigo-300 tracking-widest",children:n.roomId})]}),S.jsx(De,{variant:"secondary",onClick:Om,className:"text-xs py-1 h-9 min-w-[80px]",children:Vt?"":""})]}),S.jsxs("div",{className:"space-y-4 mb-8",children:[r.map(w=>S.jsxs("div",{className:"flex items-center gap-4 bg-slate-700/50 p-3 rounded-lg",children:[S.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${Ar[w.avatarSeed%Ar.length]}`,children:w.name.charAt(0)}),S.jsxs("span",{className:"font-medium",children:[w.name," ",w.id===fe?"()":""]}),w.isHost&&S.jsx("span",{className:"text-xs bg-indigo-500 px-2 py-0.5 rounded text-white ml-auto",children:""})]},w.id)),Array.from({length:Math.max(0,n.playerCount-r.length)}).map((w,x)=>S.jsxs("div",{className:"flex items-center gap-4 border border-dashed border-slate-600 p-3 rounded-lg opacity-50",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700"}),S.jsxs("span",{className:"text-slate-500",children:["... ",n.isHost?"( AI )":""]})]},x))]}),n.isHost?S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs(De,{onClick:Vm,className:"w-full py-3 text-lg",children:[" (",r.length,"/",n.playerCount,")"]}),S.jsx("p",{className:"text-xs text-center text-slate-500",children:" AI "})]}):S.jsxs("div",{className:"text-center text-slate-400 animate-pulse",children:["...",S.jsx("br",{}),S.jsx("span",{className:"text-xs text-slate-500 mt-2 block",children:""})]}),S.jsx(De,{variant:"ghost",onClick:t,className:"w-full mt-4",children:""})]})});const Tt=r[s],Va=(Tt==null?void 0:Tt.id)===fe&&E===ce.PLAYING,He=r.find(w=>w.id===fe),zm=r.filter(w=>w.id!==fe),Jm=!He&&E===ce.PLAYING,Wm=w=>!!(E===ce.GAME_OVER||E===ce.ROUND_END||w.id===fe||He!=null&&He.isEliminated);return Jm?S.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl border border-rose-900/50 text-center max-w-md",children:[S.jsx("div",{className:"text-4xl mb-4",children:""}),S.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:""}),S.jsx("p",{className:"text-slate-400 mb-6",children:""}),S.jsx(De,{onClick:t,children:""})]})}):S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col overflow-hidden font-sans",children:[S.jsxs("div",{className:"h-14 border-b border-slate-800 flex items-center justify-between px-4 bg-slate-950",children:[S.jsxs("span",{className:"font-bold text-indigo-400 tracking-wider",children:["GEMINI  ",n.mode==="multiplayer"?`(Room: ${n.roomId})`:""]}),S.jsx(De,{variant:"ghost",onClick:t,className:"text-xs",children:""})]}),S.jsxs("div",{className:"flex-1 relative flex flex-col",children:[S.jsx("div",{className:"flex-1 flex items-start justify-center p-4 gap-4 flex-wrap content-start",children:zm.map(w=>S.jsxs("div",{className:`
                            relative flex flex-col items-center p-3 rounded-xl transition-all duration-300 min-w-[120px]
                            ${(Tt==null?void 0:Tt.id)===w.id?"bg-indigo-900/40 ring-2 ring-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.3)] scale-105":"bg-slate-800/50"}
                            ${w.isEliminated?"opacity-30 grayscale":""}
                        `,children:[S.jsxs("div",{className:`relative w-12 h-12 rounded-full mb-2 flex items-center justify-center font-bold text-lg shadow-lg ${Ar[w.avatarSeed%Ar.length]}`,children:[w.name.charAt(0),Q[w.id]&&S.jsx("div",{className:"absolute -top-10 -right-4 text-4xl animate-bounce-in z-20 filter drop-shadow-lg",children:Q[w.id]})]}),S.jsx("div",{className:"text-sm font-semibold mb-1",children:w.name}),n.gameMode==="hearts"?S.jsx("div",{className:"flex gap-0.5 mb-1 h-4",children:Array.from({length:Math.max(0,w.health)}).map((x,k)=>S.jsx("span",{className:"text-xs text-rose-500 drop-shadow-sm",children:""},k))}):null,S.jsxs("div",{className:"flex gap-1 flex-wrap justify-center",children:[w.dice.map((x,k)=>S.jsx(kr,{value:x,hidden:!Wm(w),size:"sm"},k)),n.gameMode==="classic"&&Array.from({length:w.diceCount-w.dice.length}).map((x,k)=>S.jsx("div",{className:"w-8 h-8 rounded border border-slate-700 bg-slate-800 opacity-50"},`lost-${k}`))]}),(c==null?void 0:c.playerId)===w.id&&S.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-white text-slate-900 text-xs px-2 py-1 rounded-full font-bold shadow whitespace-nowrap z-10",children:[": ",c.quantity,"  ",wr[c.face]]}),(N==null?void 0:N.loserId)===w.id&&E===ce.ROUND_END&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-rose-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow whitespace-nowrap z-10 animate-bounce",children:"!"})]},w.id))}),S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none z-0",children:S.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-sm p-6 rounded-3xl border border-slate-700 flex flex-col items-center shadow-2xl",children:[S.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-widest mb-2",children:""}),c?S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-5xl font-black text-indigo-400",children:c.quantity}),S.jsx("span",{className:"text-2xl text-slate-500",children:"x"}),S.jsx(kr,{value:c.face,size:"md"})]}):S.jsx("div",{className:"text-slate-500 italic",children:"..."}),S.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:[": ",I]})]})}),S.jsxs("div",{className:"absolute left-4 bottom-24 w-72 flex flex-col gap-2 z-30 hidden md:flex",children:[S.jsx("div",{className:"h-48 overflow-y-auto flex flex-col justify-end text-sm space-y-1 mask-linear-gradient",ref:In,children:p.slice(-8).map(w=>S.jsx("div",{className:`
                            px-3 py-1.5 rounded backdrop-blur-md border-l-2 mb-1 shadow-sm break-words
                            ${w.type==="bid"?"bg-black/40 border-indigo-400 text-indigo-100":""}
                            ${w.type==="challenge"?"bg-black/40 border-rose-500 text-rose-100":""}
                            ${w.type==="info"?"bg-black/20 border-slate-500 text-slate-300":""}
                            ${w.type==="error"?"bg-black/40 border-red-500 text-red-300":""}
                            ${w.type==="win"?"bg-black/40 border-yellow-500 text-yellow-300":""}
                            ${w.type==="chat"?"bg-slate-800/80 border-white/50 text-white":""}
                         `,children:w.message},w.id))}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:Gt,onChange:w=>mt(w.target.value),onKeyDown:w=>w.key==="Enter"&&Fa(),placeholder:"...",className:"flex-1 bg-slate-800/80 border border-slate-600 rounded px-3 py-1.5 text-sm focus:outline-none focus:border-indigo-500 placeholder-slate-500"}),S.jsx(De,{variant:"secondary",onClick:Fa,className:"px-3 py-1.5 text-xs h-auto",children:""})]})]}),He&&S.jsxs("div",{className:`mt-auto bg-slate-900 border-t border-slate-800 p-4 transition-colors duration-500 ${Va?"bg-indigo-950/30":""} relative`,children:[S.jsxs("div",{className:"absolute top-[-60px] right-4 z-40",children:[G&&S.jsx("div",{className:"absolute bottom-16 right-0 bg-slate-800 p-4 rounded-2xl shadow-2xl border border-slate-600 grid grid-cols-4 gap-4 animate-fade-in-up w-max z-50",children:Es.map(w=>S.jsx("button",{className:"text-3xl hover:scale-125 transition-transform p-2 bg-slate-700/50 rounded-lg hover:bg-slate-600",onClick:()=>Bm(w),children:w},w))}),S.jsx("button",{onClick:()=>q(!G),className:"bg-slate-800 hover:bg-slate-700 text-3xl w-12 h-12 rounded-full shadow-lg border border-slate-600 transition-colors flex items-center justify-center",children:""})]}),S.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-6",children:[S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsxs("div",{className:"relative",children:[Q[He.id]&&S.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 text-4xl animate-bounce-in z-20",children:Q[He.id]}),S.jsx("div",{className:"flex gap-2 mb-2",children:He.dice.map((w,x)=>S.jsx(kr,{value:w,size:"md"},x))})]}),S.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[" (",He.name,")",n.gameMode==="hearts"&&S.jsx("div",{className:"flex gap-0.5 ml-2",children:Array.from({length:Math.max(0,He.health)}).map((w,x)=>S.jsx("span",{className:"text-sm text-rose-500 drop-shadow-sm",children:""},x))})]})]}),S.jsx("div",{className:"flex-1 w-full flex flex-col gap-3",children:Va?S.jsxs("div",{className:"flex flex-col gap-3 animate-fade-in-up",children:[S.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 bg-slate-800 p-3 rounded-xl border border-slate-700",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{className:"w-8 h-8 rounded bg-slate-700 hover:bg-slate-600 flex items-center justify-center font-bold",onClick:()=>L(Math.max(1,M-1)),children:"-"}),S.jsx("div",{className:"w-12 text-center font-mono text-xl",children:M}),S.jsx("button",{className:"w-8 h-8 rounded bg-slate-700 hover:bg-slate-600 flex items-center justify-center font-bold",onClick:()=>L(M+1),children:"+"})]}),S.jsx("span",{className:"text-slate-500",children:""}),S.jsx("div",{className:"flex gap-1",children:Sy.map(w=>S.jsx("button",{onClick:()=>te(w),className:`
                                                        w-10 h-10 rounded-lg flex items-center justify-center transition-all
                                                        ${$===w?"bg-indigo-600 ring-2 ring-indigo-400 scale-110":"bg-slate-700 hover:bg-slate-600 opacity-70"}
                                                    `,children:S.jsx(kr,{value:w,size:"sm"})},w))})]}),S.jsxs("div",{className:"flex gap-4 justify-center",children:[c&&S.jsx(De,{variant:"danger",onClick:()=>co(He.id),className:"flex-1 max-w-[150px]",children:"()"}),S.jsx(De,{variant:"primary",onClick:()=>{_s(c,M,$)?Ji(He.id,M,$):alert("")},disabled:!_s(c,M,$),className:"flex-1 max-w-[200px]",children:" (Bid)"})]})]}):S.jsx("div",{className:"flex items-center justify-center h-full",children:He.isEliminated?S.jsx("div",{className:"text-rose-400 font-bold animate-pulse",children:" ()"}):S.jsxs("div",{className:"text-slate-400 animate-pulse font-mono flex items-center gap-2",children:[Z&&S.jsx("span",{className:"animate-spin text-xl",children:""}),Z?"AI ...":` ${Tt==null?void 0:Tt.name} ...`]})})})]})]}),E===ce.GAME_OVER&&S.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 flex items-center justify-center p-4 backdrop-blur-md",children:S.jsxs("div",{className:"bg-slate-900 p-10 rounded-3xl shadow-2xl text-center border-2 border-slate-700 max-w-md w-full animate-bounce-in relative overflow-hidden",children:[S.jsx("style",{children:`
                        @keyframes grow-pulse {
                            0% { transform: scale(1); }
                            50% { transform: scale(1.1); }
                            100% { transform: scale(1); }
                        }
                        .animate-grow {
                            animation: grow-pulse 1.5s infinite ease-in-out;
                        }
                      `}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),S.jsxs("div",{className:"mb-10",children:[S.jsx("h2",{className:"text-4xl md:text-5xl font-black text-indigo-400 uppercase tracking-[0.2em] mb-4 drop-shadow-md",children:"Winner"}),S.jsx("div",{className:"text-8xl mb-4 drop-shadow-lg",children:""}),S.jsx("p",{className:"text-6xl font-black text-white drop-shadow-[0_0_15px_rgba(99,102,241,0.5)]",children:g})]}),S.jsxs("div",{className:"mb-10 p-6 bg-rose-950/40 rounded-2xl border-2 border-rose-900/50",children:[S.jsx("h2",{className:"text-4xl md:text-5xl font-black text-rose-500 uppercase tracking-[0.2em] mb-2 animate-grow drop-shadow-md",children:"Loser"}),S.jsx("div",{className:"text-5xl mb-2 grayscale opacity-80",children:""}),S.jsx("p",{className:"text-4xl font-bold text-rose-200",children:C})]}),n.isHost?S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx(De,{onClick:Gm,className:"w-full py-4 text-xl font-bold bg-indigo-600 hover:bg-indigo-500",children:" (Restart)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(De,{onClick:Hm,variant:"secondary",className:"flex-1",children:""}),S.jsx(De,{onClick:t,variant:"ghost",className:"flex-1 text-slate-400",children:""})]})]}):S.jsxs("div",{children:[S.jsx("p",{className:"text-slate-400 animate-pulse mb-4",children:"..."}),S.jsx(De,{onClick:t,variant:"secondary",className:"w-full",children:""})]})]})})]})]})},XC=()=>{const[e,t]=B.useState(!1),[n,o]=B.useState(null),r=s=>{o(s),t(!0)},i=()=>{t(!1),o(null)};return S.jsxs("div",{className:"antialiased text-slate-100 selection:bg-indigo-500 selection:text-white relative",children:[e?n&&S.jsx(QC,{settings:n,onLeave:i}):S.jsx(Ry,{onStartGame:r}),S.jsx("div",{className:"fixed bottom-1 right-2 text-[10px] text-slate-600 font-mono pointer-events-none z-50 opacity-60",children:"v1.1.7"})]})},Mm=document.getElementById("root");if(!Mm)throw new Error("Could not find root element to mount to");const ZC=Is.createRoot(Mm);ZC.render(S.jsx(uh.StrictMode,{children:S.jsx(XC,{})}));
